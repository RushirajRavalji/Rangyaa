(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2],{1075:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/register/complete",function(){return s(509)}])},509:function(e,t,s){"use strict";s.r(t);var r=s(5893),a=s(7294),o=s(1163),i=s(1664),n=s.n(i),u=s(2091),c=s(3133),l=s(9368),_=s(3323),h=s.n(_);t.default=()=>{let[e,t]=(0,a.useState)(""),[s,i]=(0,a.useState)(""),[_,d]=(0,a.useState)(""),[m,p]=(0,a.useState)(""),[f,x]=(0,a.useState)(!1),[g,A]=(0,a.useState)(!1),[v,N]=(0,a.useState)({}),j=(0,o.useRouter)(),{register:w}=(0,l.a)();(0,a.useEffect)(()=>{{let e=localStorage.getItem("pendingVerificationEmail");e?i(e):j.push("/register")}},[j]);let S=()=>{let t={},s=!0;return e.trim()||(t.name="Name is required",s=!1),_?_.length<6&&(t.password="Password must be at least 6 characters",s=!1):(t.password="Password is required",s=!1),m?_!==m&&(t.confirmPassword="Passwords do not match",s=!1):(t.confirmPassword="Please confirm your password",s=!1),N(t),s},b=async t=>{if(t.preventDefault(),S()){x(!0),N({});try{let t=await w(e,s,_);t.success?(localStorage.removeItem("pendingVerificationEmail"),window.showNotification&&window.showNotification("Registration successful! Welcome to Nikhil's Jeans.","success"),A(!0),setTimeout(()=>{j.push("/")},2e3)):N({general:t.message})}catch(e){N({general:"An error occurred during registration"})}finally{x(!1)}}};return(0,r.jsx)(c.Z,{title:"Complete Registration - Nikhil's Jeans",children:(0,r.jsx)("div",{className:h().authContainer,children:(0,r.jsx)("div",{className:h().authBox,children:g?(0,r.jsxs)("div",{className:h().successMessage,children:[(0,r.jsx)("h2",{children:"Registration Complete!"}),(0,r.jsx)("p",{children:"Welcome to Nikhil's Jeans! You're being redirected to the homepage..."})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:h().authHeader,children:[(0,r.jsx)("h1",{children:"Complete Your Registration"}),(0,r.jsx)("p",{children:"Your email has been verified. Complete the form below to finish creating your account."})]}),v.general&&(0,r.jsx)("div",{className:h().errorMessage,children:v.general}),(0,r.jsxs)("form",{onSubmit:b,className:h().authForm,children:[(0,r.jsxs)("div",{className:h().formGroup,children:[(0,r.jsxs)("div",{className:h().inputWithIcon,children:[(0,r.jsx)(u.Xws,{className:h().inputIcon}),(0,r.jsx)("input",{type:"text",value:e,onChange:e=>t(e.target.value),placeholder:"Full Name",className:v.name?h().inputError:""})]}),v.name&&(0,r.jsx)("div",{className:h().errorText,children:v.name})]}),(0,r.jsx)("div",{className:h().formGroup,children:(0,r.jsxs)("div",{className:h().inputWithoutIcon,children:[(0,r.jsx)("input",{type:"email",value:s,readOnly:!0,disabled:!0,className:h().disabledInput}),(0,r.jsx)("div",{className:h().smallText,children:"Email verified âœ“"})]})}),(0,r.jsxs)("div",{className:h().formGroup,children:[(0,r.jsxs)("div",{className:h().inputWithIcon,children:[(0,r.jsx)(u.kUi,{className:h().inputIcon}),(0,r.jsx)("input",{type:"password",value:_,onChange:e=>d(e.target.value),placeholder:"Password",className:v.password?h().inputError:""})]}),v.password&&(0,r.jsx)("div",{className:h().errorText,children:v.password})]}),(0,r.jsxs)("div",{className:h().formGroup,children:[(0,r.jsxs)("div",{className:h().inputWithIcon,children:[(0,r.jsx)(u.kUi,{className:h().inputIcon}),(0,r.jsx)("input",{type:"password",value:m,onChange:e=>p(e.target.value),placeholder:"Confirm Password",className:v.confirmPassword?h().inputError:""})]}),v.confirmPassword&&(0,r.jsx)("div",{className:h().errorText,children:v.confirmPassword})]}),(0,r.jsx)("div",{className:h().termsCheck,children:(0,r.jsxs)("label",{children:[(0,r.jsx)("input",{type:"checkbox",required:!0}),(0,r.jsxs)("span",{children:["I agree to the ",(0,r.jsx)(n(),{href:"/terms",children:"Terms of Service"})," and ",(0,r.jsx)(n(),{href:"/privacy",children:"Privacy Policy"})]})]})}),(0,r.jsxs)("button",{type:"submit",className:h().authButton,disabled:f,children:[f?"Creating Account...":"Complete Registration",!f&&(0,r.jsx)(u.Z1Y,{})]})]})]})})})})}},3323:function(e){e.exports={authContainer:"Auth_authContainer__krRUD",authBox:"Auth_authBox__5RrEW",authHeader:"Auth_authHeader__tImyy",authForm:"Auth_authForm__Q3DLf",formGroup:"Auth_formGroup__9PGF_",inputWithIcon:"Auth_inputWithIcon__E30Qx",inputIcon:"Auth_inputIcon__CfFFk",inputError:"Auth_inputError__8efgK",errorText:"Auth_errorText__FtdKD",errorMessage:"Auth_errorMessage__BAq2s",forgotPassword:"Auth_forgotPassword__bH__X",authButton:"Auth_authButton__FY9nb",demoButton:"Auth_demoButton__SS_bt",socialLogin:"Auth_socialLogin__0SQrX",socialSeparator:"Auth_socialSeparator__wNJSs",socialButtons:"Auth_socialButtons___sfR3",socialButton:"Auth_socialButton__9eCca",googleButton:"Auth_googleButton__4C_0m",facebookButton:"Auth_facebookButton__1Jlfx",authSwitch:"Auth_authSwitch__QU422",termsCheck:"Auth_termsCheck__1soSS",successMessage:"Auth_successMessage__Nbmdt",smallText:"Auth_smallText___Fn1p",backToLogin:"Auth_backToLogin__WXUBT",verificationMessage:"Auth_verificationMessage__JQCur",resendLink:"Auth_resendLink__xJDw8",verificationContainer:"Auth_verificationContainer__f38PA",verifyingState:"Auth_verifyingState__ZomE7",successState:"Auth_successState__sP4R_",errorState:"Auth_errorState__uunBv",spinner:"Auth_spinner__fRASl",spin:"Auth_spin__3Kb1j",successIcon:"Auth_successIcon__h5Mnu",errorIcon:"Auth_errorIcon__7sb9Y",actionButtons:"Auth_actionButtons__UI8ZV",primaryButton:"Auth_primaryButton__MCkc9",secondaryButton:"Auth_secondaryButton__o9IMv",inputWithoutIcon:"Auth_inputWithoutIcon__BDMof",disabledInput:"Auth_disabledInput__xcpEZ",verificationNote:"Auth_verificationNote__1AuDi"}},9008:function(e,t,s){e.exports=s(6665)}},function(e){e.O(0,[365,913,133,888,774,179],function(){return e(e.s=1075)}),_N_E=e.O()}]);