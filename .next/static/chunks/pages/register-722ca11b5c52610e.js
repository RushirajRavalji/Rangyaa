(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[495],{4722:function(e,t,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/register",function(){return i(6349)}])},6349:function(e,t,i){"use strict";i.r(t);var s=i(5893),r=i(7294),a=i(1163),n=i(1664),o=i.n(n),c=i(2091),u=i(3133),l=i(8368),h=i(3323),d=i.n(h);t.default=()=>{let[e,t]=(0,r.useState)(""),[i,n]=(0,r.useState)(""),[h,_]=(0,r.useState)(!1),[m,f]=(0,r.useState)(!1),[p,g]=(0,r.useState)({}),x=(0,a.useRouter)(),v=()=>{let t={},s=!0;return e.trim()||(t.name="Name is required",s=!1),i.trim()?/\S+@\S+\.\S+/.test(i)||(t.email="Email is invalid",s=!1):(t.email="Email is required",s=!1),g(t),s},y=async e=>{if(e.preventDefault(),v()){_(!0),g({});try{let e=await (0,l.UD)(i);e.success?(window.showNotification&&window.showNotification("Verification email sent. Please check your inbox and verify your email before continuing.","success"),f(!0)):g({general:e.message})}catch(e){g({general:"An error occurred while sending verification email"})}finally{_(!1)}}},w=async()=>{_(!0),g({});try{let e=await (0,l.qj)();e.success?(window.showNotification&&window.showNotification("Signup with Google successful!","success"),x.push("/")):g({general:e.message})}catch(e){g({general:"An error occurred during Google signup"})}finally{_(!1)}};return(0,s.jsx)(u.Z,{title:"Create Account - Nikhil's Jeans",children:(0,s.jsx)("div",{className:d().authContainer,children:(0,s.jsx)("div",{className:d().authBox,children:m?(0,s.jsxs)("div",{className:d().successMessage,children:[(0,s.jsx)("h2",{children:"Verification Email Sent!"}),(0,s.jsxs)("p",{children:["We've sent a verification email to ",(0,s.jsx)("strong",{children:i}),"."]}),(0,s.jsx)("p",{children:"Please check your inbox (and spam folder) and click the verification link to continue with your registration."}),(0,s.jsx)("p",{className:d().smallText,children:"After verification, you will be able to create a password and complete your account setup."})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:d().authHeader,children:[(0,s.jsx)("h1",{children:"Create an Account"}),(0,s.jsx)("p",{children:"Join us to start shopping"})]}),p.general&&(0,s.jsx)("div",{className:d().errorMessage,children:p.general}),(0,s.jsxs)("form",{onSubmit:y,className:d().authForm,children:[(0,s.jsxs)("div",{className:d().formGroup,children:[(0,s.jsxs)("div",{className:d().inputWithIcon,children:[(0,s.jsx)(c.Xws,{className:d().inputIcon}),(0,s.jsx)("input",{type:"text",value:e,onChange:e=>t(e.target.value),placeholder:"Full Name",className:p.name?d().inputError:""})]}),p.name&&(0,s.jsx)("div",{className:d().errorText,children:p.name})]}),(0,s.jsxs)("div",{className:d().formGroup,children:[(0,s.jsxs)("div",{className:d().inputWithIcon,children:[(0,s.jsx)(c.SRX,{className:d().inputIcon}),(0,s.jsx)("input",{type:"email",value:i,onChange:e=>n(e.target.value),placeholder:"Email Address",className:p.email?d().inputError:""})]}),p.email&&(0,s.jsx)("div",{className:d().errorText,children:p.email})]}),(0,s.jsx)("div",{className:d().verificationNote,children:(0,s.jsx)("p",{children:"We'll send a verification link to your email. Your account will only be created after verification."})}),(0,s.jsx)("div",{className:d().termsCheck,children:(0,s.jsxs)("label",{children:[(0,s.jsx)("input",{type:"checkbox",required:!0}),(0,s.jsxs)("span",{children:["I agree to the ",(0,s.jsx)(o(),{href:"/terms",children:"Terms of Service"})," and ",(0,s.jsx)(o(),{href:"/privacy",children:"Privacy Policy"})]})]})}),(0,s.jsxs)("button",{type:"submit",className:d().authButton,disabled:h,children:[h?"Sending Verification...":"Verify Email",!h&&(0,s.jsx)(c.Z1Y,{})]})]}),(0,s.jsxs)("div",{className:d().socialLogin,children:[(0,s.jsx)("div",{className:d().socialSeparator,children:(0,s.jsx)("span",{children:"or sign up with"})}),(0,s.jsx)("div",{className:d().socialButtons,children:(0,s.jsxs)("button",{type:"button",className:"".concat(d().socialButton," ").concat(d().googleButton),onClick:w,disabled:h,children:[(0,s.jsx)(c.ldW,{}),"Google"]})})]}),(0,s.jsx)("div",{className:d().authSwitch,children:(0,s.jsxs)("p",{children:["Already have an account? ",(0,s.jsx)(o(),{href:"/login",children:"Sign In"})]})})]})})})})}},8368:function(e,t,i){"use strict";i.d(t,{Od:function(){return l},UD:function(){return u},qj:function(){return c},x9:function(){return d},zk:function(){return h}});var s=i(2531),r=i(4350);let a=(0,r.v0)(s.l2),n=new r.hJ,o=e=>{var t;let i=e.user;return{id:i.uid,name:i.displayName||(null===(t=i.email)||void 0===t?void 0:t.split("@")[0])||"User",email:i.email||""}},c=async()=>{try{let e=await (0,r.rh)(a,n),t=o(e);return localStorage.setItem("nikhilsJeansUser",JSON.stringify(t)),{success:!0,message:"Successfully signed in with Google",user:t}}catch(t){console.error("Google sign-in error:",t);let e="Failed to sign in with Google";return"auth/popup-closed-by-user"===t.code?e="Sign-in popup was closed":"auth/cancelled-popup-request"===t.code?e="Multiple popup requests were made":"auth/network-request-failed"===t.code&&(e="Network error. Please check your connection"),{success:!1,message:e}}},u=async e=>{try{let t=(await (0,r.Xb)(a,e,"temp-".concat(Math.random().toString(36).substring(2,10)))).user;return await (0,r.w$)(t),localStorage.setItem("pendingVerificationEmail",e),await (0,r.w7)(a),{success:!0,message:"Verification email sent. Please check your inbox and verify your email before continuing.",verificationSent:!0}}catch(t){console.error("Pre-registration verification error:",t);let e="Failed to send verification email";return"auth/email-already-in-use"===t.code?e="An account with this email already exists":"auth/invalid-email"===t.code?e="Invalid email address":"auth/network-request-failed"===t.code&&(e="Network error. Please check your connection"),{success:!1,message:e}}},l=async e=>{try{return await (0,r.iA)(a,e),{success:!0,message:"Email verified successfully. You can now complete your registration."}}catch(t){console.error("Email verification error:",t);let e="Failed to verify email";return"auth/invalid-action-code"===t.code?e="The verification link is invalid or has expired":"auth/user-not-found"===t.code&&(e="User not found"),{success:!1,message:e}}},h=async()=>{try{let e=a.currentUser;if(!e)return{success:!1,message:"No user is currently signed in"};return await (0,r.w$)(e),{success:!0,message:"Verification email sent. Please check your inbox."}}catch(t){console.error("Error sending verification email:",t);let e="Failed to send verification email";return"auth/too-many-requests"===t.code&&(e="Too many requests. Please try again later."),{success:!1,message:e}}},d=async e=>{try{return await (0,r.LS)(a,e),{success:!0,message:"Password reset email sent. Please check your inbox."}}catch(t){console.error("Error sending password reset email:",t);let e="Failed to send password reset email";return"auth/user-not-found"===t.code?e="No user found with this email address":"auth/invalid-email"===t.code?e="Invalid email address":"auth/too-many-requests"===t.code&&(e="Too many requests. Please try again later."),{success:!1,message:e}}}},3323:function(e){e.exports={authContainer:"Auth_authContainer__krRUD",authBox:"Auth_authBox__5RrEW",authHeader:"Auth_authHeader__tImyy",authForm:"Auth_authForm__Q3DLf",formGroup:"Auth_formGroup__9PGF_",inputWithIcon:"Auth_inputWithIcon__E30Qx",inputIcon:"Auth_inputIcon__CfFFk",inputError:"Auth_inputError__8efgK",errorText:"Auth_errorText__FtdKD",errorMessage:"Auth_errorMessage__BAq2s",forgotPassword:"Auth_forgotPassword__bH__X",authButton:"Auth_authButton__FY9nb",demoButton:"Auth_demoButton__SS_bt",socialLogin:"Auth_socialLogin__0SQrX",socialSeparator:"Auth_socialSeparator__wNJSs",socialButtons:"Auth_socialButtons___sfR3",socialButton:"Auth_socialButton__9eCca",googleButton:"Auth_googleButton__4C_0m",facebookButton:"Auth_facebookButton__1Jlfx",authSwitch:"Auth_authSwitch__QU422",termsCheck:"Auth_termsCheck__1soSS",successMessage:"Auth_successMessage__Nbmdt",smallText:"Auth_smallText___Fn1p",backToLogin:"Auth_backToLogin__WXUBT",verificationMessage:"Auth_verificationMessage__JQCur",resendLink:"Auth_resendLink__xJDw8",verificationContainer:"Auth_verificationContainer__f38PA",verifyingState:"Auth_verifyingState__ZomE7",successState:"Auth_successState__sP4R_",errorState:"Auth_errorState__uunBv",spinner:"Auth_spinner__fRASl",spin:"Auth_spin__3Kb1j",successIcon:"Auth_successIcon__h5Mnu",errorIcon:"Auth_errorIcon__7sb9Y",actionButtons:"Auth_actionButtons__UI8ZV",primaryButton:"Auth_primaryButton__MCkc9",secondaryButton:"Auth_secondaryButton__o9IMv",inputWithoutIcon:"Auth_inputWithoutIcon__BDMof",disabledInput:"Auth_disabledInput__xcpEZ",verificationNote:"Auth_verificationNote__1AuDi"}},9008:function(e,t,i){e.exports=i(6665)}},function(e){e.O(0,[365,913,133,888,774,179],function(){return e(e.s=4722)}),_N_E=e.O()}]);