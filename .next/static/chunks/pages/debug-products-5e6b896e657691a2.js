(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[552],{8687:function(i,d,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/debug-products",function(){return e(4418)}])},4418:function(i,d,e){"use strict";e.r(d),e.d(d,{default:function(){return c}});var n=e(5893),s=e(3133),r=e(1784),l=e(5675),t=e.n(l);function c(){let{loading:i,error:d,products:e}=(0,r.r)(),l=e.find(i=>i.name.toLowerCase().includes("skinny jeans")),c=e.map(i=>{let d=i.discount||0;return!i.discount&&i.originalPrice&&i.price&&(d=Math.round((i.originalPrice-i.price)/i.originalPrice*100)),{...i,calculatedDiscount:d}});return(0,n.jsx)(s.Z,{title:"Debug Products",children:(0,n.jsxs)("div",{className:"container",style:{padding:"80px 20px"},children:[(0,n.jsx)("h1",{children:"Product Discount Debugger"}),i?(0,n.jsx)("div",{children:"Loading products..."}):d?(0,n.jsxs)("div",{children:["Error loading products: ",d]}):(0,n.jsxs)("div",{children:[(0,n.jsx)("h2",{children:"Potential Product from Image:"}),l?(0,n.jsxs)("div",{className:"debug-product",children:[(0,n.jsxs)("div",{style:{display:"flex",gap:"20px",marginBottom:"20px"},children:[(0,n.jsx)("div",{style:{width:"200px",height:"200px",position:"relative"},children:(0,n.jsx)(t(),{src:l.image,alt:l.name,fill:!0,style:{objectFit:"cover"}})}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{children:l.name}),(0,n.jsxs)("p",{children:["Category: ",l.category]}),(0,n.jsxs)("p",{children:["Price: ₹",l.price]}),l.originalPrice&&(0,n.jsxs)("p",{children:["Original Price: ₹",l.originalPrice]}),(0,n.jsxs)("p",{children:["Has 'discount' property: ",void 0!==l.discount?"Yes":"No"]}),l.discount&&(0,n.jsxs)("p",{children:["Explicit discount: ",l.discount,"%"]}),l.originalPrice&&(0,n.jsxs)("p",{children:["Calculated discount:",Math.round((l.originalPrice-l.price)/l.originalPrice*100),"%"]}),(0,n.jsxs)("p",{children:[(0,n.jsx)("strong",{children:"Should appear in sale section: "}),l.discount&&l.discount>=40||l.originalPrice&&(l.originalPrice-l.price)/l.originalPrice*100>=40?"Yes":"No"]}),(0,n.jsxs)("p",{children:['Is "New": ',l.new?"Yes":"No"]})]})]}),(0,n.jsx)("pre",{style:{background:"#f5f5f5",padding:"10px",overflowX:"auto"},children:JSON.stringify(l,null,2)})]}):(0,n.jsx)("p",{children:'No product that matches "Stretch Denim Skinny Jeans" was found.'}),(0,n.jsx)("h2",{children:"All Products with Calculated Discounts:"}),(0,n.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse"},children:[(0,n.jsx)("thead",{children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{style:{border:"1px solid #ddd",padding:"8px",textAlign:"left"},children:"Name"}),(0,n.jsx)("th",{style:{border:"1px solid #ddd",padding:"8px",textAlign:"left"},children:"Price"}),(0,n.jsx)("th",{style:{border:"1px solid #ddd",padding:"8px",textAlign:"left"},children:"Original"}),(0,n.jsx)("th",{style:{border:"1px solid #ddd",padding:"8px",textAlign:"left"},children:"Explicit Discount"}),(0,n.jsx)("th",{style:{border:"1px solid #ddd",padding:"8px",textAlign:"left"},children:"Calculated"}),(0,n.jsx)("th",{style:{border:"1px solid #ddd",padding:"8px",textAlign:"left"},children:"In Sale?"})]})}),(0,n.jsx)("tbody",{children:c.map(i=>(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{style:{border:"1px solid #ddd",padding:"8px"},children:i.name}),(0,n.jsxs)("td",{style:{border:"1px solid #ddd",padding:"8px"},children:["₹",i.price]}),(0,n.jsx)("td",{style:{border:"1px solid #ddd",padding:"8px"},children:i.originalPrice?"₹".concat(i.originalPrice):"-"}),(0,n.jsx)("td",{style:{border:"1px solid #ddd",padding:"8px"},children:i.discount?"".concat(i.discount,"%"):"-"}),(0,n.jsxs)("td",{style:{border:"1px solid #ddd",padding:"8px"},children:[i.calculatedDiscount,"%"]}),(0,n.jsx)("td",{style:{border:"1px solid #ddd",padding:"8px"},children:i.calculatedDiscount>=40?"Yes":"No"})]},i.id))})]}),(0,n.jsxs)("div",{style:{marginTop:"20px"},children:[(0,n.jsx)("h3",{children:"Fix Solutions:"}),(0,n.jsxs)("ol",{children:[(0,n.jsxs)("li",{children:[(0,n.jsx)("strong",{children:"Update Product Data:"}),' Add the explicit discount field to products, especially the "Stretch Denim Skinny Jeans" product (set discount: 47)']}),(0,n.jsxs)("li",{children:[(0,n.jsx)("strong",{children:"Use the Sale Page Solution:"})," The updated Sale page now includes both explicit and implicit discounts (calculating from original and current prices)"]})]})]})]})]})})}}},function(i){i.O(0,[365,913,959,133,888,774,179],function(){return i(i.s=8687)}),_N_E=i.O()}]);