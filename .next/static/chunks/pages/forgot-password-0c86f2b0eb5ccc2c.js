(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[742],{7627:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/forgot-password",function(){return s(3581)}])},3581:function(e,t,s){"use strict";s.r(t);var r=s(5893),a=s(7294),o=s(1163),i=s(1664),n=s.n(i),u=s(2091),c=s(3133),l=s(8368),h=s(3323),_=s.n(h);t.default=()=>{let[e,t]=(0,a.useState)(""),[s,i]=(0,a.useState)(!1),[h,d]=(0,a.useState)(!1),[m,f]=(0,a.useState)({});(0,o.useRouter)();let p=()=>{let t={},s=!0;return e.trim()?/\S+@\S+\.\S+/.test(e)||(t.email="Email is invalid",s=!1):(t.email="Email is required",s=!1),f(t),s},g=async t=>{if(t.preventDefault(),p()){i(!0),f({});try{let t=await (0,l.x9)(e);t.success?(d(!0),window.showNotification&&window.showNotification("Password reset email sent. Please check your inbox.","success")):f({general:t.message})}catch(e){f({general:"An error occurred while sending the password reset email"})}finally{i(!1)}}};return(0,r.jsx)(c.Z,{title:"Forgot Password - Nikhil's Jeans",children:(0,r.jsx)("div",{className:_().authContainer,children:(0,r.jsxs)("div",{className:_().authBox,children:[(0,r.jsxs)("div",{className:_().authHeader,children:[(0,r.jsx)("h1",{children:"Forgot Password"}),(0,r.jsx)("p",{children:"Enter your email to reset your password"})]}),m.general&&(0,r.jsx)("div",{className:_().errorMessage,children:m.general}),h?(0,r.jsxs)("div",{className:_().successMessage,children:[(0,r.jsx)("p",{children:"We've sent a password reset link to your email address. Please check your inbox and follow the instructions to reset your password."}),(0,r.jsx)("p",{className:_().smallText,children:"If you don't see the email, please check your spam folder."}),(0,r.jsxs)(n(),{href:"/login",className:_().backToLogin,children:[(0,r.jsx)(u.x_l,{})," Back to Login"]})]}):(0,r.jsxs)("form",{onSubmit:g,className:_().authForm,children:[(0,r.jsxs)("div",{className:_().formGroup,children:[(0,r.jsxs)("div",{className:_().inputWithIcon,children:[(0,r.jsx)(u.SRX,{className:_().inputIcon}),(0,r.jsx)("input",{type:"email",value:e,onChange:e=>t(e.target.value),placeholder:"Email Address",className:m.email?_().inputError:""})]}),m.email&&(0,r.jsx)("div",{className:_().errorText,children:m.email})]}),(0,r.jsx)("button",{type:"submit",className:_().authButton,disabled:s,children:s?"Sending...":"Reset Password"}),(0,r.jsx)("div",{className:_().authSwitch,children:(0,r.jsxs)("p",{children:["Remember your password? ",(0,r.jsx)(n(),{href:"/login",children:"Sign In"})]})})]})]})})})}},8368:function(e,t,s){"use strict";s.d(t,{Od:function(){return l},UD:function(){return c},qj:function(){return u},x9:function(){return _},zk:function(){return h}});var r=s(2531),a=s(4350);let o=(0,a.v0)(r.l2),i=new a.hJ,n=e=>{var t;let s=e.user;return{id:s.uid,name:s.displayName||(null===(t=s.email)||void 0===t?void 0:t.split("@")[0])||"User",email:s.email||""}},u=async()=>{try{let e=await (0,a.rh)(o,i),t=n(e);return localStorage.setItem("nikhilsJeansUser",JSON.stringify(t)),{success:!0,message:"Successfully signed in with Google",user:t}}catch(t){console.error("Google sign-in error:",t);let e="Failed to sign in with Google";return"auth/popup-closed-by-user"===t.code?e="Sign-in popup was closed":"auth/cancelled-popup-request"===t.code?e="Multiple popup requests were made":"auth/network-request-failed"===t.code&&(e="Network error. Please check your connection"),{success:!1,message:e}}},c=async e=>{try{let t=(await (0,a.Xb)(o,e,"temp-".concat(Math.random().toString(36).substring(2,10)))).user;return await (0,a.w$)(t),localStorage.setItem("pendingVerificationEmail",e),await (0,a.w7)(o),{success:!0,message:"Verification email sent. Please check your inbox and verify your email before continuing.",verificationSent:!0}}catch(t){console.error("Pre-registration verification error:",t);let e="Failed to send verification email";return"auth/email-already-in-use"===t.code?e="An account with this email already exists":"auth/invalid-email"===t.code?e="Invalid email address":"auth/network-request-failed"===t.code&&(e="Network error. Please check your connection"),{success:!1,message:e}}},l=async e=>{try{return await (0,a.iA)(o,e),{success:!0,message:"Email verified successfully. You can now complete your registration."}}catch(t){console.error("Email verification error:",t);let e="Failed to verify email";return"auth/invalid-action-code"===t.code?e="The verification link is invalid or has expired":"auth/user-not-found"===t.code&&(e="User not found"),{success:!1,message:e}}},h=async()=>{try{let e=o.currentUser;if(!e)return{success:!1,message:"No user is currently signed in"};return await (0,a.w$)(e),{success:!0,message:"Verification email sent. Please check your inbox."}}catch(t){console.error("Error sending verification email:",t);let e="Failed to send verification email";return"auth/too-many-requests"===t.code&&(e="Too many requests. Please try again later."),{success:!1,message:e}}},_=async e=>{try{return await (0,a.LS)(o,e),{success:!0,message:"Password reset email sent. Please check your inbox."}}catch(t){console.error("Error sending password reset email:",t);let e="Failed to send password reset email";return"auth/user-not-found"===t.code?e="No user found with this email address":"auth/invalid-email"===t.code?e="Invalid email address":"auth/too-many-requests"===t.code&&(e="Too many requests. Please try again later."),{success:!1,message:e}}}},3323:function(e){e.exports={authContainer:"Auth_authContainer__krRUD",authBox:"Auth_authBox__5RrEW",authHeader:"Auth_authHeader__tImyy",authForm:"Auth_authForm__Q3DLf",formGroup:"Auth_formGroup__9PGF_",inputWithIcon:"Auth_inputWithIcon__E30Qx",inputIcon:"Auth_inputIcon__CfFFk",inputError:"Auth_inputError__8efgK",errorText:"Auth_errorText__FtdKD",errorMessage:"Auth_errorMessage__BAq2s",forgotPassword:"Auth_forgotPassword__bH__X",authButton:"Auth_authButton__FY9nb",demoButton:"Auth_demoButton__SS_bt",socialLogin:"Auth_socialLogin__0SQrX",socialSeparator:"Auth_socialSeparator__wNJSs",socialButtons:"Auth_socialButtons___sfR3",socialButton:"Auth_socialButton__9eCca",googleButton:"Auth_googleButton__4C_0m",facebookButton:"Auth_facebookButton__1Jlfx",authSwitch:"Auth_authSwitch__QU422",termsCheck:"Auth_termsCheck__1soSS",successMessage:"Auth_successMessage__Nbmdt",smallText:"Auth_smallText___Fn1p",backToLogin:"Auth_backToLogin__WXUBT",verificationMessage:"Auth_verificationMessage__JQCur",resendLink:"Auth_resendLink__xJDw8",verificationContainer:"Auth_verificationContainer__f38PA",verifyingState:"Auth_verifyingState__ZomE7",successState:"Auth_successState__sP4R_",errorState:"Auth_errorState__uunBv",spinner:"Auth_spinner__fRASl",spin:"Auth_spin__3Kb1j",successIcon:"Auth_successIcon__h5Mnu",errorIcon:"Auth_errorIcon__7sb9Y",actionButtons:"Auth_actionButtons__UI8ZV",primaryButton:"Auth_primaryButton__MCkc9",secondaryButton:"Auth_secondaryButton__o9IMv",inputWithoutIcon:"Auth_inputWithoutIcon__BDMof",disabledInput:"Auth_disabledInput__xcpEZ",verificationNote:"Auth_verificationNote__1AuDi"}},9008:function(e,t,s){e.exports=s(6665)}},function(e){e.O(0,[365,913,133,888,774,179],function(){return e(e.s=7627)}),_N_E=e.O()}]);