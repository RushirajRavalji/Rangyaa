/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "/_error";
exports.ids = ["/_error"];
exports.modules = {

/***/ "./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES&page=%2F_error&preferredRegion=&absolutePagePath=.%2Fnode_modules%5Cnext%5Cdist%5Cpages%5C_error.js&absoluteAppPath=private-next-pages%2F_app&absoluteDocumentPath=private-next-pages%2F_document&middlewareConfigBase64=e30%3D!":
/*!*****************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES&page=%2F_error&preferredRegion=&absolutePagePath=.%2Fnode_modules%5Cnext%5Cdist%5Cpages%5C_error.js&absoluteAppPath=private-next-pages%2F_app&absoluteDocumentPath=private-next-pages%2F_document&middlewareConfigBase64=e30%3D! ***!
  \*****************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   getServerSideProps: () => (/* binding */ getServerSideProps),\n/* harmony export */   getStaticPaths: () => (/* binding */ getStaticPaths),\n/* harmony export */   getStaticProps: () => (/* binding */ getStaticProps),\n/* harmony export */   reportWebVitals: () => (/* binding */ reportWebVitals),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   unstable_getServerProps: () => (/* binding */ unstable_getServerProps),\n/* harmony export */   unstable_getServerSideProps: () => (/* binding */ unstable_getServerSideProps),\n/* harmony export */   unstable_getStaticParams: () => (/* binding */ unstable_getStaticParams),\n/* harmony export */   unstable_getStaticPaths: () => (/* binding */ unstable_getStaticPaths),\n/* harmony export */   unstable_getStaticProps: () => (/* binding */ unstable_getStaticProps)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages/module.compiled */ \"./node_modules/next/dist/server/future/route-modules/pages/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var private_next_pages_document__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! private-next-pages/_document */ \"./node_modules/next/dist/pages/_document.js\");\n/* harmony import */ var private_next_pages_document__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(private_next_pages_document__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var private_next_pages_app__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! private-next-pages/_app */ \"./pages/_app.tsx\");\n/* harmony import */ var _node_modules_next_dist_pages_error_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./node_modules\\next\\dist\\pages\\_error.js */ \"./node_modules/next/dist/pages/_error.js\");\n/* harmony import */ var _node_modules_next_dist_pages_error_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_node_modules_next_dist_pages_error_js__WEBPACK_IMPORTED_MODULE_5__);\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([private_next_pages_app__WEBPACK_IMPORTED_MODULE_4__]);\nprivate_next_pages_app__WEBPACK_IMPORTED_MODULE_4__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n// Import the app and document modules.\n\n\n// Import the userland code.\n\n// Re-export the component (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_node_modules_next_dist_pages_error_js__WEBPACK_IMPORTED_MODULE_5__, \"default\"));\n// Re-export methods.\nconst getStaticProps = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_node_modules_next_dist_pages_error_js__WEBPACK_IMPORTED_MODULE_5__, \"getStaticProps\");\nconst getStaticPaths = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_node_modules_next_dist_pages_error_js__WEBPACK_IMPORTED_MODULE_5__, \"getStaticPaths\");\nconst getServerSideProps = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_node_modules_next_dist_pages_error_js__WEBPACK_IMPORTED_MODULE_5__, \"getServerSideProps\");\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_node_modules_next_dist_pages_error_js__WEBPACK_IMPORTED_MODULE_5__, \"config\");\nconst reportWebVitals = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_node_modules_next_dist_pages_error_js__WEBPACK_IMPORTED_MODULE_5__, \"reportWebVitals\");\n// Re-export legacy methods.\nconst unstable_getStaticProps = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_node_modules_next_dist_pages_error_js__WEBPACK_IMPORTED_MODULE_5__, \"unstable_getStaticProps\");\nconst unstable_getStaticPaths = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_node_modules_next_dist_pages_error_js__WEBPACK_IMPORTED_MODULE_5__, \"unstable_getStaticPaths\");\nconst unstable_getStaticParams = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_node_modules_next_dist_pages_error_js__WEBPACK_IMPORTED_MODULE_5__, \"unstable_getStaticParams\");\nconst unstable_getServerProps = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_node_modules_next_dist_pages_error_js__WEBPACK_IMPORTED_MODULE_5__, \"unstable_getServerProps\");\nconst unstable_getServerSideProps = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_node_modules_next_dist_pages_error_js__WEBPACK_IMPORTED_MODULE_5__, \"unstable_getServerSideProps\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES,\n        page: \"/_error\",\n        pathname: \"/_error\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    components: {\n        App: private_next_pages_app__WEBPACK_IMPORTED_MODULE_4__[\"default\"],\n        Document: (private_next_pages_document__WEBPACK_IMPORTED_MODULE_3___default())\n    },\n    userland: _node_modules_next_dist_pages_error_js__WEBPACK_IMPORTED_MODULE_5__\n});\n\n//# sourceMappingURL=pages.js.map\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTJnBhZ2U9JTJGX2Vycm9yJnByZWZlcnJlZFJlZ2lvbj0mYWJzb2x1dGVQYWdlUGF0aD0uJTJGbm9kZV9tb2R1bGVzJTVDbmV4dCU1Q2Rpc3QlNUNwYWdlcyU1Q19lcnJvci5qcyZhYnNvbHV0ZUFwcFBhdGg9cHJpdmF0ZS1uZXh0LXBhZ2VzJTJGX2FwcCZhYnNvbHV0ZURvY3VtZW50UGF0aD1wcml2YXRlLW5leHQtcGFnZXMlMkZfZG9jdW1lbnQmbWlkZGxld2FyZUNvbmZpZ0Jhc2U2ND1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUErRjtBQUNoQztBQUNMO0FBQzFEO0FBQ29EO0FBQ1Y7QUFDMUM7QUFDeUU7QUFDekU7QUFDQSxpRUFBZSx3RUFBSyxDQUFDLG1FQUFRLFlBQVksRUFBQztBQUMxQztBQUNPLHVCQUF1Qix3RUFBSyxDQUFDLG1FQUFRO0FBQ3JDLHVCQUF1Qix3RUFBSyxDQUFDLG1FQUFRO0FBQ3JDLDJCQUEyQix3RUFBSyxDQUFDLG1FQUFRO0FBQ3pDLGVBQWUsd0VBQUssQ0FBQyxtRUFBUTtBQUM3Qix3QkFBd0Isd0VBQUssQ0FBQyxtRUFBUTtBQUM3QztBQUNPLGdDQUFnQyx3RUFBSyxDQUFDLG1FQUFRO0FBQzlDLGdDQUFnQyx3RUFBSyxDQUFDLG1FQUFRO0FBQzlDLGlDQUFpQyx3RUFBSyxDQUFDLG1FQUFRO0FBQy9DLGdDQUFnQyx3RUFBSyxDQUFDLG1FQUFRO0FBQzlDLG9DQUFvQyx3RUFBSyxDQUFDLG1FQUFRO0FBQ3pEO0FBQ08sd0JBQXdCLHlHQUFnQjtBQUMvQztBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLFdBQVc7QUFDWCxnQkFBZ0I7QUFDaEIsS0FBSztBQUNMLFlBQVk7QUFDWixDQUFDOztBQUVELGlDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vamVhbnMtbmV4dGpzLz83NTM1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFBhZ2VzUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9wYWdlcy9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBob2lzdCB9IGZyb20gXCJuZXh0L2Rpc3QvYnVpbGQvdGVtcGxhdGVzL2hlbHBlcnNcIjtcbi8vIEltcG9ydCB0aGUgYXBwIGFuZCBkb2N1bWVudCBtb2R1bGVzLlxuaW1wb3J0IERvY3VtZW50IGZyb20gXCJwcml2YXRlLW5leHQtcGFnZXMvX2RvY3VtZW50XCI7XG5pbXBvcnQgQXBwIGZyb20gXCJwcml2YXRlLW5leHQtcGFnZXMvX2FwcFwiO1xuLy8gSW1wb3J0IHRoZSB1c2VybGFuZCBjb2RlLlxuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIi4vbm9kZV9tb2R1bGVzXFxcXG5leHRcXFxcZGlzdFxcXFxwYWdlc1xcXFxfZXJyb3IuanNcIjtcbi8vIFJlLWV4cG9ydCB0aGUgY29tcG9uZW50IChzaG91bGQgYmUgdGhlIGRlZmF1bHQgZXhwb3J0KS5cbmV4cG9ydCBkZWZhdWx0IGhvaXN0KHVzZXJsYW5kLCBcImRlZmF1bHRcIik7XG4vLyBSZS1leHBvcnQgbWV0aG9kcy5cbmV4cG9ydCBjb25zdCBnZXRTdGF0aWNQcm9wcyA9IGhvaXN0KHVzZXJsYW5kLCBcImdldFN0YXRpY1Byb3BzXCIpO1xuZXhwb3J0IGNvbnN0IGdldFN0YXRpY1BhdGhzID0gaG9pc3QodXNlcmxhbmQsIFwiZ2V0U3RhdGljUGF0aHNcIik7XG5leHBvcnQgY29uc3QgZ2V0U2VydmVyU2lkZVByb3BzID0gaG9pc3QodXNlcmxhbmQsIFwiZ2V0U2VydmVyU2lkZVByb3BzXCIpO1xuZXhwb3J0IGNvbnN0IGNvbmZpZyA9IGhvaXN0KHVzZXJsYW5kLCBcImNvbmZpZ1wiKTtcbmV4cG9ydCBjb25zdCByZXBvcnRXZWJWaXRhbHMgPSBob2lzdCh1c2VybGFuZCwgXCJyZXBvcnRXZWJWaXRhbHNcIik7XG4vLyBSZS1leHBvcnQgbGVnYWN5IG1ldGhvZHMuXG5leHBvcnQgY29uc3QgdW5zdGFibGVfZ2V0U3RhdGljUHJvcHMgPSBob2lzdCh1c2VybGFuZCwgXCJ1bnN0YWJsZV9nZXRTdGF0aWNQcm9wc1wiKTtcbmV4cG9ydCBjb25zdCB1bnN0YWJsZV9nZXRTdGF0aWNQYXRocyA9IGhvaXN0KHVzZXJsYW5kLCBcInVuc3RhYmxlX2dldFN0YXRpY1BhdGhzXCIpO1xuZXhwb3J0IGNvbnN0IHVuc3RhYmxlX2dldFN0YXRpY1BhcmFtcyA9IGhvaXN0KHVzZXJsYW5kLCBcInVuc3RhYmxlX2dldFN0YXRpY1BhcmFtc1wiKTtcbmV4cG9ydCBjb25zdCB1bnN0YWJsZV9nZXRTZXJ2ZXJQcm9wcyA9IGhvaXN0KHVzZXJsYW5kLCBcInVuc3RhYmxlX2dldFNlcnZlclByb3BzXCIpO1xuZXhwb3J0IGNvbnN0IHVuc3RhYmxlX2dldFNlcnZlclNpZGVQcm9wcyA9IGhvaXN0KHVzZXJsYW5kLCBcInVuc3RhYmxlX2dldFNlcnZlclNpZGVQcm9wc1wiKTtcbi8vIENyZWF0ZSBhbmQgZXhwb3J0IHRoZSByb3V0ZSBtb2R1bGUgdGhhdCB3aWxsIGJlIGNvbnN1bWVkLlxuZXhwb3J0IGNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IFBhZ2VzUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLlBBR0VTLFxuICAgICAgICBwYWdlOiBcIi9fZXJyb3JcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL19lcnJvclwiLFxuICAgICAgICAvLyBUaGUgZm9sbG93aW5nIGFyZW4ndCB1c2VkIGluIHByb2R1Y3Rpb24uXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcIlwiXG4gICAgfSxcbiAgICBjb21wb25lbnRzOiB7XG4gICAgICAgIEFwcCxcbiAgICAgICAgRG9jdW1lbnRcbiAgICB9LFxuICAgIHVzZXJsYW5kXG59KTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGFnZXMuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES&page=%2F_error&preferredRegion=&absolutePagePath=.%2Fnode_modules%5Cnext%5Cdist%5Cpages%5C_error.js&absoluteAppPath=private-next-pages%2F_app&absoluteDocumentPath=private-next-pages%2F_document&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "./context/AuthContext.tsx":
/*!*********************************!*\
  !*** ./context/AuthContext.tsx ***!
  \*********************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AuthProvider: () => (/* binding */ AuthProvider),\n/* harmony export */   useAuth: () => (/* binding */ useAuth)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _utils_auth__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/auth */ \"./utils/auth.ts\");\n/* harmony import */ var firebase_auth__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! firebase/auth */ \"firebase/auth\");\n/* harmony import */ var _utils_firebase__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils/firebase */ \"./utils/firebase.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_utils_auth__WEBPACK_IMPORTED_MODULE_2__, firebase_auth__WEBPACK_IMPORTED_MODULE_3__, _utils_firebase__WEBPACK_IMPORTED_MODULE_4__]);\n([_utils_auth__WEBPACK_IMPORTED_MODULE_2__, firebase_auth__WEBPACK_IMPORTED_MODULE_3__, _utils_firebase__WEBPACK_IMPORTED_MODULE_4__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\n\n\nconst AuthContext = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.createContext)(undefined);\nconst useAuth = ()=>{\n    const context = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(AuthContext);\n    if (!context) {\n        throw new Error(\"useAuth must be used within an AuthProvider\");\n    }\n    return context;\n};\nconst AuthProvider = ({ children })=>{\n    const [user, setUser] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [isLoading, setIsLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const auth = (0,firebase_auth__WEBPACK_IMPORTED_MODULE_3__.getAuth)(_utils_firebase__WEBPACK_IMPORTED_MODULE_4__.app);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        // Check if user is already logged in\n        const currentUser = (0,_utils_auth__WEBPACK_IMPORTED_MODULE_2__.getCurrentUser)();\n        setUser(currentUser);\n        // Set up Firebase auth state listener\n        const unsubscribe = (0,firebase_auth__WEBPACK_IMPORTED_MODULE_3__.onAuthStateChanged)(auth, (firebaseUser)=>{\n            setIsLoading(true);\n            if (firebaseUser) {\n                // User is signed in - the localStorage will be updated by our auth utility\n                const storedUser = (0,_utils_auth__WEBPACK_IMPORTED_MODULE_2__.getCurrentUser)();\n                setUser(storedUser);\n            } else {\n                // User is signed out\n                setUser(null);\n            }\n            setIsLoading(false);\n        });\n        setIsLoading(false);\n        // Cleanup subscription\n        return ()=>unsubscribe();\n    }, [\n        auth\n    ]);\n    const handleLogin = async (email, password)=>{\n        setIsLoading(true);\n        try {\n            const result = await (0,_utils_auth__WEBPACK_IMPORTED_MODULE_2__.login)(email, password);\n            if (result.success && result.user) {\n                setUser(result.user);\n            }\n            setIsLoading(false);\n            return {\n                success: result.success,\n                message: result.message,\n                emailVerified: result.emailVerified\n            };\n        } catch (error) {\n            setIsLoading(false);\n            return {\n                success: false,\n                message: \"An error occurred during login\"\n            };\n        }\n    };\n    const handleRegister = async (name, email, password)=>{\n        setIsLoading(true);\n        try {\n            const result = await (0,_utils_auth__WEBPACK_IMPORTED_MODULE_2__.register)(name, email, password);\n            if (result.success && result.user) {\n                setUser(result.user);\n            }\n            setIsLoading(false);\n            return {\n                success: result.success,\n                message: result.message,\n                emailVerificationSent: result.emailVerificationSent\n            };\n        } catch (error) {\n            setIsLoading(false);\n            return {\n                success: false,\n                message: \"An error occurred during registration\"\n            };\n        }\n    };\n    const handleLogout = ()=>{\n        (0,_utils_auth__WEBPACK_IMPORTED_MODULE_2__.logout)();\n        setUser(null);\n        // Show notification\n        if (false) {}\n    };\n    const value = {\n        user,\n        isLoading,\n        isAuthenticated: !!user,\n        login: handleLogin,\n        register: handleRegister,\n        logout: handleLogout\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(AuthContext.Provider, {\n        value: value,\n        children: children\n    }, void 0, false, {\n        fileName: \"C:\\\\Projects\\\\Freelansing websites\\\\rangya-master\\\\context\\\\AuthContext.tsx\",\n        lineNumber: 127,\n        columnNumber: 10\n    }, undefined);\n};\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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XSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IGNyZWF0ZUNvbnRleHQsIHVzZUNvbnRleHQsIHVzZUVmZmVjdCwgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBVc2VyIH0gZnJvbSAnLi4vZGF0YS90eXBlcyc7XG5pbXBvcnQgeyBnZXRDdXJyZW50VXNlciwgbG9naW4sIGxvZ291dCwgcmVnaXN0ZXIsIGlzQXV0aGVudGljYXRlZCB9IGZyb20gJy4uL3V0aWxzL2F1dGgnO1xuaW1wb3J0IHsgZ2V0QXV0aCwgb25BdXRoU3RhdGVDaGFuZ2VkIH0gZnJvbSAnZmlyZWJhc2UvYXV0aCc7XG5pbXBvcnQgeyBhcHAgfSBmcm9tICcuLi91dGlscy9maXJlYmFzZSc7XG5cbmludGVyZmFjZSBBdXRoQ29udGV4dFR5cGUge1xuICB1c2VyOiBVc2VyIHwgbnVsbDtcbiAgaXNMb2FkaW5nOiBib29sZWFuO1xuICBpc0F1dGhlbnRpY2F0ZWQ6IGJvb2xlYW47XG4gIGxvZ2luOiAoZW1haWw6IHN0cmluZywgcGFzc3dvcmQ6IHN0cmluZykgPT4gUHJvbWlzZTx7IFxuICAgIHN1Y2Nlc3M6IGJvb2xlYW47IFxuICAgIG1lc3NhZ2U6IHN0cmluZztcbiAgICBlbWFpbFZlcmlmaWVkPzogYm9vbGVhbjtcbiAgfT47XG4gIHJlZ2lzdGVyOiAobmFtZTogc3RyaW5nLCBlbWFpbDogc3RyaW5nLCBwYXNzd29yZDogc3RyaW5nKSA9PiBQcm9taXNlPHsgXG4gICAgc3VjY2VzczogYm9vbGVhbjsgXG4gICAgbWVzc2FnZTogc3RyaW5nO1xuICAgIGVtYWlsVmVyaWZpY2F0aW9uU2VudD86IGJvb2xlYW47XG4gIH0+O1xuICBsb2dvdXQ6ICgpID0+IHZvaWQ7XG59XG5cbmNvbnN0IEF1dGhDb250ZXh0ID0gY3JlYXRlQ29udGV4dDxBdXRoQ29udGV4dFR5cGUgfCB1bmRlZmluZWQ+KHVuZGVmaW5lZCk7XG5cbmV4cG9ydCBjb25zdCB1c2VBdXRoID0gKCkgPT4ge1xuICBjb25zdCBjb250ZXh0ID0gdXNlQ29udGV4dChBdXRoQ29udGV4dCk7XG4gIGlmICghY29udGV4dCkge1xuICAgIHRocm93IG5ldyBFcnJvcigndXNlQXV0aCBtdXN0IGJlIHVzZWQgd2l0aGluIGFuIEF1dGhQcm92aWRlcicpO1xuICB9XG4gIHJldHVybiBjb250ZXh0O1xufTtcblxuZXhwb3J0IGNvbnN0IEF1dGhQcm92aWRlcjogUmVhY3QuRkM8eyBjaGlsZHJlbjogUmVhY3QuUmVhY3ROb2RlIH0+ID0gKHsgY2hpbGRyZW4gfSkgPT4ge1xuICBjb25zdCBbdXNlciwgc2V0VXNlcl0gPSB1c2VTdGF0ZTxVc2VyIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtpc0xvYWRpbmcsIHNldElzTG9hZGluZ10gPSB1c2VTdGF0ZSh0cnVlKTtcbiAgY29uc3QgYXV0aCA9IGdldEF1dGgoYXBwKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIC8vIENoZWNrIGlmIHVzZXIgaXMgYWxyZWFkeSBsb2dnZWQgaW5cbiAgICBjb25zdCBjdXJyZW50VXNlciA9IGdldEN1cnJlbnRVc2VyKCk7XG4gICAgc2V0VXNlcihjdXJyZW50VXNlcik7XG4gICAgXG4gICAgLy8gU2V0IHVwIEZpcmViYXNlIGF1dGggc3RhdGUgbGlzdGVuZXJcbiAgICBjb25zdCB1bnN1YnNjcmliZSA9IG9uQXV0aFN0YXRlQ2hhbmdlZChhdXRoLCAoZmlyZWJhc2VVc2VyKSA9PiB7XG4gICAgICBzZXRJc0xvYWRpbmcodHJ1ZSk7XG4gICAgICBcbiAgICAgIGlmIChmaXJlYmFzZVVzZXIpIHtcbiAgICAgICAgLy8gVXNlciBpcyBzaWduZWQgaW4gLSB0aGUgbG9jYWxTdG9yYWdlIHdpbGwgYmUgdXBkYXRlZCBieSBvdXIgYXV0aCB1dGlsaXR5XG4gICAgICAgIGNvbnN0IHN0b3JlZFVzZXIgPSBnZXRDdXJyZW50VXNlcigpO1xuICAgICAgICBzZXRVc2VyKHN0b3JlZFVzZXIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gVXNlciBpcyBzaWduZWQgb3V0XG4gICAgICAgIHNldFVzZXIobnVsbCk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIHNldElzTG9hZGluZyhmYWxzZSk7XG4gICAgfSk7XG4gICAgXG4gICAgc2V0SXNMb2FkaW5nKGZhbHNlKTtcbiAgICBcbiAgICAvLyBDbGVhbnVwIHN1YnNjcmlwdGlvblxuICAgIHJldHVybiAoKSA9PiB1bnN1YnNjcmliZSgpO1xuICB9LCBbYXV0aF0pO1xuXG4gIGNvbnN0IGhhbmRsZUxvZ2luID0gYXN5bmMgKGVtYWlsOiBzdHJpbmcsIHBhc3N3b3JkOiBzdHJpbmcpID0+IHtcbiAgICBzZXRJc0xvYWRpbmcodHJ1ZSk7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGxvZ2luKGVtYWlsLCBwYXNzd29yZCk7XG4gICAgICBcbiAgICAgIGlmIChyZXN1bHQuc3VjY2VzcyAmJiByZXN1bHQudXNlcikge1xuICAgICAgICBzZXRVc2VyKHJlc3VsdC51c2VyKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgc2V0SXNMb2FkaW5nKGZhbHNlKTtcbiAgICAgIHJldHVybiB7IFxuICAgICAgICBzdWNjZXNzOiByZXN1bHQuc3VjY2VzcywgXG4gICAgICAgIG1lc3NhZ2U6IHJlc3VsdC5tZXNzYWdlLFxuICAgICAgICBlbWFpbFZlcmlmaWVkOiByZXN1bHQuZW1haWxWZXJpZmllZFxuICAgICAgfTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgc2V0SXNMb2FkaW5nKGZhbHNlKTtcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBtZXNzYWdlOiAnQW4gZXJyb3Igb2NjdXJyZWQgZHVyaW5nIGxvZ2luJyB9O1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBoYW5kbGVSZWdpc3RlciA9IGFzeW5jIChuYW1lOiBzdHJpbmcsIGVtYWlsOiBzdHJpbmcsIHBhc3N3b3JkOiBzdHJpbmcpID0+IHtcbiAgICBzZXRJc0xvYWRpbmcodHJ1ZSk7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlZ2lzdGVyKG5hbWUsIGVtYWlsLCBwYXNzd29yZCk7XG4gICAgICBcbiAgICAgIGlmIChyZXN1bHQuc3VjY2VzcyAmJiByZXN1bHQudXNlcikge1xuICAgICAgICBzZXRVc2VyKHJlc3VsdC51c2VyKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgc2V0SXNMb2FkaW5nKGZhbHNlKTtcbiAgICAgIHJldHVybiB7IFxuICAgICAgICBzdWNjZXNzOiByZXN1bHQuc3VjY2VzcywgXG4gICAgICAgIG1lc3NhZ2U6IHJlc3VsdC5tZXNzYWdlLFxuICAgICAgICBlbWFpbFZlcmlmaWNhdGlvblNlbnQ6IHJlc3VsdC5lbWFpbFZlcmlmaWNhdGlvblNlbnRcbiAgICAgIH07XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHNldElzTG9hZGluZyhmYWxzZSk7XG4gICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgbWVzc2FnZTogJ0FuIGVycm9yIG9jY3VycmVkIGR1cmluZyByZWdpc3RyYXRpb24nIH07XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGhhbmRsZUxvZ291dCA9ICgpID0+IHtcbiAgICBsb2dvdXQoKTtcbiAgICBzZXRVc2VyKG51bGwpO1xuICAgIFxuICAgIC8vIFNob3cgbm90aWZpY2F0aW9uXG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5zaG93Tm90aWZpY2F0aW9uKSB7XG4gICAgICB3aW5kb3cuc2hvd05vdGlmaWNhdGlvbignWW91IGhhdmUgYmVlbiBsb2dnZWQgb3V0Jyk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IHZhbHVlOiBBdXRoQ29udGV4dFR5cGUgPSB7XG4gICAgdXNlcixcbiAgICBpc0xvYWRpbmcsXG4gICAgaXNBdXRoZW50aWNhdGVkOiAhIXVzZXIsXG4gICAgbG9naW46IGhhbmRsZUxvZ2luLFxuICAgIHJlZ2lzdGVyOiBoYW5kbGVSZWdpc3RlcixcbiAgICBsb2dvdXQ6IGhhbmRsZUxvZ291dFxuICB9O1xuXG4gIHJldHVybiA8QXV0aENvbnRleHQuUHJvdmlkZXIgdmFsdWU9e3ZhbHVlfT57Y2hpbGRyZW59PC9BdXRoQ29udGV4dC5Qcm92aWRlcj47XG59OyAiXSwibmFtZXMiOlsiUmVhY3QiLCJjcmVhdGVDb250ZXh0IiwidXNlQ29udGV4dCIsInVzZUVmZmVjdCIsInVzZVN0YXRlIiwiZ2V0Q3VycmVudFVzZXIiLCJsb2dpbiIsImxvZ291dCIsInJlZ2lzdGVyIiwiZ2V0QXV0aCIsIm9uQXV0aFN0YXRlQ2hhbmdlZCIsImFwcCIsIkF1dGhDb250ZXh0IiwidW5kZWZpbmVkIiwidXNlQXV0aCIsImNvbnRleHQiLCJFcnJvciIsIkF1dGhQcm92aWRlciIsImNoaWxkcmVuIiwidXNlciIsInNldFVzZXIiLCJpc0xvYWRpbmciLCJzZXRJc0xvYWRpbmciLCJhdXRoIiwiY3VycmVudFVzZXIiLCJ1bnN1YnNjcmliZSIsImZpcmViYXNlVXNlciIsInN0b3JlZFVzZXIiLCJoYW5kbGVMb2dpbiIsImVtYWlsIiwicGFzc3dvcmQiLCJyZXN1bHQiLCJzdWNjZXNzIiwibWVzc2FnZSIsImVtYWlsVmVyaWZpZWQiLCJlcnJvciIsImhhbmRsZVJlZ2lzdGVyIiwibmFtZSIsImVtYWlsVmVyaWZpY2F0aW9uU2VudCIsImhhbmRsZUxvZ291dCIsIndpbmRvdyIsInNob3dOb3RpZmljYXRpb24iLCJ2YWx1ZSIsImlzQXV0aGVudGljYXRlZCIsIlByb3ZpZGVyIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./context/AuthContext.tsx\n");

/***/ }),

/***/ "./context/BannerContext.tsx":
/*!***********************************!*\
  !*** ./context/BannerContext.tsx ***!
  \***********************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BannerProvider: () => (/* binding */ BannerProvider),\n/* harmony export */   useBanners: () => (/* binding */ useBanners)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _utils_firebaseBanners__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/firebaseBanners */ \"./utils/firebaseBanners.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_utils_firebaseBanners__WEBPACK_IMPORTED_MODULE_2__]);\n_utils_firebaseBanners__WEBPACK_IMPORTED_MODULE_2__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\nconst BannerContext = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.createContext)(undefined);\nfunction BannerProvider({ children }) {\n    const [banners, setBanners] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [lastRefreshed, setLastRefreshed] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(Date.now());\n    // Load banners from Firebase\n    const loadBanners = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(async ()=>{\n        try {\n            setLoading(true);\n            const fetchedBanners = await (0,_utils_firebaseBanners__WEBPACK_IMPORTED_MODULE_2__.getAllBanners)();\n            setBanners(fetchedBanners);\n            setError(null);\n            setLastRefreshed(Date.now());\n        } catch (err) {\n            setError(err.message || \"Failed to load banners\");\n            console.error(\"Error loading banners:\", err);\n        } finally{\n            setLoading(false);\n        }\n    }, []);\n    // Load banners on initial render\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (false) {}\n    }, [\n        loadBanners\n    ]);\n    // Create a memoized cache for getBannersForPage\n    const bannersByPageCache = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>{\n        const cache = {};\n        // Pre-populate cache with current banners\n        banners.forEach((banner)=>{\n            if (!cache[banner.page]) {\n                cache[banner.page] = [];\n            }\n            cache[banner.page].push(banner);\n        });\n        // Sort banners by order for each page\n        Object.keys(cache).forEach((page)=>{\n            cache[page].sort((a, b)=>a.order - b.order);\n        });\n        return cache;\n    }, [\n        banners,\n        lastRefreshed\n    ]);\n    // Get banners for a specific page (using cache when available)\n    const getBannersForPage = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(async (page)=>{\n        // Check cache first\n        if (bannersByPageCache[page]) {\n            return bannersByPageCache[page];\n        }\n        // If not in cache, get from Firebase\n        try {\n            const pageBanners = await (0,_utils_firebaseBanners__WEBPACK_IMPORTED_MODULE_2__.getBannersByPage)(page);\n            return pageBanners;\n        } catch (err) {\n            console.error(`Error getting banners for page ${page}:`, err);\n            return [];\n        }\n    }, [\n        bannersByPageCache\n    ]);\n    // Add a new banner\n    const addNewBanner = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(async (bannerData)=>{\n        try {\n            const newBanner = await (0,_utils_firebaseBanners__WEBPACK_IMPORTED_MODULE_2__.addBanner)(bannerData);\n            await loadBanners(); // Refresh the banners state\n            return newBanner;\n        } catch (err) {\n            setError(err.message || \"Failed to add banner\");\n            throw err;\n        }\n    }, [\n        loadBanners\n    ]);\n    // Update an existing banner\n    const updateExistingBanner = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(async (id, updates)=>{\n        try {\n            await (0,_utils_firebaseBanners__WEBPACK_IMPORTED_MODULE_2__.updateBanner)(id, updates);\n            await loadBanners(); // Refresh the banners state\n        } catch (err) {\n            setError(err.message || \"Failed to update banner\");\n            throw err;\n        }\n    }, [\n        loadBanners\n    ]);\n    // Remove a banner\n    const removeBanner = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(async (id)=>{\n        try {\n            await (0,_utils_firebaseBanners__WEBPACK_IMPORTED_MODULE_2__.deleteBanner)(id);\n            await loadBanners(); // Refresh the banners state\n        } catch (err) {\n            setError(err.message || \"Failed to delete banner\");\n            throw err;\n        }\n    }, [\n        loadBanners\n    ]);\n    // Refresh banners\n    const refreshBanners = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(async ()=>{\n        await loadBanners();\n    }, [\n        loadBanners\n    ]);\n    // Force refresh banners (clears cache and reloads)\n    const forceRefreshBanners = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(async ()=>{\n        console.log(\"Forcing banner refresh and clearing cache\");\n        setBanners([]);\n        setLastRefreshed(0);\n        await loadBanners();\n    }, [\n        loadBanners\n    ]);\n    // Memoize the context value to prevent unnecessary re-renders\n    const contextValue = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>({\n            banners,\n            loading,\n            error,\n            getBannersForPage,\n            addNewBanner,\n            updateExistingBanner,\n            removeBanner,\n            refreshBanners,\n            forceRefreshBanners\n        }), [\n        banners,\n        loading,\n        error,\n        getBannersForPage,\n        addNewBanner,\n        updateExistingBanner,\n        removeBanner,\n        refreshBanners,\n        forceRefreshBanners\n    ]);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(BannerContext.Provider, {\n        value: contextValue,\n        children: children\n    }, void 0, false, {\n        fileName: \"C:\\\\Projects\\\\Freelansing websites\\\\rangya-master\\\\context\\\\BannerContext.tsx\",\n        lineNumber: 162,\n        columnNumber: 5\n    }, this);\n}\nconst useBanners = ()=>{\n    const context = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(BannerContext);\n    if (context === undefined) {\n        throw new Error(\"useBanners must be used within a BannerProvider\");\n    }\n    return context;\n};\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9jb250ZXh0L0Jhbm5lckNvbnRleHQudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBQW9HO0FBUWxFO0FBY2xDLE1BQU1lLDhCQUFnQmQsb0RBQWFBLENBQWlDZTtBQUU3RCxTQUFTQyxlQUFlLEVBQUVDLFFBQVEsRUFBaUM7SUFDeEUsTUFBTSxDQUFDQyxTQUFTQyxXQUFXLEdBQUdqQiwrQ0FBUUEsQ0FBbUIsRUFBRTtJQUMzRCxNQUFNLENBQUNrQixTQUFTQyxXQUFXLEdBQUduQiwrQ0FBUUEsQ0FBQztJQUN2QyxNQUFNLENBQUNvQixPQUFPQyxTQUFTLEdBQUdyQiwrQ0FBUUEsQ0FBZ0I7SUFDbEQsTUFBTSxDQUFDc0IsZUFBZUMsaUJBQWlCLEdBQUd2QiwrQ0FBUUEsQ0FBU3dCLEtBQUtDLEdBQUc7SUFFbkUsNkJBQTZCO0lBQzdCLE1BQU1DLGNBQWN2QixrREFBV0EsQ0FBQztRQUM5QixJQUFJO1lBQ0ZnQixXQUFXO1lBQ1gsTUFBTVEsaUJBQWlCLE1BQU12QixxRUFBYUE7WUFDMUNhLFdBQVdVO1lBQ1hOLFNBQVM7WUFDVEUsaUJBQWlCQyxLQUFLQyxHQUFHO1FBQzNCLEVBQUUsT0FBT0csS0FBVTtZQUNqQlAsU0FBU08sSUFBSUMsT0FBTyxJQUFJO1lBQ3hCQyxRQUFRVixLQUFLLENBQUMsMEJBQTBCUTtRQUMxQyxTQUFVO1lBQ1JULFdBQVc7UUFDYjtJQUNGLEdBQUcsRUFBRTtJQUVMLGlDQUFpQztJQUNqQ2xCLGdEQUFTQSxDQUFDO1FBQ1IsSUFBSSxLQUFrQixFQUFhLEVBRWxDO0lBQ0gsR0FBRztRQUFDeUI7S0FBWTtJQUVoQixnREFBZ0Q7SUFDaEQsTUFBTUsscUJBQXFCN0IsOENBQU9BLENBQUM7UUFDakMsTUFBTThCLFFBQTBDLENBQUM7UUFFakQsMENBQTBDO1FBQzFDaEIsUUFBUWlCLE9BQU8sQ0FBQ0MsQ0FBQUE7WUFDZCxJQUFJLENBQUNGLEtBQUssQ0FBQ0UsT0FBT0MsSUFBSSxDQUFDLEVBQUU7Z0JBQ3ZCSCxLQUFLLENBQUNFLE9BQU9DLElBQUksQ0FBQyxHQUFHLEVBQUU7WUFDekI7WUFDQUgsS0FBSyxDQUFDRSxPQUFPQyxJQUFJLENBQUMsQ0FBQ0MsSUFBSSxDQUFDRjtRQUMxQjtRQUVBLHNDQUFzQztRQUN0Q0csT0FBT0MsSUFBSSxDQUFDTixPQUFPQyxPQUFPLENBQUNFLENBQUFBO1lBQ3pCSCxLQUFLLENBQUNHLEtBQUssQ0FBQ0ksSUFBSSxDQUFDLENBQUNDLEdBQUdDLElBQU1ELEVBQUVFLEtBQUssR0FBR0QsRUFBRUMsS0FBSztRQUM5QztRQUVBLE9BQU9WO0lBQ1QsR0FBRztRQUFDaEI7UUFBU007S0FBYztJQUUzQiwrREFBK0Q7SUFDL0QsTUFBTXFCLG9CQUFvQnhDLGtEQUFXQSxDQUFDLE9BQU9nQztRQUMzQyxvQkFBb0I7UUFDcEIsSUFBSUosa0JBQWtCLENBQUNJLEtBQUssRUFBRTtZQUM1QixPQUFPSixrQkFBa0IsQ0FBQ0ksS0FBSztRQUNqQztRQUVBLHFDQUFxQztRQUNyQyxJQUFJO1lBQ0YsTUFBTVMsY0FBYyxNQUFNdkMsd0VBQWdCQSxDQUFDOEI7WUFDM0MsT0FBT1M7UUFDVCxFQUFFLE9BQU9oQixLQUFLO1lBQ1pFLFFBQVFWLEtBQUssQ0FBQyxDQUFDLCtCQUErQixFQUFFZSxLQUFLLENBQUMsQ0FBQyxFQUFFUDtZQUN6RCxPQUFPLEVBQUU7UUFDWDtJQUNGLEdBQUc7UUFBQ0c7S0FBbUI7SUFFdkIsbUJBQW1CO0lBQ25CLE1BQU1jLGVBQWUxQyxrREFBV0EsQ0FBQyxPQUFPMkM7UUFDdEMsSUFBSTtZQUNGLE1BQU1DLFlBQVksTUFBTXhDLGlFQUFpQkEsQ0FBQ3VDO1lBQzFDLE1BQU1wQixlQUFlLDRCQUE0QjtZQUNqRCxPQUFPcUI7UUFDVCxFQUFFLE9BQU9uQixLQUFVO1lBQ2pCUCxTQUFTTyxJQUFJQyxPQUFPLElBQUk7WUFDeEIsTUFBTUQ7UUFDUjtJQUNGLEdBQUc7UUFBQ0Y7S0FBWTtJQUVoQiw0QkFBNEI7SUFDNUIsTUFBTXNCLHVCQUF1QjdDLGtEQUFXQSxDQUFDLE9BQU84QyxJQUFZQztRQUMxRCxJQUFJO1lBQ0YsTUFBTXpDLG9FQUFvQkEsQ0FBQ3dDLElBQUlDO1lBQy9CLE1BQU14QixlQUFlLDRCQUE0QjtRQUNuRCxFQUFFLE9BQU9FLEtBQVU7WUFDakJQLFNBQVNPLElBQUlDLE9BQU8sSUFBSTtZQUN4QixNQUFNRDtRQUNSO0lBQ0YsR0FBRztRQUFDRjtLQUFZO0lBRWhCLGtCQUFrQjtJQUNsQixNQUFNeUIsZUFBZWhELGtEQUFXQSxDQUFDLE9BQU84QztRQUN0QyxJQUFJO1lBQ0YsTUFBTXRDLG9FQUFvQkEsQ0FBQ3NDO1lBQzNCLE1BQU12QixlQUFlLDRCQUE0QjtRQUNuRCxFQUFFLE9BQU9FLEtBQVU7WUFDakJQLFNBQVNPLElBQUlDLE9BQU8sSUFBSTtZQUN4QixNQUFNRDtRQUNSO0lBQ0YsR0FBRztRQUFDRjtLQUFZO0lBRWhCLGtCQUFrQjtJQUNsQixNQUFNMEIsaUJBQWlCakQsa0RBQVdBLENBQUM7UUFDakMsTUFBTXVCO0lBQ1IsR0FBRztRQUFDQTtLQUFZO0lBRWhCLG1EQUFtRDtJQUNuRCxNQUFNMkIsc0JBQXNCbEQsa0RBQVdBLENBQUM7UUFDdEMyQixRQUFRd0IsR0FBRyxDQUFDO1FBQ1pyQyxXQUFXLEVBQUU7UUFDYk0saUJBQWlCO1FBQ2pCLE1BQU1HO0lBQ1IsR0FBRztRQUFDQTtLQUFZO0lBRWhCLDhEQUE4RDtJQUM5RCxNQUFNNkIsZUFBZXJELDhDQUFPQSxDQUFDLElBQU87WUFDbENjO1lBQ0FFO1lBQ0FFO1lBQ0F1QjtZQUNBRTtZQUNBRztZQUNBRztZQUNBQztZQUNBQztRQUNGLElBQUk7UUFDRnJDO1FBQ0FFO1FBQ0FFO1FBQ0F1QjtRQUNBRTtRQUNBRztRQUNBRztRQUNBQztRQUNBQztLQUNEO0lBRUQscUJBQ0UsOERBQUN6QyxjQUFjNEMsUUFBUTtRQUFDQyxPQUFPRjtrQkFDNUJ4Qzs7Ozs7O0FBR1A7QUFFTyxNQUFNMkMsYUFBYTtJQUN4QixNQUFNQyxVQUFVNUQsaURBQVVBLENBQUNhO0lBQzNCLElBQUkrQyxZQUFZOUMsV0FBVztRQUN6QixNQUFNLElBQUkrQyxNQUFNO0lBQ2xCO0lBQ0EsT0FBT0Q7QUFDVCxFQUFFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vamVhbnMtbmV4dGpzLy4vY29udGV4dC9CYW5uZXJDb250ZXh0LnRzeD81OWYyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyBjcmVhdGVDb250ZXh0LCB1c2VDb250ZXh0LCB1c2VTdGF0ZSwgdXNlRWZmZWN0LCB1c2VNZW1vLCB1c2VDYWxsYmFjayB9IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IHsgXHJcbiAgRmlyZWJhc2VCYW5uZXIsIFxyXG4gIGdldEFsbEJhbm5lcnMsIFxyXG4gIGdldEJhbm5lcnNCeVBhZ2UsIFxyXG4gIGFkZEJhbm5lciBhcyBhZGRGaXJlYmFzZUJhbm5lciwgXHJcbiAgdXBkYXRlQmFubmVyIGFzIHVwZGF0ZUZpcmViYXNlQmFubmVyLCBcclxuICBkZWxldGVCYW5uZXIgYXMgZGVsZXRlRmlyZWJhc2VCYW5uZXJcclxufSBmcm9tICcuLi91dGlscy9maXJlYmFzZUJhbm5lcnMnO1xyXG5cclxuaW50ZXJmYWNlIEJhbm5lckNvbnRleHRQcm9wcyB7XHJcbiAgYmFubmVyczogRmlyZWJhc2VCYW5uZXJbXTtcclxuICBsb2FkaW5nOiBib29sZWFuO1xyXG4gIGVycm9yOiBzdHJpbmcgfCBudWxsO1xyXG4gIGdldEJhbm5lcnNGb3JQYWdlOiAocGFnZTogc3RyaW5nKSA9PiBQcm9taXNlPEZpcmViYXNlQmFubmVyW10+O1xyXG4gIGFkZE5ld0Jhbm5lcjogKGJhbm5lcjogT21pdDxGaXJlYmFzZUJhbm5lciwgJ2lkJyB8ICdjcmVhdGVkQXQnIHwgJ3VwZGF0ZWRBdCc+KSA9PiBQcm9taXNlPEZpcmViYXNlQmFubmVyPjtcclxuICB1cGRhdGVFeGlzdGluZ0Jhbm5lcjogKGlkOiBzdHJpbmcsIHVwZGF0ZXM6IFBhcnRpYWw8RmlyZWJhc2VCYW5uZXI+KSA9PiBQcm9taXNlPHZvaWQ+O1xyXG4gIHJlbW92ZUJhbm5lcjogKGlkOiBzdHJpbmcpID0+IFByb21pc2U8dm9pZD47XHJcbiAgcmVmcmVzaEJhbm5lcnM6ICgpID0+IFByb21pc2U8dm9pZD47XHJcbiAgZm9yY2VSZWZyZXNoQmFubmVyczogKCkgPT4gUHJvbWlzZTx2b2lkPjtcclxufVxyXG5cclxuY29uc3QgQmFubmVyQ29udGV4dCA9IGNyZWF0ZUNvbnRleHQ8QmFubmVyQ29udGV4dFByb3BzIHwgdW5kZWZpbmVkPih1bmRlZmluZWQpO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIEJhbm5lclByb3ZpZGVyKHsgY2hpbGRyZW4gfTogeyBjaGlsZHJlbjogUmVhY3QuUmVhY3ROb2RlIH0pIHtcclxuICBjb25zdCBbYmFubmVycywgc2V0QmFubmVyc10gPSB1c2VTdGF0ZTxGaXJlYmFzZUJhbm5lcltdPihbXSk7XHJcbiAgY29uc3QgW2xvYWRpbmcsIHNldExvYWRpbmddID0gdXNlU3RhdGUodHJ1ZSk7XHJcbiAgY29uc3QgW2Vycm9yLCBzZXRFcnJvcl0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcclxuICBjb25zdCBbbGFzdFJlZnJlc2hlZCwgc2V0TGFzdFJlZnJlc2hlZF0gPSB1c2VTdGF0ZTxudW1iZXI+KERhdGUubm93KCkpO1xyXG5cclxuICAvLyBMb2FkIGJhbm5lcnMgZnJvbSBGaXJlYmFzZVxyXG4gIGNvbnN0IGxvYWRCYW5uZXJzID0gdXNlQ2FsbGJhY2soYXN5bmMgKCkgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgc2V0TG9hZGluZyh0cnVlKTtcclxuICAgICAgY29uc3QgZmV0Y2hlZEJhbm5lcnMgPSBhd2FpdCBnZXRBbGxCYW5uZXJzKCk7XHJcbiAgICAgIHNldEJhbm5lcnMoZmV0Y2hlZEJhbm5lcnMpO1xyXG4gICAgICBzZXRFcnJvcihudWxsKTtcclxuICAgICAgc2V0TGFzdFJlZnJlc2hlZChEYXRlLm5vdygpKTtcclxuICAgIH0gY2F0Y2ggKGVycjogYW55KSB7XHJcbiAgICAgIHNldEVycm9yKGVyci5tZXNzYWdlIHx8ICdGYWlsZWQgdG8gbG9hZCBiYW5uZXJzJyk7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGxvYWRpbmcgYmFubmVyczonLCBlcnIpO1xyXG4gICAgfSBmaW5hbGx5IHtcclxuICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XHJcbiAgICB9XHJcbiAgfSwgW10pO1xyXG5cclxuICAvLyBMb2FkIGJhbm5lcnMgb24gaW5pdGlhbCByZW5kZXJcclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgIGxvYWRCYW5uZXJzKCk7XHJcbiAgICB9XHJcbiAgfSwgW2xvYWRCYW5uZXJzXSk7XHJcblxyXG4gIC8vIENyZWF0ZSBhIG1lbW9pemVkIGNhY2hlIGZvciBnZXRCYW5uZXJzRm9yUGFnZVxyXG4gIGNvbnN0IGJhbm5lcnNCeVBhZ2VDYWNoZSA9IHVzZU1lbW8oKCkgPT4ge1xyXG4gICAgY29uc3QgY2FjaGU6IFJlY29yZDxzdHJpbmcsIEZpcmViYXNlQmFubmVyW10+ID0ge307XHJcbiAgICBcclxuICAgIC8vIFByZS1wb3B1bGF0ZSBjYWNoZSB3aXRoIGN1cnJlbnQgYmFubmVyc1xyXG4gICAgYmFubmVycy5mb3JFYWNoKGJhbm5lciA9PiB7XHJcbiAgICAgIGlmICghY2FjaGVbYmFubmVyLnBhZ2VdKSB7XHJcbiAgICAgICAgY2FjaGVbYmFubmVyLnBhZ2VdID0gW107XHJcbiAgICAgIH1cclxuICAgICAgY2FjaGVbYmFubmVyLnBhZ2VdLnB1c2goYmFubmVyKTtcclxuICAgIH0pO1xyXG4gICAgXHJcbiAgICAvLyBTb3J0IGJhbm5lcnMgYnkgb3JkZXIgZm9yIGVhY2ggcGFnZVxyXG4gICAgT2JqZWN0LmtleXMoY2FjaGUpLmZvckVhY2gocGFnZSA9PiB7XHJcbiAgICAgIGNhY2hlW3BhZ2VdLnNvcnQoKGEsIGIpID0+IGEub3JkZXIgLSBiLm9yZGVyKTtcclxuICAgIH0pO1xyXG4gICAgXHJcbiAgICByZXR1cm4gY2FjaGU7XHJcbiAgfSwgW2Jhbm5lcnMsIGxhc3RSZWZyZXNoZWRdKTtcclxuXHJcbiAgLy8gR2V0IGJhbm5lcnMgZm9yIGEgc3BlY2lmaWMgcGFnZSAodXNpbmcgY2FjaGUgd2hlbiBhdmFpbGFibGUpXHJcbiAgY29uc3QgZ2V0QmFubmVyc0ZvclBhZ2UgPSB1c2VDYWxsYmFjayhhc3luYyAocGFnZTogc3RyaW5nKTogUHJvbWlzZTxGaXJlYmFzZUJhbm5lcltdPiA9PiB7XHJcbiAgICAvLyBDaGVjayBjYWNoZSBmaXJzdFxyXG4gICAgaWYgKGJhbm5lcnNCeVBhZ2VDYWNoZVtwYWdlXSkge1xyXG4gICAgICByZXR1cm4gYmFubmVyc0J5UGFnZUNhY2hlW3BhZ2VdO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvLyBJZiBub3QgaW4gY2FjaGUsIGdldCBmcm9tIEZpcmViYXNlXHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCBwYWdlQmFubmVycyA9IGF3YWl0IGdldEJhbm5lcnNCeVBhZ2UocGFnZSk7XHJcbiAgICAgIHJldHVybiBwYWdlQmFubmVycztcclxuICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKGBFcnJvciBnZXR0aW5nIGJhbm5lcnMgZm9yIHBhZ2UgJHtwYWdlfTpgLCBlcnIpO1xyXG4gICAgICByZXR1cm4gW107XHJcbiAgICB9XHJcbiAgfSwgW2Jhbm5lcnNCeVBhZ2VDYWNoZV0pO1xyXG5cclxuICAvLyBBZGQgYSBuZXcgYmFubmVyXHJcbiAgY29uc3QgYWRkTmV3QmFubmVyID0gdXNlQ2FsbGJhY2soYXN5bmMgKGJhbm5lckRhdGE6IE9taXQ8RmlyZWJhc2VCYW5uZXIsICdpZCcgfCAnY3JlYXRlZEF0JyB8ICd1cGRhdGVkQXQnPik6IFByb21pc2U8RmlyZWJhc2VCYW5uZXI+ID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IG5ld0Jhbm5lciA9IGF3YWl0IGFkZEZpcmViYXNlQmFubmVyKGJhbm5lckRhdGEpO1xyXG4gICAgICBhd2FpdCBsb2FkQmFubmVycygpOyAvLyBSZWZyZXNoIHRoZSBiYW5uZXJzIHN0YXRlXHJcbiAgICAgIHJldHVybiBuZXdCYW5uZXI7XHJcbiAgICB9IGNhdGNoIChlcnI6IGFueSkge1xyXG4gICAgICBzZXRFcnJvcihlcnIubWVzc2FnZSB8fCAnRmFpbGVkIHRvIGFkZCBiYW5uZXInKTtcclxuICAgICAgdGhyb3cgZXJyO1xyXG4gICAgfVxyXG4gIH0sIFtsb2FkQmFubmVyc10pO1xyXG5cclxuICAvLyBVcGRhdGUgYW4gZXhpc3RpbmcgYmFubmVyXHJcbiAgY29uc3QgdXBkYXRlRXhpc3RpbmdCYW5uZXIgPSB1c2VDYWxsYmFjayhhc3luYyAoaWQ6IHN0cmluZywgdXBkYXRlczogUGFydGlhbDxGaXJlYmFzZUJhbm5lcj4pOiBQcm9taXNlPHZvaWQ+ID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGF3YWl0IHVwZGF0ZUZpcmViYXNlQmFubmVyKGlkLCB1cGRhdGVzKTtcclxuICAgICAgYXdhaXQgbG9hZEJhbm5lcnMoKTsgLy8gUmVmcmVzaCB0aGUgYmFubmVycyBzdGF0ZVxyXG4gICAgfSBjYXRjaCAoZXJyOiBhbnkpIHtcclxuICAgICAgc2V0RXJyb3IoZXJyLm1lc3NhZ2UgfHwgJ0ZhaWxlZCB0byB1cGRhdGUgYmFubmVyJyk7XHJcbiAgICAgIHRocm93IGVycjtcclxuICAgIH1cclxuICB9LCBbbG9hZEJhbm5lcnNdKTtcclxuXHJcbiAgLy8gUmVtb3ZlIGEgYmFubmVyXHJcbiAgY29uc3QgcmVtb3ZlQmFubmVyID0gdXNlQ2FsbGJhY2soYXN5bmMgKGlkOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+ID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGF3YWl0IGRlbGV0ZUZpcmViYXNlQmFubmVyKGlkKTtcclxuICAgICAgYXdhaXQgbG9hZEJhbm5lcnMoKTsgLy8gUmVmcmVzaCB0aGUgYmFubmVycyBzdGF0ZVxyXG4gICAgfSBjYXRjaCAoZXJyOiBhbnkpIHtcclxuICAgICAgc2V0RXJyb3IoZXJyLm1lc3NhZ2UgfHwgJ0ZhaWxlZCB0byBkZWxldGUgYmFubmVyJyk7XHJcbiAgICAgIHRocm93IGVycjtcclxuICAgIH1cclxuICB9LCBbbG9hZEJhbm5lcnNdKTtcclxuXHJcbiAgLy8gUmVmcmVzaCBiYW5uZXJzXHJcbiAgY29uc3QgcmVmcmVzaEJhbm5lcnMgPSB1c2VDYWxsYmFjayhhc3luYyAoKSA9PiB7XHJcbiAgICBhd2FpdCBsb2FkQmFubmVycygpO1xyXG4gIH0sIFtsb2FkQmFubmVyc10pO1xyXG5cclxuICAvLyBGb3JjZSByZWZyZXNoIGJhbm5lcnMgKGNsZWFycyBjYWNoZSBhbmQgcmVsb2FkcylcclxuICBjb25zdCBmb3JjZVJlZnJlc2hCYW5uZXJzID0gdXNlQ2FsbGJhY2soYXN5bmMgKCkgPT4ge1xyXG4gICAgY29uc29sZS5sb2coJ0ZvcmNpbmcgYmFubmVyIHJlZnJlc2ggYW5kIGNsZWFyaW5nIGNhY2hlJyk7XHJcbiAgICBzZXRCYW5uZXJzKFtdKTtcclxuICAgIHNldExhc3RSZWZyZXNoZWQoMCk7XHJcbiAgICBhd2FpdCBsb2FkQmFubmVycygpO1xyXG4gIH0sIFtsb2FkQmFubmVyc10pO1xyXG5cclxuICAvLyBNZW1vaXplIHRoZSBjb250ZXh0IHZhbHVlIHRvIHByZXZlbnQgdW5uZWNlc3NhcnkgcmUtcmVuZGVyc1xyXG4gIGNvbnN0IGNvbnRleHRWYWx1ZSA9IHVzZU1lbW8oKCkgPT4gKHtcclxuICAgIGJhbm5lcnMsXHJcbiAgICBsb2FkaW5nLFxyXG4gICAgZXJyb3IsXHJcbiAgICBnZXRCYW5uZXJzRm9yUGFnZSxcclxuICAgIGFkZE5ld0Jhbm5lcixcclxuICAgIHVwZGF0ZUV4aXN0aW5nQmFubmVyLFxyXG4gICAgcmVtb3ZlQmFubmVyLFxyXG4gICAgcmVmcmVzaEJhbm5lcnMsXHJcbiAgICBmb3JjZVJlZnJlc2hCYW5uZXJzXHJcbiAgfSksIFtcclxuICAgIGJhbm5lcnMsXHJcbiAgICBsb2FkaW5nLFxyXG4gICAgZXJyb3IsXHJcbiAgICBnZXRCYW5uZXJzRm9yUGFnZSxcclxuICAgIGFkZE5ld0Jhbm5lcixcclxuICAgIHVwZGF0ZUV4aXN0aW5nQmFubmVyLFxyXG4gICAgcmVtb3ZlQmFubmVyLFxyXG4gICAgcmVmcmVzaEJhbm5lcnMsXHJcbiAgICBmb3JjZVJlZnJlc2hCYW5uZXJzXHJcbiAgXSk7XHJcblxyXG4gIHJldHVybiAoXHJcbiAgICA8QmFubmVyQ29udGV4dC5Qcm92aWRlciB2YWx1ZT17Y29udGV4dFZhbHVlfT5cclxuICAgICAge2NoaWxkcmVufVxyXG4gICAgPC9CYW5uZXJDb250ZXh0LlByb3ZpZGVyPlxyXG4gICk7XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCB1c2VCYW5uZXJzID0gKCk6IEJhbm5lckNvbnRleHRQcm9wcyA9PiB7XHJcbiAgY29uc3QgY29udGV4dCA9IHVzZUNvbnRleHQoQmFubmVyQ29udGV4dCk7XHJcbiAgaWYgKGNvbnRleHQgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgdGhyb3cgbmV3IEVycm9yKCd1c2VCYW5uZXJzIG11c3QgYmUgdXNlZCB3aXRoaW4gYSBCYW5uZXJQcm92aWRlcicpO1xyXG4gIH1cclxuICByZXR1cm4gY29udGV4dDtcclxufTsgIl0sIm5hbWVzIjpbIlJlYWN0IiwiY3JlYXRlQ29udGV4dCIsInVzZUNvbnRleHQiLCJ1c2VTdGF0ZSIsInVzZUVmZmVjdCIsInVzZU1lbW8iLCJ1c2VDYWxsYmFjayIsImdldEFsbEJhbm5lcnMiLCJnZXRCYW5uZXJzQnlQYWdlIiwiYWRkQmFubmVyIiwiYWRkRmlyZWJhc2VCYW5uZXIiLCJ1cGRhdGVCYW5uZXIiLCJ1cGRhdGVGaXJlYmFzZUJhbm5lciIsImRlbGV0ZUJhbm5lciIsImRlbGV0ZUZpcmViYXNlQmFubmVyIiwiQmFubmVyQ29udGV4dCIsInVuZGVmaW5lZCIsIkJhbm5lclByb3ZpZGVyIiwiY2hpbGRyZW4iLCJiYW5uZXJzIiwic2V0QmFubmVycyIsImxvYWRpbmciLCJzZXRMb2FkaW5nIiwiZXJyb3IiLCJzZXRFcnJvciIsImxhc3RSZWZyZXNoZWQiLCJzZXRMYXN0UmVmcmVzaGVkIiwiRGF0ZSIsIm5vdyIsImxvYWRCYW5uZXJzIiwiZmV0Y2hlZEJhbm5lcnMiLCJlcnIiLCJtZXNzYWdlIiwiY29uc29sZSIsImJhbm5lcnNCeVBhZ2VDYWNoZSIsImNhY2hlIiwiZm9yRWFjaCIsImJhbm5lciIsInBhZ2UiLCJwdXNoIiwiT2JqZWN0Iiwia2V5cyIsInNvcnQiLCJhIiwiYiIsIm9yZGVyIiwiZ2V0QmFubmVyc0ZvclBhZ2UiLCJwYWdlQmFubmVycyIsImFkZE5ld0Jhbm5lciIsImJhbm5lckRhdGEiLCJuZXdCYW5uZXIiLCJ1cGRhdGVFeGlzdGluZ0Jhbm5lciIsImlkIiwidXBkYXRlcyIsInJlbW92ZUJhbm5lciIsInJlZnJlc2hCYW5uZXJzIiwiZm9yY2VSZWZyZXNoQmFubmVycyIsImxvZyIsImNvbnRleHRWYWx1ZSIsIlByb3ZpZGVyIiwidmFsdWUiLCJ1c2VCYW5uZXJzIiwiY29udGV4dCIsIkVycm9yIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./context/BannerContext.tsx\n");

/***/ }),

/***/ "./context/CartContext.tsx":
/*!*********************************!*\
  !*** ./context/CartContext.tsx ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CartProvider: () => (/* binding */ CartProvider),\n/* harmony export */   useCart: () => (/* binding */ useCart)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/router */ \"./node_modules/next/router.js\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_router__WEBPACK_IMPORTED_MODULE_2__);\n\n\n\nconst CartContext = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.createContext)(undefined);\nconst useCart = ()=>{\n    const context = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(CartContext);\n    if (!context) {\n        throw new Error(\"useCart must be used within a CartProvider\");\n    }\n    return context;\n};\nconst CartProvider = ({ children })=>{\n    const [cart, setCart] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [wishlist, setWishlist] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [isInitialized, setIsInitialized] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const router = (0,next_router__WEBPACK_IMPORTED_MODULE_2__.useRouter)();\n    // Since useAuth uses useContext, we can't use it directly in CartProvider\n    // We'll check authentication in each function instead\n    // Load cart and wishlist from localStorage on initial render\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (false) {}\n    }, []);\n    // Save cart and wishlist to localStorage whenever they change\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (isInitialized && \"undefined\" !== \"undefined\") {}\n    }, [\n        cart,\n        wishlist,\n        isInitialized\n    ]);\n    const addToCart = (product, quantity = 1, size, color)=>{\n        // Check if user is authenticated\n        if (false) {}\n        const selectedSize = size ?? (product.sizes && product.sizes.length > 0 ? product.sizes[0] : \"\");\n        const selectedColor = color || (product.colors ? product.colors[0] : undefined);\n        setCart((prevCart)=>{\n            // Check if product already exists in cart with same size and color\n            const existingItemIndex = prevCart.findIndex((item)=>item.product.id === product.id && item.size === selectedSize && (!item.color && !selectedColor || item.color?.code === selectedColor?.code));\n            if (existingItemIndex >= 0) {\n                // Update quantity of existing item\n                const updatedCart = [\n                    ...prevCart\n                ];\n                updatedCart[existingItemIndex].quantity += quantity;\n                // Show notification\n                if (false) {}\n                return updatedCart;\n            } else {\n                // Add new item to cart\n                const newItem = {\n                    product,\n                    quantity,\n                    size: selectedSize,\n                    color: selectedColor\n                };\n                // Show notification\n                if (false) {}\n                return [\n                    ...prevCart,\n                    newItem\n                ];\n            }\n        });\n        return true;\n    };\n    const removeFromCart = (productId)=>{\n        setCart((prevCart)=>{\n            const updatedCart = prevCart.filter((item)=>item.product.id !== productId);\n            // Show notification\n            if (false) {}\n            return updatedCart;\n        });\n    };\n    const updateCartItemQuantity = (productId, quantity)=>{\n        setCart((prevCart)=>{\n            const updatedCart = prevCart.map((item)=>item.product.id === productId ? {\n                    ...item,\n                    quantity: Math.max(1, quantity)\n                } : item);\n            return updatedCart;\n        });\n    };\n    const clearCart = ()=>{\n        setCart([]);\n        // Show notification\n        if (false) {}\n    };\n    const getCartTotal = ()=>{\n        return cart.reduce((total, item)=>total + item.product.price * item.quantity, 0);\n    };\n    const getCartCount = ()=>{\n        return cart.reduce((count, item)=>count + item.quantity, 0);\n    };\n    const toggleWishlist = (product)=>{\n        // Check if user is authenticated\n        if (false) {}\n        setWishlist((prevWishlist)=>{\n            const isInWishlist = prevWishlist.some((item)=>item.id === product.id);\n            if (isInWishlist) {\n                // Remove from wishlist\n                const updatedWishlist = prevWishlist.filter((item)=>item.id !== product.id);\n                // Show notification\n                if (false) {}\n                return updatedWishlist;\n            } else {\n                // Add to wishlist\n                // Show notification\n                if (false) {}\n                return [\n                    ...prevWishlist,\n                    product\n                ];\n            }\n        });\n        return true;\n    };\n    const isInWishlist = (productId)=>{\n        return wishlist.some((item)=>item.id === productId);\n    };\n    const value = {\n        cart,\n        wishlist,\n        addToCart,\n        removeFromCart,\n        updateCartItemQuantity,\n        clearCart,\n        getCartTotal,\n        getCartCount,\n        toggleWishlist,\n        isInWishlist\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(CartContext.Provider, {\n        value: value,\n        children: children\n    }, void 0, false, {\n        fileName: \"C:\\\\Projects\\\\Freelansing websites\\\\rangya-master\\\\context\\\\CartContext.tsx\",\n        lineNumber: 247,\n        columnNumber: 10\n    }, undefined);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LE1BQU00QyxlQUFlLENBQUNmO1FBQ3BCLE9BQU83QyxTQUFTNkQsSUFBSSxDQUFDdkIsQ0FBQUEsT0FBUUEsS0FBS0MsRUFBRSxLQUFLTTtJQUMzQztJQUVBLE1BQU1rQixRQUF5QjtRQUM3QmpFO1FBQ0FFO1FBQ0FlO1FBQ0E2QjtRQUNBRztRQUNBSTtRQUNBQztRQUNBSTtRQUNBRTtRQUNBRTtJQUNGO0lBRUEscUJBQU8sOERBQUNyRSxZQUFZeUUsUUFBUTtRQUFDRCxPQUFPQTtrQkFBUWxFOzs7Ozs7QUFDOUMsRUFBRSIsInNvdXJjZXMiOlsid2VicGFjazovL2plYW5zLW5leHRqcy8uL2NvbnRleHQvQ2FydENvbnRleHQudHN4P2MzMjEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IGNyZWF0ZUNvbnRleHQsIHVzZUNvbnRleHQsIHVzZUVmZmVjdCwgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBQcm9kdWN0IH0gZnJvbSAnLi4vZGF0YS9wcm9kdWN0cyc7XG5pbXBvcnQgeyBDYXJ0SXRlbSB9IGZyb20gJy4uL2RhdGEvdHlwZXMnO1xuaW1wb3J0IHsgdXNlQXV0aCB9IGZyb20gJy4vQXV0aENvbnRleHQnO1xuaW1wb3J0IHsgdXNlUm91dGVyIH0gZnJvbSAnbmV4dC9yb3V0ZXInO1xuXG5pbnRlcmZhY2UgQ2FydENvbnRleHRUeXBlIHtcbiAgY2FydDogQ2FydEl0ZW1bXTtcbiAgd2lzaGxpc3Q6IFByb2R1Y3RbXTtcbiAgYWRkVG9DYXJ0OiAocHJvZHVjdDogUHJvZHVjdCwgcXVhbnRpdHk/OiBudW1iZXIsIHNpemU/OiBzdHJpbmcsIGNvbG9yPzogeyBuYW1lOiBzdHJpbmc7IGNvZGU6IHN0cmluZyB9KSA9PiBib29sZWFuO1xuICByZW1vdmVGcm9tQ2FydDogKHByb2R1Y3RJZDogc3RyaW5nKSA9PiB2b2lkO1xuICB1cGRhdGVDYXJ0SXRlbVF1YW50aXR5OiAocHJvZHVjdElkOiBzdHJpbmcsIHF1YW50aXR5OiBudW1iZXIpID0+IHZvaWQ7XG4gIGNsZWFyQ2FydDogKCkgPT4gdm9pZDtcbiAgZ2V0Q2FydFRvdGFsOiAoKSA9PiBudW1iZXI7XG4gIGdldENhcnRDb3VudDogKCkgPT4gbnVtYmVyO1xuICB0b2dnbGVXaXNobGlzdDogKHByb2R1Y3Q6IFByb2R1Y3QpID0+IGJvb2xlYW47XG4gIGlzSW5XaXNobGlzdDogKHByb2R1Y3RJZDogc3RyaW5nKSA9PiBib29sZWFuO1xufVxuXG5jb25zdCBDYXJ0Q29udGV4dCA9IGNyZWF0ZUNvbnRleHQ8Q2FydENvbnRleHRUeXBlIHwgdW5kZWZpbmVkPih1bmRlZmluZWQpO1xuXG5leHBvcnQgY29uc3QgdXNlQ2FydCA9ICgpID0+IHtcbiAgY29uc3QgY29udGV4dCA9IHVzZUNvbnRleHQoQ2FydENvbnRleHQpO1xuICBpZiAoIWNvbnRleHQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3VzZUNhcnQgbXVzdCBiZSB1c2VkIHdpdGhpbiBhIENhcnRQcm92aWRlcicpO1xuICB9XG4gIHJldHVybiBjb250ZXh0O1xufTtcblxuZXhwb3J0IGNvbnN0IENhcnRQcm92aWRlcjogUmVhY3QuRkM8eyBjaGlsZHJlbjogUmVhY3QuUmVhY3ROb2RlIH0+ID0gKHsgY2hpbGRyZW4gfSkgPT4ge1xuICBjb25zdCBbY2FydCwgc2V0Q2FydF0gPSB1c2VTdGF0ZTxDYXJ0SXRlbVtdPihbXSk7XG4gIGNvbnN0IFt3aXNobGlzdCwgc2V0V2lzaGxpc3RdID0gdXNlU3RhdGU8UHJvZHVjdFtdPihbXSk7XG4gIGNvbnN0IFtpc0luaXRpYWxpemVkLCBzZXRJc0luaXRpYWxpemVkXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3Qgcm91dGVyID0gdXNlUm91dGVyKCk7XG4gIFxuICAvLyBTaW5jZSB1c2VBdXRoIHVzZXMgdXNlQ29udGV4dCwgd2UgY2FuJ3QgdXNlIGl0IGRpcmVjdGx5IGluIENhcnRQcm92aWRlclxuICAvLyBXZSdsbCBjaGVjayBhdXRoZW50aWNhdGlvbiBpbiBlYWNoIGZ1bmN0aW9uIGluc3RlYWRcblxuICAvLyBMb2FkIGNhcnQgYW5kIHdpc2hsaXN0IGZyb20gbG9jYWxTdG9yYWdlIG9uIGluaXRpYWwgcmVuZGVyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBzYXZlZENhcnQgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnbmlraGlsc0plYW5zQ2FydCcpO1xuICAgICAgICBjb25zdCBzYXZlZFdpc2hsaXN0ID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ25pa2hpbHNKZWFuc1dpc2hsaXN0Jyk7XG4gICAgICAgIFxuICAgICAgICBpZiAoc2F2ZWRDYXJ0KSB7XG4gICAgICAgICAgc2V0Q2FydChKU09OLnBhcnNlKHNhdmVkQ2FydCkpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBpZiAoc2F2ZWRXaXNobGlzdCkge1xuICAgICAgICAgIHNldFdpc2hsaXN0KEpTT04ucGFyc2Uoc2F2ZWRXaXNobGlzdCkpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBsb2FkaW5nIGNhcnQgZnJvbSBsb2NhbFN0b3JhZ2U6JywgZXJyb3IpO1xuICAgICAgfVxuICAgICAgXG4gICAgICBzZXRJc0luaXRpYWxpemVkKHRydWUpO1xuICAgIH1cbiAgfSwgW10pO1xuXG4gIC8vIFNhdmUgY2FydCBhbmQgd2lzaGxpc3QgdG8gbG9jYWxTdG9yYWdlIHdoZW5ldmVyIHRoZXkgY2hhbmdlXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGlzSW5pdGlhbGl6ZWQgJiYgdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCduaWtoaWxzSmVhbnNDYXJ0JywgSlNPTi5zdHJpbmdpZnkoY2FydCkpO1xuICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ25pa2hpbHNKZWFuc1dpc2hsaXN0JywgSlNPTi5zdHJpbmdpZnkod2lzaGxpc3QpKTtcbiAgICB9XG4gIH0sIFtjYXJ0LCB3aXNobGlzdCwgaXNJbml0aWFsaXplZF0pO1xuXG4gIGNvbnN0IGFkZFRvQ2FydCA9IChcbiAgICBwcm9kdWN0OiBQcm9kdWN0LFxuICAgIHF1YW50aXR5OiBudW1iZXIgPSAxLFxuICAgIHNpemU/OiBzdHJpbmcsXG4gICAgY29sb3I/OiB7IG5hbWU6IHN0cmluZzsgY29kZTogc3RyaW5nIH1cbiAgKTogYm9vbGVhbiA9PiB7XG4gICAgLy8gQ2hlY2sgaWYgdXNlciBpcyBhdXRoZW50aWNhdGVkXG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAvLyBJbXBvcnQgYXV0aCB1dGlsaXRpZXNcbiAgICAgIGNvbnN0IGF1dGggPSByZXF1aXJlKCcuLi91dGlscy9hdXRoJyk7XG4gICAgICBcbiAgICAgIGlmICghYXV0aC5pc0F1dGhlbnRpY2F0ZWQoKSkge1xuICAgICAgICAvLyBOb3QgYXV0aGVudGljYXRlZCwgcmVkaXJlY3QgdG8gbG9naW5cbiAgICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5zaG93Tm90aWZpY2F0aW9uKSB7XG4gICAgICAgICAgd2luZG93LnNob3dOb3RpZmljYXRpb24oJ1BsZWFzZSBsb2cgaW4gdG8gYWRkIGl0ZW1zIHRvIHlvdXIgY2FydCcsICd3YXJuaW5nJyk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIFN0b3JlIHRoZSBjdXJyZW50IFVSTCB0byByZWRpcmVjdCBiYWNrIGFmdGVyIGxvZ2luXG4gICAgICAgIGNvbnN0IHJldHVyblVybCA9IHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZTtcbiAgICAgICAgXG4gICAgICAgIC8vIFJlZGlyZWN0IHRvIGxvZ2luIHBhZ2VcbiAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBgL2xvZ2luP3JldHVyblVybD0ke2VuY29kZVVSSUNvbXBvbmVudChyZXR1cm5VcmwpfWA7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgY29uc3Qgc2VsZWN0ZWRTaXplID0gc2l6ZSA/PyAocHJvZHVjdC5zaXplcyAmJiBwcm9kdWN0LnNpemVzLmxlbmd0aCA+IDAgPyBwcm9kdWN0LnNpemVzWzBdIDogJycpO1xuICAgIGNvbnN0IHNlbGVjdGVkQ29sb3IgPSBjb2xvciB8fCAocHJvZHVjdC5jb2xvcnMgPyBwcm9kdWN0LmNvbG9yc1swXSA6IHVuZGVmaW5lZCk7XG4gICAgXG4gICAgc2V0Q2FydChwcmV2Q2FydCA9PiB7XG4gICAgICAvLyBDaGVjayBpZiBwcm9kdWN0IGFscmVhZHkgZXhpc3RzIGluIGNhcnQgd2l0aCBzYW1lIHNpemUgYW5kIGNvbG9yXG4gICAgICBjb25zdCBleGlzdGluZ0l0ZW1JbmRleCA9IHByZXZDYXJ0LmZpbmRJbmRleChcbiAgICAgICAgaXRlbSA9PiBcbiAgICAgICAgICBpdGVtLnByb2R1Y3QuaWQgPT09IHByb2R1Y3QuaWQgJiYgXG4gICAgICAgICAgaXRlbS5zaXplID09PSBzZWxlY3RlZFNpemUgJiYgXG4gICAgICAgICAgKCghaXRlbS5jb2xvciAmJiAhc2VsZWN0ZWRDb2xvcikgfHwgXG4gICAgICAgICAgKGl0ZW0uY29sb3I/LmNvZGUgPT09IHNlbGVjdGVkQ29sb3I/LmNvZGUpKVxuICAgICAgKTtcbiAgICAgIFxuICAgICAgaWYgKGV4aXN0aW5nSXRlbUluZGV4ID49IDApIHtcbiAgICAgICAgLy8gVXBkYXRlIHF1YW50aXR5IG9mIGV4aXN0aW5nIGl0ZW1cbiAgICAgICAgY29uc3QgdXBkYXRlZENhcnQgPSBbLi4ucHJldkNhcnRdO1xuICAgICAgICB1cGRhdGVkQ2FydFtleGlzdGluZ0l0ZW1JbmRleF0ucXVhbnRpdHkgKz0gcXVhbnRpdHk7XG4gICAgICAgIFxuICAgICAgICAvLyBTaG93IG5vdGlmaWNhdGlvblxuICAgICAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LnNob3dOb3RpZmljYXRpb24pIHtcbiAgICAgICAgICB3aW5kb3cuc2hvd05vdGlmaWNhdGlvbihgVXBkYXRlZCBxdWFudGl0eSBmb3IgJHtwcm9kdWN0Lm5hbWV9YCk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHJldHVybiB1cGRhdGVkQ2FydDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIEFkZCBuZXcgaXRlbSB0byBjYXJ0XG4gICAgICAgIGNvbnN0IG5ld0l0ZW06IENhcnRJdGVtID0ge1xuICAgICAgICAgIHByb2R1Y3QsXG4gICAgICAgICAgcXVhbnRpdHksXG4gICAgICAgICAgc2l6ZTogc2VsZWN0ZWRTaXplLFxuICAgICAgICAgIGNvbG9yOiBzZWxlY3RlZENvbG9yXG4gICAgICAgIH07XG4gICAgICAgIFxuICAgICAgICAvLyBTaG93IG5vdGlmaWNhdGlvblxuICAgICAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LnNob3dOb3RpZmljYXRpb24pIHtcbiAgICAgICAgICB3aW5kb3cuc2hvd05vdGlmaWNhdGlvbihgJHtwcm9kdWN0Lm5hbWV9IGFkZGVkIHRvIGNhcnRgKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgcmV0dXJuIFsuLi5wcmV2Q2FydCwgbmV3SXRlbV07XG4gICAgICB9XG4gICAgfSk7XG4gICAgXG4gICAgcmV0dXJuIHRydWU7XG4gIH07XG5cbiAgY29uc3QgcmVtb3ZlRnJvbUNhcnQgPSAocHJvZHVjdElkOiBzdHJpbmcpID0+IHtcbiAgICBzZXRDYXJ0KHByZXZDYXJ0ID0+IHtcbiAgICAgIGNvbnN0IHVwZGF0ZWRDYXJ0ID0gcHJldkNhcnQuZmlsdGVyKGl0ZW0gPT4gaXRlbS5wcm9kdWN0LmlkICE9PSBwcm9kdWN0SWQpO1xuICAgICAgXG4gICAgICAvLyBTaG93IG5vdGlmaWNhdGlvblxuICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5zaG93Tm90aWZpY2F0aW9uKSB7XG4gICAgICAgIHdpbmRvdy5zaG93Tm90aWZpY2F0aW9uKCdJdGVtIHJlbW92ZWQgZnJvbSBjYXJ0Jyk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIHJldHVybiB1cGRhdGVkQ2FydDtcbiAgICB9KTtcbiAgfTtcblxuICBjb25zdCB1cGRhdGVDYXJ0SXRlbVF1YW50aXR5ID0gKHByb2R1Y3RJZDogc3RyaW5nLCBxdWFudGl0eTogbnVtYmVyKSA9PiB7XG4gICAgc2V0Q2FydChwcmV2Q2FydCA9PiB7XG4gICAgICBjb25zdCB1cGRhdGVkQ2FydCA9IHByZXZDYXJ0Lm1hcChpdGVtID0+IFxuICAgICAgICBpdGVtLnByb2R1Y3QuaWQgPT09IHByb2R1Y3RJZCBcbiAgICAgICAgICA/IHsgLi4uaXRlbSwgcXVhbnRpdHk6IE1hdGgubWF4KDEsIHF1YW50aXR5KSB9IFxuICAgICAgICAgIDogaXRlbVxuICAgICAgKTtcbiAgICAgIFxuICAgICAgcmV0dXJuIHVwZGF0ZWRDYXJ0O1xuICAgIH0pO1xuICB9O1xuXG4gIGNvbnN0IGNsZWFyQ2FydCA9ICgpID0+IHtcbiAgICBzZXRDYXJ0KFtdKTtcbiAgICBcbiAgICAvLyBTaG93IG5vdGlmaWNhdGlvblxuICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cuc2hvd05vdGlmaWNhdGlvbikge1xuICAgICAgd2luZG93LnNob3dOb3RpZmljYXRpb24oJ0NhcnQgY2xlYXJlZCcpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBnZXRDYXJ0VG90YWwgPSAoKSA9PiB7XG4gICAgcmV0dXJuIGNhcnQucmVkdWNlKCh0b3RhbCwgaXRlbSkgPT4gdG90YWwgKyAoaXRlbS5wcm9kdWN0LnByaWNlICogaXRlbS5xdWFudGl0eSksIDApO1xuICB9O1xuXG4gIGNvbnN0IGdldENhcnRDb3VudCA9ICgpID0+IHtcbiAgICByZXR1cm4gY2FydC5yZWR1Y2UoKGNvdW50LCBpdGVtKSA9PiBjb3VudCArIGl0ZW0ucXVhbnRpdHksIDApO1xuICB9O1xuXG4gIGNvbnN0IHRvZ2dsZVdpc2hsaXN0ID0gKHByb2R1Y3Q6IFByb2R1Y3QpOiBib29sZWFuID0+IHtcbiAgICAvLyBDaGVjayBpZiB1c2VyIGlzIGF1dGhlbnRpY2F0ZWRcbiAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIC8vIEltcG9ydCBhdXRoIHV0aWxpdGllc1xuICAgICAgY29uc3QgYXV0aCA9IHJlcXVpcmUoJy4uL3V0aWxzL2F1dGgnKTtcbiAgICAgIFxuICAgICAgaWYgKCFhdXRoLmlzQXV0aGVudGljYXRlZCgpKSB7XG4gICAgICAgIC8vIE5vdCBhdXRoZW50aWNhdGVkLCByZWRpcmVjdCB0byBsb2dpblxuICAgICAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LnNob3dOb3RpZmljYXRpb24pIHtcbiAgICAgICAgICB3aW5kb3cuc2hvd05vdGlmaWNhdGlvbignUGxlYXNlIGxvZyBpbiB0byBtYW5hZ2UgeW91ciB3aXNobGlzdCcsICd3YXJuaW5nJyk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIFN0b3JlIHRoZSBjdXJyZW50IFVSTCB0byByZWRpcmVjdCBiYWNrIGFmdGVyIGxvZ2luXG4gICAgICAgIGNvbnN0IHJldHVyblVybCA9IHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZTtcbiAgICAgICAgXG4gICAgICAgIC8vIFJlZGlyZWN0IHRvIGxvZ2luIHBhZ2VcbiAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBgL2xvZ2luP3JldHVyblVybD0ke2VuY29kZVVSSUNvbXBvbmVudChyZXR1cm5VcmwpfWA7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgc2V0V2lzaGxpc3QocHJldldpc2hsaXN0ID0+IHtcbiAgICAgIGNvbnN0IGlzSW5XaXNobGlzdCA9IHByZXZXaXNobGlzdC5zb21lKGl0ZW0gPT4gaXRlbS5pZCA9PT0gcHJvZHVjdC5pZCk7XG4gICAgICBcbiAgICAgIGlmIChpc0luV2lzaGxpc3QpIHtcbiAgICAgICAgLy8gUmVtb3ZlIGZyb20gd2lzaGxpc3RcbiAgICAgICAgY29uc3QgdXBkYXRlZFdpc2hsaXN0ID0gcHJldldpc2hsaXN0LmZpbHRlcihpdGVtID0+IGl0ZW0uaWQgIT09IHByb2R1Y3QuaWQpO1xuICAgICAgICBcbiAgICAgICAgLy8gU2hvdyBub3RpZmljYXRpb25cbiAgICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5zaG93Tm90aWZpY2F0aW9uKSB7XG4gICAgICAgICAgd2luZG93LnNob3dOb3RpZmljYXRpb24oYCR7cHJvZHVjdC5uYW1lfSByZW1vdmVkIGZyb20gd2lzaGxpc3RgKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgcmV0dXJuIHVwZGF0ZWRXaXNobGlzdDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIEFkZCB0byB3aXNobGlzdFxuICAgICAgICAvLyBTaG93IG5vdGlmaWNhdGlvblxuICAgICAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LnNob3dOb3RpZmljYXRpb24pIHtcbiAgICAgICAgICB3aW5kb3cuc2hvd05vdGlmaWNhdGlvbihgJHtwcm9kdWN0Lm5hbWV9IGFkZGVkIHRvIHdpc2hsaXN0YCk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHJldHVybiBbLi4ucHJldldpc2hsaXN0LCBwcm9kdWN0XTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfTtcblxuICBjb25zdCBpc0luV2lzaGxpc3QgPSAocHJvZHVjdElkOiBzdHJpbmcpID0+IHtcbiAgICByZXR1cm4gd2lzaGxpc3Quc29tZShpdGVtID0+IGl0ZW0uaWQgPT09IHByb2R1Y3RJZCk7XG4gIH07XG5cbiAgY29uc3QgdmFsdWU6IENhcnRDb250ZXh0VHlwZSA9IHtcbiAgICBjYXJ0LFxuICAgIHdpc2hsaXN0LFxuICAgIGFkZFRvQ2FydCxcbiAgICByZW1vdmVGcm9tQ2FydCxcbiAgICB1cGRhdGVDYXJ0SXRlbVF1YW50aXR5LFxuICAgIGNsZWFyQ2FydCxcbiAgICBnZXRDYXJ0VG90YWwsXG4gICAgZ2V0Q2FydENvdW50LFxuICAgIHRvZ2dsZVdpc2hsaXN0LFxuICAgIGlzSW5XaXNobGlzdFxuICB9O1xuXG4gIHJldHVybiA8Q2FydENvbnRleHQuUHJvdmlkZXIgdmFsdWU9e3ZhbHVlfT57Y2hpbGRyZW59PC9DYXJ0Q29udGV4dC5Qcm92aWRlcj47XG59OyAiXSwibmFtZXMiOlsiUmVhY3QiLCJjcmVhdGVDb250ZXh0IiwidXNlQ29udGV4dCIsInVzZUVmZmVjdCIsInVzZVN0YXRlIiwidXNlUm91dGVyIiwiQ2FydENvbnRleHQiLCJ1bmRlZmluZWQiLCJ1c2VDYXJ0IiwiY29udGV4dCIsIkVycm9yIiwiQ2FydFByb3ZpZGVyIiwiY2hpbGRyZW4iLCJjYXJ0Iiwic2V0Q2FydCIsIndpc2hsaXN0Iiwic2V0V2lzaGxpc3QiLCJpc0luaXRpYWxpemVkIiwic2V0SXNJbml0aWFsaXplZCIsInJvdXRlciIsInNhdmVkQ2FydCIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJzYXZlZFdpc2hsaXN0IiwiSlNPTiIsInBhcnNlIiwiZXJyb3IiLCJjb25zb2xlIiwic2V0SXRlbSIsInN0cmluZ2lmeSIsImFkZFRvQ2FydCIsInByb2R1Y3QiLCJxdWFudGl0eSIsInNpemUiLCJjb2xvciIsImF1dGgiLCJyZXF1aXJlIiwiaXNBdXRoZW50aWNhdGVkIiwid2luZG93Iiwic2hvd05vdGlmaWNhdGlvbiIsInJldHVyblVybCIsImxvY2F0aW9uIiwicGF0aG5hbWUiLCJocmVmIiwiZW5jb2RlVVJJQ29tcG9uZW50Iiwic2VsZWN0ZWRTaXplIiwic2l6ZXMiLCJsZW5ndGgiLCJzZWxlY3RlZENvbG9yIiwiY29sb3JzIiwicHJldkNhcnQiLCJleGlzdGluZ0l0ZW1JbmRleCIsImZpbmRJbmRleCIsIml0ZW0iLCJpZCIsImNvZGUiLCJ1cGRhdGVkQ2FydCIsIm5hbWUiLCJuZXdJdGVtIiwicmVtb3ZlRnJvbUNhcnQiLCJwcm9kdWN0SWQiLCJmaWx0ZXIiLCJ1cGRhdGVDYXJ0SXRlbVF1YW50aXR5IiwibWFwIiwiTWF0aCIsIm1heCIsImNsZWFyQ2FydCIsImdldENhcnRUb3RhbCIsInJlZHVjZSIsInRvdGFsIiwicHJpY2UiLCJnZXRDYXJ0Q291bnQiLCJjb3VudCIsInRvZ2dsZVdpc2hsaXN0IiwicHJldldpc2hsaXN0IiwiaXNJbldpc2hsaXN0Iiwic29tZSIsInVwZGF0ZWRXaXNobGlzdCIsInZhbHVlIiwiUHJvdmlkZXIiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./context/CartContext.tsx\n");

/***/ }),

/***/ "./context/ProductContext.tsx":
/*!************************************!*\
  !*** ./context/ProductContext.tsx ***!
  \************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ProductProvider: () => (/* binding */ ProductProvider),\n/* harmony export */   useProducts: () => (/* binding */ useProducts)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _utils_firestore__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/firestore */ \"./utils/firestore.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_utils_firestore__WEBPACK_IMPORTED_MODULE_2__]);\n_utils_firestore__WEBPACK_IMPORTED_MODULE_2__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\nconst ProductContext = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.createContext)(undefined);\nconst useProducts = ()=>{\n    const context = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(ProductContext);\n    if (!context) {\n        throw new Error(\"useProducts must be used within a ProductProvider\");\n    }\n    return context;\n};\nconst ProductProvider = ({ children })=>{\n    const [products, setProducts] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [categories, setCategories] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [productsByCategory, setProductsByCategory] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({});\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    // Organize products by category\n    const organizeProductsByCategory = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((allProducts)=>{\n        const byCategory = {};\n        // Log the organization process\n        console.log(`Organizing ${allProducts.length} products into categories...`);\n        allProducts.forEach((product)=>{\n            // Skip products without category\n            if (!product.category) {\n                console.log(`Skipping product ${product.id} - ${product.name}: missing category`);\n                return;\n            }\n            console.log(`Processing product ${product.id} - ${product.name}: Category=${product.category}, Subcategory=${product.subcategory || \"none\"}`);\n            // Add to main category (normalized to lowercase)\n            const mainCategory = product.category.toLowerCase();\n            if (!byCategory[mainCategory]) {\n                byCategory[mainCategory] = [];\n            }\n            byCategory[mainCategory].push(product);\n            // Also add to subcategory if it exists (normalized to lowercase)\n            if (product.subcategory) {\n                const subcategory = product.subcategory.toLowerCase();\n                if (!byCategory[subcategory]) {\n                    byCategory[subcategory] = [];\n                }\n                // Check if product is already in this subcategory to avoid duplicates\n                if (!byCategory[subcategory].some((p)=>p.id === product.id)) {\n                    byCategory[subcategory].push(product);\n                }\n                // Also add to combined category-subcategory\n                const combinedCategory = `${mainCategory}-${subcategory}`;\n                if (!byCategory[combinedCategory]) {\n                    byCategory[combinedCategory] = [];\n                }\n                // Check if product is already in this combined category to avoid duplicates\n                if (!byCategory[combinedCategory].some((p)=>p.id === product.id)) {\n                    byCategory[combinedCategory].push(product);\n                }\n            }\n            // Add to tags-based categories if tags exist\n            if (Array.isArray(product.tags) && product.tags.length > 0) {\n                product.tags.forEach((tag)=>{\n                    const normalizedTag = tag.toLowerCase();\n                    if (!byCategory[normalizedTag]) {\n                        byCategory[normalizedTag] = [];\n                    }\n                    // Check if product is already in this tag category to avoid duplicates\n                    if (!byCategory[normalizedTag].some((p)=>p.id === product.id)) {\n                        byCategory[normalizedTag].push(product);\n                    }\n                });\n            }\n        });\n        // Log organized categories\n        console.log(`Organized ${allProducts.length} products into ${Object.keys(byCategory).length} categories`);\n        Object.keys(byCategory).forEach((category)=>{\n            console.log(`Category '${category}' has ${byCategory[category].length} products`);\n        });\n        setProductsByCategory(byCategory);\n    }, []);\n    // Fetch all products from Firestore\n    const fetchProducts = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(async ()=>{\n        try {\n            setLoading(true);\n            setError(null);\n            // Clear product cache to ensure fresh data\n            await _utils_firestore__WEBPACK_IMPORTED_MODULE_2__.clearProductCache();\n            // Get data from Firestore\n            console.log(\"Fetching products from Firestore in ProductContext\");\n            const fetchedProducts = await _utils_firestore__WEBPACK_IMPORTED_MODULE_2__.getAllProducts();\n            console.log(`Fetched ${fetchedProducts.length} products from Firestore`);\n            if (fetchedProducts.length === 0) {\n                console.warn(\"Warning: Received empty products array from Firestore\");\n            }\n            // Get categories from Firestore\n            // This is handled automatically by the Firestore API\n            setProducts(fetchedProducts);\n            organizeProductsByCategory(fetchedProducts);\n        } catch (err) {\n            console.error(\"Error fetching products:\", err);\n            // Try once more after a short delay\n            try {\n                console.log(\"Retrying product fetch after error...\");\n                await new Promise((resolve)=>setTimeout(resolve, 1500));\n                const retryProducts = await _utils_firestore__WEBPACK_IMPORTED_MODULE_2__.getAllProducts();\n                console.log(`Retry fetched ${retryProducts.length} products`);\n                setProducts(retryProducts);\n                organizeProductsByCategory(retryProducts);\n                setError(null); // Clear error if retry succeeds\n            } catch (retryErr) {\n                console.error(\"Retry also failed:\", retryErr);\n                setError(retryErr.message || \"Failed to load products. Please try again later.\");\n            }\n        } finally{\n            setLoading(false);\n        }\n    }, [\n        organizeProductsByCategory\n    ]);\n    // Load products on mount\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        fetchProducts();\n    }, [\n        fetchProducts\n    ]);\n    // Get products in a specific category\n    const getProductsInCategory = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((category)=>{\n        return productsByCategory[category] || [];\n    }, [\n        productsByCategory\n    ]);\n    // Add a new product\n    const addNewProduct = async (product)=>{\n        try {\n            setError(null);\n            // Ensure product has required fields\n            if (!product.category) {\n                throw new Error(\"Product category is required\");\n            }\n            console.log(\"Adding new product:\", product);\n            // Add product to Firestore\n            const newProduct = await _utils_firestore__WEBPACK_IMPORTED_MODULE_2__.addProduct(product);\n            console.log(\"Product added with ID:\", newProduct.id);\n            // Refresh products from Firestore to ensure everything is up to date\n            await fetchProducts();\n            return newProduct;\n        } catch (err) {\n            console.error(\"Error adding product:\", err);\n            setError(err.message || \"Failed to add product\");\n            throw err;\n        }\n    };\n    // Update an existing product\n    const updateExistingProduct = async (id, updates)=>{\n        try {\n            setError(null);\n            // Find the existing product to check for category changes\n            const existingProduct = products.find((p)=>p.id === id);\n            if (!existingProduct) {\n                throw new Error(\"Product not found\");\n            }\n            console.log(`Updating product ${id} with:`, updates);\n            // Update in Firestore\n            await _utils_firestore__WEBPACK_IMPORTED_MODULE_2__.updateProduct(id, updates);\n            console.log(`Product ${id} updated successfully`);\n            // Refresh products from Firestore to ensure everything is up to date\n            await fetchProducts();\n        } catch (err) {\n            console.error(\"Error updating product:\", err);\n            setError(err.message || \"Failed to update product\");\n            throw err;\n        }\n    };\n    // Remove a product\n    const removeProduct = async (id)=>{\n        try {\n            setError(null);\n            // Find the product to get its category\n            const productToRemove = products.find((p)=>p.id === id);\n            if (!productToRemove) {\n                throw new Error(\"Product not found\");\n            }\n            console.log(`Deleting product ${id}`);\n            // Delete from Firestore\n            await _utils_firestore__WEBPACK_IMPORTED_MODULE_2__.deleteProduct(id);\n            console.log(`Product ${id} deleted successfully`);\n            // Refresh products from Firestore to ensure everything is up to date\n            await fetchProducts();\n        } catch (err) {\n            console.error(\"Error removing product:\", err);\n            setError(err.message || \"Failed to delete product\");\n            throw err;\n        }\n    };\n    // Upload an image to Firebase Storage\n    const uploadImage = async (file)=>{\n        try {\n            setError(null);\n            return await _utils_firestore__WEBPACK_IMPORTED_MODULE_2__.uploadProductImage(file);\n        } catch (err) {\n            console.error(\"Error uploading image:\", err);\n            setError(err.message || \"Failed to upload image\");\n            throw err;\n        }\n    };\n    // Manual refresh function\n    const refreshProducts = async ()=>{\n        await fetchProducts();\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ProductContext.Provider, {\n        value: {\n            products,\n            categories,\n            productsByCategory,\n            loading,\n            error,\n            addNewProduct,\n            updateExistingProduct,\n            removeProduct,\n            uploadImage,\n            refreshProducts,\n            getProductsInCategory\n        },\n        children: children\n    }, void 0, false, {\n        fileName: \"C:\\\\Projects\\\\Freelansing websites\\\\rangya-master\\\\context\\\\ProductContext.tsx\",\n        lineNumber: 265,\n        columnNumber: 5\n    }, undefined);\n};\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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ZHVjdENvbnRleHQudHN4PzU4ZTYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IGNyZWF0ZUNvbnRleHQsIHVzZUNvbnRleHQsIHVzZVN0YXRlLCB1c2VFZmZlY3QsIHVzZUNhbGxiYWNrIH0gZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgeyBQcm9kdWN0IH0gZnJvbSAnLi4vZGF0YS9wcm9kdWN0cyc7XHJcbmltcG9ydCB7IENhdGVnb3J5IH0gZnJvbSAnLi4vdXRpbHMvbG9jYWxTdG9yYWdlJztcclxuaW1wb3J0ICogYXMgZmlyZXN0b3JlQVBJIGZyb20gJy4uL3V0aWxzL2ZpcmVzdG9yZSc7XHJcblxyXG5pbnRlcmZhY2UgUHJvZHVjdENvbnRleHRUeXBlIHtcclxuICBwcm9kdWN0czogUHJvZHVjdFtdO1xyXG4gIGNhdGVnb3JpZXM6IENhdGVnb3J5W107XHJcbiAgcHJvZHVjdHNCeUNhdGVnb3J5OiBSZWNvcmQ8c3RyaW5nLCBQcm9kdWN0W10+O1xyXG4gIGxvYWRpbmc6IGJvb2xlYW47XHJcbiAgZXJyb3I6IHN0cmluZyB8IG51bGw7XHJcbiAgYWRkTmV3UHJvZHVjdDogKHByb2R1Y3Q6IE9taXQ8UHJvZHVjdCwgJ2lkJz4pID0+IFByb21pc2U8UHJvZHVjdD47XHJcbiAgdXBkYXRlRXhpc3RpbmdQcm9kdWN0OiAoaWQ6IHN0cmluZywgcHJvZHVjdDogUGFydGlhbDxQcm9kdWN0PikgPT4gUHJvbWlzZTx2b2lkPjtcclxuICByZW1vdmVQcm9kdWN0OiAoaWQ6IHN0cmluZykgPT4gUHJvbWlzZTx2b2lkPjtcclxuICB1cGxvYWRJbWFnZTogKGZpbGU6IEZpbGUpID0+IFByb21pc2U8c3RyaW5nPjtcclxuICByZWZyZXNoUHJvZHVjdHM6ICgpID0+IFByb21pc2U8dm9pZD47XHJcbiAgZ2V0UHJvZHVjdHNJbkNhdGVnb3J5OiAoY2F0ZWdvcnk6IHN0cmluZykgPT4gUHJvZHVjdFtdO1xyXG59XHJcblxyXG5jb25zdCBQcm9kdWN0Q29udGV4dCA9IGNyZWF0ZUNvbnRleHQ8UHJvZHVjdENvbnRleHRUeXBlIHwgdW5kZWZpbmVkPih1bmRlZmluZWQpO1xyXG5cclxuZXhwb3J0IGNvbnN0IHVzZVByb2R1Y3RzID0gKCkgPT4ge1xyXG4gIGNvbnN0IGNvbnRleHQgPSB1c2VDb250ZXh0KFByb2R1Y3RDb250ZXh0KTtcclxuICBpZiAoIWNvbnRleHQpIHtcclxuICAgIHRocm93IG5ldyBFcnJvcigndXNlUHJvZHVjdHMgbXVzdCBiZSB1c2VkIHdpdGhpbiBhIFByb2R1Y3RQcm92aWRlcicpO1xyXG4gIH1cclxuICByZXR1cm4gY29udGV4dDtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBQcm9kdWN0UHJvdmlkZXI6IFJlYWN0LkZDPHsgY2hpbGRyZW46IFJlYWN0LlJlYWN0Tm9kZSB9PiA9ICh7IGNoaWxkcmVuIH0pID0+IHtcclxuICBjb25zdCBbcHJvZHVjdHMsIHNldFByb2R1Y3RzXSA9IHVzZVN0YXRlPFByb2R1Y3RbXT4oW10pO1xyXG4gIGNvbnN0IFtjYXRlZ29yaWVzLCBzZXRDYXRlZ29yaWVzXSA9IHVzZVN0YXRlPENhdGVnb3J5W10+KFtdKTtcclxuICBjb25zdCBbcHJvZHVjdHNCeUNhdGVnb3J5LCBzZXRQcm9kdWN0c0J5Q2F0ZWdvcnldID0gdXNlU3RhdGU8UmVjb3JkPHN0cmluZywgUHJvZHVjdFtdPj4oe30pO1xyXG4gIGNvbnN0IFtsb2FkaW5nLCBzZXRMb2FkaW5nXSA9IHVzZVN0YXRlPGJvb2xlYW4+KHRydWUpO1xyXG4gIGNvbnN0IFtlcnJvciwgc2V0RXJyb3JdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XHJcblxyXG4gIC8vIE9yZ2FuaXplIHByb2R1Y3RzIGJ5IGNhdGVnb3J5XHJcbiAgY29uc3Qgb3JnYW5pemVQcm9kdWN0c0J5Q2F0ZWdvcnkgPSB1c2VDYWxsYmFjaygoYWxsUHJvZHVjdHM6IFByb2R1Y3RbXSkgPT4ge1xyXG4gICAgY29uc3QgYnlDYXRlZ29yeTogUmVjb3JkPHN0cmluZywgUHJvZHVjdFtdPiA9IHt9O1xyXG4gICAgXHJcbiAgICAvLyBMb2cgdGhlIG9yZ2FuaXphdGlvbiBwcm9jZXNzXHJcbiAgICBjb25zb2xlLmxvZyhgT3JnYW5pemluZyAke2FsbFByb2R1Y3RzLmxlbmd0aH0gcHJvZHVjdHMgaW50byBjYXRlZ29yaWVzLi4uYCk7XHJcbiAgICBcclxuICAgIGFsbFByb2R1Y3RzLmZvckVhY2gocHJvZHVjdCA9PiB7XHJcbiAgICAgIC8vIFNraXAgcHJvZHVjdHMgd2l0aG91dCBjYXRlZ29yeVxyXG4gICAgICBpZiAoIXByb2R1Y3QuY2F0ZWdvcnkpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhgU2tpcHBpbmcgcHJvZHVjdCAke3Byb2R1Y3QuaWR9IC0gJHtwcm9kdWN0Lm5hbWV9OiBtaXNzaW5nIGNhdGVnb3J5YCk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICBjb25zb2xlLmxvZyhgUHJvY2Vzc2luZyBwcm9kdWN0ICR7cHJvZHVjdC5pZH0gLSAke3Byb2R1Y3QubmFtZX06IENhdGVnb3J5PSR7cHJvZHVjdC5jYXRlZ29yeX0sIFN1YmNhdGVnb3J5PSR7cHJvZHVjdC5zdWJjYXRlZ29yeSB8fCAnbm9uZSd9YCk7XHJcbiAgICAgIFxyXG4gICAgICAvLyBBZGQgdG8gbWFpbiBjYXRlZ29yeSAobm9ybWFsaXplZCB0byBsb3dlcmNhc2UpXHJcbiAgICAgIGNvbnN0IG1haW5DYXRlZ29yeSA9IHByb2R1Y3QuY2F0ZWdvcnkudG9Mb3dlckNhc2UoKTtcclxuICAgICAgaWYgKCFieUNhdGVnb3J5W21haW5DYXRlZ29yeV0pIHtcclxuICAgICAgICBieUNhdGVnb3J5W21haW5DYXRlZ29yeV0gPSBbXTtcclxuICAgICAgfVxyXG4gICAgICBieUNhdGVnb3J5W21haW5DYXRlZ29yeV0ucHVzaChwcm9kdWN0KTtcclxuICAgICAgXHJcbiAgICAgIC8vIEFsc28gYWRkIHRvIHN1YmNhdGVnb3J5IGlmIGl0IGV4aXN0cyAobm9ybWFsaXplZCB0byBsb3dlcmNhc2UpXHJcbiAgICAgIGlmIChwcm9kdWN0LnN1YmNhdGVnb3J5KSB7XHJcbiAgICAgICAgY29uc3Qgc3ViY2F0ZWdvcnkgPSBwcm9kdWN0LnN1YmNhdGVnb3J5LnRvTG93ZXJDYXNlKCk7XHJcbiAgICAgICAgaWYgKCFieUNhdGVnb3J5W3N1YmNhdGVnb3J5XSkge1xyXG4gICAgICAgICAgYnlDYXRlZ29yeVtzdWJjYXRlZ29yeV0gPSBbXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gQ2hlY2sgaWYgcHJvZHVjdCBpcyBhbHJlYWR5IGluIHRoaXMgc3ViY2F0ZWdvcnkgdG8gYXZvaWQgZHVwbGljYXRlc1xyXG4gICAgICAgIGlmICghYnlDYXRlZ29yeVtzdWJjYXRlZ29yeV0uc29tZShwID0+IHAuaWQgPT09IHByb2R1Y3QuaWQpKSB7XHJcbiAgICAgICAgICBieUNhdGVnb3J5W3N1YmNhdGVnb3J5XS5wdXNoKHByb2R1Y3QpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAvLyBBbHNvIGFkZCB0byBjb21iaW5lZCBjYXRlZ29yeS1zdWJjYXRlZ29yeVxyXG4gICAgICAgIGNvbnN0IGNvbWJpbmVkQ2F0ZWdvcnkgPSBgJHttYWluQ2F0ZWdvcnl9LSR7c3ViY2F0ZWdvcnl9YDtcclxuICAgICAgICBpZiAoIWJ5Q2F0ZWdvcnlbY29tYmluZWRDYXRlZ29yeV0pIHtcclxuICAgICAgICAgIGJ5Q2F0ZWdvcnlbY29tYmluZWRDYXRlZ29yeV0gPSBbXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gQ2hlY2sgaWYgcHJvZHVjdCBpcyBhbHJlYWR5IGluIHRoaXMgY29tYmluZWQgY2F0ZWdvcnkgdG8gYXZvaWQgZHVwbGljYXRlc1xyXG4gICAgICAgIGlmICghYnlDYXRlZ29yeVtjb21iaW5lZENhdGVnb3J5XS5zb21lKHAgPT4gcC5pZCA9PT0gcHJvZHVjdC5pZCkpIHtcclxuICAgICAgICAgIGJ5Q2F0ZWdvcnlbY29tYmluZWRDYXRlZ29yeV0ucHVzaChwcm9kdWN0KTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIC8vIEFkZCB0byB0YWdzLWJhc2VkIGNhdGVnb3JpZXMgaWYgdGFncyBleGlzdFxyXG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShwcm9kdWN0LnRhZ3MpICYmIHByb2R1Y3QudGFncy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgcHJvZHVjdC50YWdzLmZvckVhY2godGFnID0+IHtcclxuICAgICAgICAgIGNvbnN0IG5vcm1hbGl6ZWRUYWcgPSB0YWcudG9Mb3dlckNhc2UoKTtcclxuICAgICAgICAgIGlmICghYnlDYXRlZ29yeVtub3JtYWxpemVkVGFnXSkge1xyXG4gICAgICAgICAgICBieUNhdGVnb3J5W25vcm1hbGl6ZWRUYWddID0gW107XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIC8vIENoZWNrIGlmIHByb2R1Y3QgaXMgYWxyZWFkeSBpbiB0aGlzIHRhZyBjYXRlZ29yeSB0byBhdm9pZCBkdXBsaWNhdGVzXHJcbiAgICAgICAgICBpZiAoIWJ5Q2F0ZWdvcnlbbm9ybWFsaXplZFRhZ10uc29tZShwID0+IHAuaWQgPT09IHByb2R1Y3QuaWQpKSB7XHJcbiAgICAgICAgICAgIGJ5Q2F0ZWdvcnlbbm9ybWFsaXplZFRhZ10ucHVzaChwcm9kdWN0KTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICBcclxuICAgIC8vIExvZyBvcmdhbml6ZWQgY2F0ZWdvcmllc1xyXG4gICAgY29uc29sZS5sb2coYE9yZ2FuaXplZCAke2FsbFByb2R1Y3RzLmxlbmd0aH0gcHJvZHVjdHMgaW50byAke09iamVjdC5rZXlzKGJ5Q2F0ZWdvcnkpLmxlbmd0aH0gY2F0ZWdvcmllc2ApO1xyXG4gICAgT2JqZWN0LmtleXMoYnlDYXRlZ29yeSkuZm9yRWFjaChjYXRlZ29yeSA9PiB7XHJcbiAgICAgIGNvbnNvbGUubG9nKGBDYXRlZ29yeSAnJHtjYXRlZ29yeX0nIGhhcyAke2J5Q2F0ZWdvcnlbY2F0ZWdvcnldLmxlbmd0aH0gcHJvZHVjdHNgKTtcclxuICAgIH0pO1xyXG4gICAgXHJcbiAgICBzZXRQcm9kdWN0c0J5Q2F0ZWdvcnkoYnlDYXRlZ29yeSk7XHJcbiAgfSwgW10pO1xyXG5cclxuICAvLyBGZXRjaCBhbGwgcHJvZHVjdHMgZnJvbSBGaXJlc3RvcmVcclxuICBjb25zdCBmZXRjaFByb2R1Y3RzID0gdXNlQ2FsbGJhY2soYXN5bmMgKCkgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgc2V0TG9hZGluZyh0cnVlKTtcclxuICAgICAgc2V0RXJyb3IobnVsbCk7XHJcbiAgICAgIFxyXG4gICAgICAvLyBDbGVhciBwcm9kdWN0IGNhY2hlIHRvIGVuc3VyZSBmcmVzaCBkYXRhXHJcbiAgICAgIGF3YWl0IGZpcmVzdG9yZUFQSS5jbGVhclByb2R1Y3RDYWNoZSgpO1xyXG4gICAgICBcclxuICAgICAgLy8gR2V0IGRhdGEgZnJvbSBGaXJlc3RvcmVcclxuICAgICAgY29uc29sZS5sb2coJ0ZldGNoaW5nIHByb2R1Y3RzIGZyb20gRmlyZXN0b3JlIGluIFByb2R1Y3RDb250ZXh0Jyk7XHJcbiAgICAgIGNvbnN0IGZldGNoZWRQcm9kdWN0cyA9IGF3YWl0IGZpcmVzdG9yZUFQSS5nZXRBbGxQcm9kdWN0cygpO1xyXG4gICAgICBjb25zb2xlLmxvZyhgRmV0Y2hlZCAke2ZldGNoZWRQcm9kdWN0cy5sZW5ndGh9IHByb2R1Y3RzIGZyb20gRmlyZXN0b3JlYCk7XHJcbiAgICAgIFxyXG4gICAgICBpZiAoZmV0Y2hlZFByb2R1Y3RzLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgIGNvbnNvbGUud2FybihcIldhcm5pbmc6IFJlY2VpdmVkIGVtcHR5IHByb2R1Y3RzIGFycmF5IGZyb20gRmlyZXN0b3JlXCIpO1xyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICAvLyBHZXQgY2F0ZWdvcmllcyBmcm9tIEZpcmVzdG9yZVxyXG4gICAgICAvLyBUaGlzIGlzIGhhbmRsZWQgYXV0b21hdGljYWxseSBieSB0aGUgRmlyZXN0b3JlIEFQSVxyXG4gICAgICBcclxuICAgICAgc2V0UHJvZHVjdHMoZmV0Y2hlZFByb2R1Y3RzKTtcclxuICAgICAgb3JnYW5pemVQcm9kdWN0c0J5Q2F0ZWdvcnkoZmV0Y2hlZFByb2R1Y3RzKTtcclxuICAgICAgXHJcbiAgICB9IGNhdGNoIChlcnI6IGFueSkge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBwcm9kdWN0czonLCBlcnIpO1xyXG4gICAgICBcclxuICAgICAgLy8gVHJ5IG9uY2UgbW9yZSBhZnRlciBhIHNob3J0IGRlbGF5XHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ1JldHJ5aW5nIHByb2R1Y3QgZmV0Y2ggYWZ0ZXIgZXJyb3IuLi4nKTtcclxuICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgMTUwMCkpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGNvbnN0IHJldHJ5UHJvZHVjdHMgPSBhd2FpdCBmaXJlc3RvcmVBUEkuZ2V0QWxsUHJvZHVjdHMoKTtcclxuICAgICAgICBjb25zb2xlLmxvZyhgUmV0cnkgZmV0Y2hlZCAke3JldHJ5UHJvZHVjdHMubGVuZ3RofSBwcm9kdWN0c2ApO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHNldFByb2R1Y3RzKHJldHJ5UHJvZHVjdHMpO1xyXG4gICAgICAgIG9yZ2FuaXplUHJvZHVjdHNCeUNhdGVnb3J5KHJldHJ5UHJvZHVjdHMpO1xyXG4gICAgICAgIHNldEVycm9yKG51bGwpOyAvLyBDbGVhciBlcnJvciBpZiByZXRyeSBzdWNjZWVkc1xyXG4gICAgICB9IGNhdGNoIChyZXRyeUVycjogYW55KSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcignUmV0cnkgYWxzbyBmYWlsZWQ6JywgcmV0cnlFcnIpO1xyXG4gICAgICAgIHNldEVycm9yKHJldHJ5RXJyLm1lc3NhZ2UgfHwgJ0ZhaWxlZCB0byBsb2FkIHByb2R1Y3RzLiBQbGVhc2UgdHJ5IGFnYWluIGxhdGVyLicpO1xyXG4gICAgICB9XHJcbiAgICB9IGZpbmFsbHkge1xyXG4gICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcclxuICAgIH1cclxuICB9LCBbb3JnYW5pemVQcm9kdWN0c0J5Q2F0ZWdvcnldKTtcclxuXHJcbiAgLy8gTG9hZCBwcm9kdWN0cyBvbiBtb3VudFxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBmZXRjaFByb2R1Y3RzKCk7XHJcbiAgfSwgW2ZldGNoUHJvZHVjdHNdKTtcclxuXHJcbiAgLy8gR2V0IHByb2R1Y3RzIGluIGEgc3BlY2lmaWMgY2F0ZWdvcnlcclxuICBjb25zdCBnZXRQcm9kdWN0c0luQ2F0ZWdvcnkgPSB1c2VDYWxsYmFjaygoY2F0ZWdvcnk6IHN0cmluZyk6IFByb2R1Y3RbXSA9PiB7XHJcbiAgICByZXR1cm4gcHJvZHVjdHNCeUNhdGVnb3J5W2NhdGVnb3J5XSB8fCBbXTtcclxuICB9LCBbcHJvZHVjdHNCeUNhdGVnb3J5XSk7XHJcblxyXG4gIC8vIEFkZCBhIG5ldyBwcm9kdWN0XHJcbiAgY29uc3QgYWRkTmV3UHJvZHVjdCA9IGFzeW5jIChwcm9kdWN0OiBPbWl0PFByb2R1Y3QsICdpZCc+KTogUHJvbWlzZTxQcm9kdWN0PiA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBzZXRFcnJvcihudWxsKTtcclxuICAgICAgXHJcbiAgICAgIC8vIEVuc3VyZSBwcm9kdWN0IGhhcyByZXF1aXJlZCBmaWVsZHNcclxuICAgICAgaWYgKCFwcm9kdWN0LmNhdGVnb3J5KSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdQcm9kdWN0IGNhdGVnb3J5IGlzIHJlcXVpcmVkJyk7XHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIGNvbnNvbGUubG9nKCdBZGRpbmcgbmV3IHByb2R1Y3Q6JywgcHJvZHVjdCk7XHJcbiAgICAgIFxyXG4gICAgICAvLyBBZGQgcHJvZHVjdCB0byBGaXJlc3RvcmVcclxuICAgICAgY29uc3QgbmV3UHJvZHVjdCA9IGF3YWl0IGZpcmVzdG9yZUFQSS5hZGRQcm9kdWN0KHByb2R1Y3QpO1xyXG4gICAgICBjb25zb2xlLmxvZygnUHJvZHVjdCBhZGRlZCB3aXRoIElEOicsIG5ld1Byb2R1Y3QuaWQpO1xyXG4gICAgICBcclxuICAgICAgLy8gUmVmcmVzaCBwcm9kdWN0cyBmcm9tIEZpcmVzdG9yZSB0byBlbnN1cmUgZXZlcnl0aGluZyBpcyB1cCB0byBkYXRlXHJcbiAgICAgIGF3YWl0IGZldGNoUHJvZHVjdHMoKTtcclxuICAgICAgXHJcbiAgICAgIHJldHVybiBuZXdQcm9kdWN0O1xyXG4gICAgfSBjYXRjaCAoZXJyOiBhbnkpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgYWRkaW5nIHByb2R1Y3Q6JywgZXJyKTtcclxuICAgICAgc2V0RXJyb3IoZXJyLm1lc3NhZ2UgfHwgJ0ZhaWxlZCB0byBhZGQgcHJvZHVjdCcpO1xyXG4gICAgICB0aHJvdyBlcnI7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgLy8gVXBkYXRlIGFuIGV4aXN0aW5nIHByb2R1Y3RcclxuICBjb25zdCB1cGRhdGVFeGlzdGluZ1Byb2R1Y3QgPSBhc3luYyAoaWQ6IHN0cmluZywgdXBkYXRlczogUGFydGlhbDxQcm9kdWN0Pik6IFByb21pc2U8dm9pZD4gPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgc2V0RXJyb3IobnVsbCk7XHJcbiAgICAgIFxyXG4gICAgICAvLyBGaW5kIHRoZSBleGlzdGluZyBwcm9kdWN0IHRvIGNoZWNrIGZvciBjYXRlZ29yeSBjaGFuZ2VzXHJcbiAgICAgIGNvbnN0IGV4aXN0aW5nUHJvZHVjdCA9IHByb2R1Y3RzLmZpbmQocCA9PiBwLmlkID09PSBpZCk7XHJcbiAgICAgIGlmICghZXhpc3RpbmdQcm9kdWN0KSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdQcm9kdWN0IG5vdCBmb3VuZCcpO1xyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICBjb25zb2xlLmxvZyhgVXBkYXRpbmcgcHJvZHVjdCAke2lkfSB3aXRoOmAsIHVwZGF0ZXMpO1xyXG4gICAgICBcclxuICAgICAgLy8gVXBkYXRlIGluIEZpcmVzdG9yZVxyXG4gICAgICBhd2FpdCBmaXJlc3RvcmVBUEkudXBkYXRlUHJvZHVjdChpZCwgdXBkYXRlcyk7XHJcbiAgICAgIGNvbnNvbGUubG9nKGBQcm9kdWN0ICR7aWR9IHVwZGF0ZWQgc3VjY2Vzc2Z1bGx5YCk7XHJcbiAgICAgIFxyXG4gICAgICAvLyBSZWZyZXNoIHByb2R1Y3RzIGZyb20gRmlyZXN0b3JlIHRvIGVuc3VyZSBldmVyeXRoaW5nIGlzIHVwIHRvIGRhdGVcclxuICAgICAgYXdhaXQgZmV0Y2hQcm9kdWN0cygpO1xyXG4gICAgICBcclxuICAgIH0gY2F0Y2ggKGVycjogYW55KSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHVwZGF0aW5nIHByb2R1Y3Q6JywgZXJyKTtcclxuICAgICAgc2V0RXJyb3IoZXJyLm1lc3NhZ2UgfHwgJ0ZhaWxlZCB0byB1cGRhdGUgcHJvZHVjdCcpO1xyXG4gICAgICB0aHJvdyBlcnI7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgLy8gUmVtb3ZlIGEgcHJvZHVjdFxyXG4gIGNvbnN0IHJlbW92ZVByb2R1Y3QgPSBhc3luYyAoaWQ6IHN0cmluZyk6IFByb21pc2U8dm9pZD4gPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgc2V0RXJyb3IobnVsbCk7XHJcbiAgICAgIFxyXG4gICAgICAvLyBGaW5kIHRoZSBwcm9kdWN0IHRvIGdldCBpdHMgY2F0ZWdvcnlcclxuICAgICAgY29uc3QgcHJvZHVjdFRvUmVtb3ZlID0gcHJvZHVjdHMuZmluZChwID0+IHAuaWQgPT09IGlkKTtcclxuICAgICAgaWYgKCFwcm9kdWN0VG9SZW1vdmUpIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1Byb2R1Y3Qgbm90IGZvdW5kJyk7XHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIGNvbnNvbGUubG9nKGBEZWxldGluZyBwcm9kdWN0ICR7aWR9YCk7XHJcbiAgICAgIFxyXG4gICAgICAvLyBEZWxldGUgZnJvbSBGaXJlc3RvcmVcclxuICAgICAgYXdhaXQgZmlyZXN0b3JlQVBJLmRlbGV0ZVByb2R1Y3QoaWQpO1xyXG4gICAgICBjb25zb2xlLmxvZyhgUHJvZHVjdCAke2lkfSBkZWxldGVkIHN1Y2Nlc3NmdWxseWApO1xyXG4gICAgICBcclxuICAgICAgLy8gUmVmcmVzaCBwcm9kdWN0cyBmcm9tIEZpcmVzdG9yZSB0byBlbnN1cmUgZXZlcnl0aGluZyBpcyB1cCB0byBkYXRlXHJcbiAgICAgIGF3YWl0IGZldGNoUHJvZHVjdHMoKTtcclxuICAgICAgXHJcbiAgICB9IGNhdGNoIChlcnI6IGFueSkge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciByZW1vdmluZyBwcm9kdWN0OicsIGVycik7XHJcbiAgICAgIHNldEVycm9yKGVyci5tZXNzYWdlIHx8ICdGYWlsZWQgdG8gZGVsZXRlIHByb2R1Y3QnKTtcclxuICAgICAgdGhyb3cgZXJyO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIC8vIFVwbG9hZCBhbiBpbWFnZSB0byBGaXJlYmFzZSBTdG9yYWdlXHJcbiAgY29uc3QgdXBsb2FkSW1hZ2UgPSBhc3luYyAoZmlsZTogRmlsZSk6IFByb21pc2U8c3RyaW5nPiA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBzZXRFcnJvcihudWxsKTtcclxuICAgICAgcmV0dXJuIGF3YWl0IGZpcmVzdG9yZUFQSS51cGxvYWRQcm9kdWN0SW1hZ2UoZmlsZSk7XHJcbiAgICB9IGNhdGNoIChlcnI6IGFueSkge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciB1cGxvYWRpbmcgaW1hZ2U6JywgZXJyKTtcclxuICAgICAgc2V0RXJyb3IoZXJyLm1lc3NhZ2UgfHwgJ0ZhaWxlZCB0byB1cGxvYWQgaW1hZ2UnKTtcclxuICAgICAgdGhyb3cgZXJyO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIC8vIE1hbnVhbCByZWZyZXNoIGZ1bmN0aW9uXHJcbiAgY29uc3QgcmVmcmVzaFByb2R1Y3RzID0gYXN5bmMgKCk6IFByb21pc2U8dm9pZD4gPT4ge1xyXG4gICAgYXdhaXQgZmV0Y2hQcm9kdWN0cygpO1xyXG4gIH07XHJcblxyXG4gIHJldHVybiAoXHJcbiAgICA8UHJvZHVjdENvbnRleHQuUHJvdmlkZXJcclxuICAgICAgdmFsdWU9e3tcclxuICAgICAgICBwcm9kdWN0cyxcclxuICAgICAgICBjYXRlZ29yaWVzLFxyXG4gICAgICAgIHByb2R1Y3RzQnlDYXRlZ29yeSxcclxuICAgICAgICBsb2FkaW5nLFxyXG4gICAgICAgIGVycm9yLFxyXG4gICAgICAgIGFkZE5ld1Byb2R1Y3QsXHJcbiAgICAgICAgdXBkYXRlRXhpc3RpbmdQcm9kdWN0LFxyXG4gICAgICAgIHJlbW92ZVByb2R1Y3QsXHJcbiAgICAgICAgdXBsb2FkSW1hZ2UsXHJcbiAgICAgICAgcmVmcmVzaFByb2R1Y3RzLFxyXG4gICAgICAgIGdldFByb2R1Y3RzSW5DYXRlZ29yeVxyXG4gICAgICB9fVxyXG4gICAgPlxyXG4gICAgICB7Y2hpbGRyZW59XHJcbiAgICA8L1Byb2R1Y3RDb250ZXh0LlByb3ZpZGVyPlxyXG4gICk7XHJcbn07ICJdLCJuYW1lcyI6WyJSZWFjdCIsImNyZWF0ZUNvbnRleHQiLCJ1c2VDb250ZXh0IiwidXNlU3RhdGUiLCJ1c2VFZmZlY3QiLCJ1c2VDYWxsYmFjayIsImZpcmVzdG9yZUFQSSIsIlByb2R1Y3RDb250ZXh0IiwidW5kZWZpbmVkIiwidXNlUHJvZHVjdHMiLCJjb250ZXh0IiwiRXJyb3IiLCJQcm9kdWN0UHJvdmlkZXIiLCJjaGlsZHJlbiIsInByb2R1Y3RzIiwic2V0UHJvZHVjdHMiLCJjYXRlZ29yaWVzIiwic2V0Q2F0ZWdvcmllcyIsInByb2R1Y3RzQnlDYXRlZ29yeSIsInNldFByb2R1Y3RzQnlDYXRlZ29yeSIsImxvYWRpbmciLCJzZXRMb2FkaW5nIiwiZXJyb3IiLCJzZXRFcnJvciIsIm9yZ2FuaXplUHJvZHVjdHNCeUNhdGVnb3J5IiwiYWxsUHJvZHVjdHMiLCJieUNhdGVnb3J5IiwiY29uc29sZSIsImxvZyIsImxlbmd0aCIsImZvckVhY2giLCJwcm9kdWN0IiwiY2F0ZWdvcnkiLCJpZCIsIm5hbWUiLCJzdWJjYXRlZ29yeSIsIm1haW5DYXRlZ29yeSIsInRvTG93ZXJDYXNlIiwicHVzaCIsInNvbWUiLCJwIiwiY29tYmluZWRDYXRlZ29yeSIsIkFycmF5IiwiaXNBcnJheSIsInRhZ3MiLCJ0YWciLCJub3JtYWxpemVkVGFnIiwiT2JqZWN0Iiwia2V5cyIsImZldGNoUHJvZHVjdHMiLCJjbGVhclByb2R1Y3RDYWNoZSIsImZldGNoZWRQcm9kdWN0cyIsImdldEFsbFByb2R1Y3RzIiwid2FybiIsImVyciIsIlByb21pc2UiLCJyZXNvbHZlIiwic2V0VGltZW91dCIsInJldHJ5UHJvZHVjdHMiLCJyZXRyeUVyciIsIm1lc3NhZ2UiLCJnZXRQcm9kdWN0c0luQ2F0ZWdvcnkiLCJhZGROZXdQcm9kdWN0IiwibmV3UHJvZHVjdCIsImFkZFByb2R1Y3QiLCJ1cGRhdGVFeGlzdGluZ1Byb2R1Y3QiLCJ1cGRhdGVzIiwiZXhpc3RpbmdQcm9kdWN0IiwiZmluZCIsInVwZGF0ZVByb2R1Y3QiLCJyZW1vdmVQcm9kdWN0IiwicHJvZHVjdFRvUmVtb3ZlIiwiZGVsZXRlUHJvZHVjdCIsInVwbG9hZEltYWdlIiwiZmlsZSIsInVwbG9hZFByb2R1Y3RJbWFnZSIsInJlZnJlc2hQcm9kdWN0cyIsIlByb3ZpZGVyIiwidmFsdWUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./context/ProductContext.tsx\n");

/***/ }),

/***/ "./data/products.ts":
/*!**************************!*\
  !*** ./data/products.ts ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getFeaturedProducts: () => (/* binding */ getFeaturedProducts),\n/* harmony export */   getNewProducts: () => (/* binding */ getNewProducts),\n/* harmony export */   getProductById: () => (/* binding */ getProductById),\n/* harmony export */   getProductsByCategory: () => (/* binding */ getProductsByCategory),\n/* harmony export */   getProductsBySubcategory: () => (/* binding */ getProductsBySubcategory),\n/* harmony export */   getRelatedProducts: () => (/* binding */ getRelatedProducts),\n/* harmony export */   products: () => (/* binding */ products),\n/* harmony export */   searchProducts: () => (/* binding */ searchProducts)\n/* harmony export */ });\n// Empty product data - all demo products removed\nconst products = [];\n// Helper functions to filter products\nconst getFeaturedProducts = ()=>{\n    return products.filter((product)=>product.featured);\n};\nconst getNewProducts = ()=>{\n    return products.filter((product)=>product.new);\n};\nconst getProductsByCategory = (category)=>{\n    return products.filter((product)=>product.category === category);\n};\nconst getProductsBySubcategory = (subcategory)=>{\n    return products.filter((product)=>product.subcategory === subcategory);\n};\nconst getProductById = (id)=>{\n    return products.find((product)=>product.id === id);\n};\nconst getRelatedProducts = (product, limit = 4)=>{\n    return products.filter((p)=>p.id !== product.id && (p.category === product.category || p.subcategory === product.subcategory)).slice(0, limit);\n};\nconst searchProducts = (query)=>{\n    const searchTerm = query.toLowerCase();\n    return products.filter((product)=>product.name.toLowerCase().includes(searchTerm) || product.description.toLowerCase().includes(searchTerm) || product.category.toLowerCase().includes(searchTerm) || product.subcategory && product.subcategory.toLowerCase().includes(searchTerm) || product.tags && product.tags.some((tag)=>tag.toLowerCase().includes(searchTerm)));\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9kYXRhL3Byb2R1Y3RzLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBOEJBLGlEQUFpRDtBQUMxQyxNQUFNQSxXQUFzQixFQUFFLENBQUM7QUFFdEMsc0NBQXNDO0FBQy9CLE1BQU1DLHNCQUFzQjtJQUNqQyxPQUFPRCxTQUFTRSxNQUFNLENBQUNDLENBQUFBLFVBQVdBLFFBQVFDLFFBQVE7QUFDcEQsRUFBRTtBQUVLLE1BQU1DLGlCQUFpQjtJQUM1QixPQUFPTCxTQUFTRSxNQUFNLENBQUNDLENBQUFBLFVBQVdBLFFBQVFHLEdBQUc7QUFDL0MsRUFBRTtBQUVLLE1BQU1DLHdCQUF3QixDQUFDQztJQUNwQyxPQUFPUixTQUFTRSxNQUFNLENBQUNDLENBQUFBLFVBQVdBLFFBQVFLLFFBQVEsS0FBS0E7QUFDekQsRUFBRTtBQUVLLE1BQU1DLDJCQUEyQixDQUFDQztJQUN2QyxPQUFPVixTQUFTRSxNQUFNLENBQUNDLENBQUFBLFVBQVdBLFFBQVFPLFdBQVcsS0FBS0E7QUFDNUQsRUFBRTtBQUVLLE1BQU1DLGlCQUFpQixDQUFDQztJQUM3QixPQUFPWixTQUFTYSxJQUFJLENBQUNWLENBQUFBLFVBQVdBLFFBQVFTLEVBQUUsS0FBS0E7QUFDakQsRUFBRTtBQUVLLE1BQU1FLHFCQUFxQixDQUFDWCxTQUFrQlksUUFBUSxDQUFDO0lBQzVELE9BQU9mLFNBQ0pFLE1BQU0sQ0FBQ2MsQ0FBQUEsSUFDTkEsRUFBRUosRUFBRSxLQUFLVCxRQUFRUyxFQUFFLElBQ2xCSSxDQUFBQSxFQUFFUixRQUFRLEtBQUtMLFFBQVFLLFFBQVEsSUFBSVEsRUFBRU4sV0FBVyxLQUFLUCxRQUFRTyxXQUFXLEdBRTFFTyxLQUFLLENBQUMsR0FBR0Y7QUFDZCxFQUFFO0FBRUssTUFBTUcsaUJBQWlCLENBQUNDO0lBQzdCLE1BQU1DLGFBQWFELE1BQU1FLFdBQVc7SUFDcEMsT0FBT3JCLFNBQVNFLE1BQU0sQ0FBQ0MsQ0FBQUEsVUFDckJBLFFBQVFtQixJQUFJLENBQUNELFdBQVcsR0FBR0UsUUFBUSxDQUFDSCxlQUNwQ2pCLFFBQVFxQixXQUFXLENBQUNILFdBQVcsR0FBR0UsUUFBUSxDQUFDSCxlQUMzQ2pCLFFBQVFLLFFBQVEsQ0FBQ2EsV0FBVyxHQUFHRSxRQUFRLENBQUNILGVBQ3ZDakIsUUFBUU8sV0FBVyxJQUFJUCxRQUFRTyxXQUFXLENBQUNXLFdBQVcsR0FBR0UsUUFBUSxDQUFDSCxlQUNsRWpCLFFBQVFzQixJQUFJLElBQUl0QixRQUFRc0IsSUFBSSxDQUFDQyxJQUFJLENBQUNDLENBQUFBLE1BQU9BLElBQUlOLFdBQVcsR0FBR0UsUUFBUSxDQUFDSDtBQUV6RSxFQUFFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vamVhbnMtbmV4dGpzLy4vZGF0YS9wcm9kdWN0cy50cz8wOWNlIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBpbnRlcmZhY2UgUHJvZHVjdCB7XG4gIGlkOiBzdHJpbmc7XG4gIG5hbWU6IHN0cmluZztcbiAgZGVzY3JpcHRpb246IHN0cmluZztcbiAgbG9uZ0Rlc2NyaXB0aW9uPzogc3RyaW5nO1xuICBwcmljZTogbnVtYmVyO1xuICBvcmlnaW5hbFByaWNlPzogbnVtYmVyO1xuICBjYXRlZ29yeTogc3RyaW5nO1xuICBzdWJjYXRlZ29yeT86IHN0cmluZztcbiAgaW1hZ2U6IHN0cmluZztcbiAgZ2FsbGVyeT86IHN0cmluZ1tdO1xuICBmZWF0dXJlZDogYm9vbGVhbjtcbiAgbmV3OiBib29sZWFuO1xuICBzdG9jazogbnVtYmVyO1xuICBkaXNjb3VudD86IG51bWJlcjtcbiAgcmF0aW5nPzogbnVtYmVyO1xuICByZXZpZXdzPzogbnVtYmVyO1xuICBzaXplcz86IHN0cmluZ1tdO1xuICBjb2xvcnM/OiB7IG5hbWU6IHN0cmluZzsgY29kZTogc3RyaW5nIH1bXTtcbiAgdGFncz86IHN0cmluZ1tdO1xuICBza3U/OiBzdHJpbmc7XG4gIGJyYW5kPzogc3RyaW5nO1xuICBtYXRlcmlhbD86IHN0cmluZztcbiAgZml0Pzogc3RyaW5nO1xuICBjYXJlSW5zdHJ1Y3Rpb25zPzogc3RyaW5nO1xuICBjb3VudHJ5T2ZPcmlnaW4/OiBzdHJpbmc7XG4gIGNyZWF0ZWRBdD86IHN0cmluZztcbiAgdXBkYXRlZEF0Pzogc3RyaW5nO1xufVxuXG4vLyBFbXB0eSBwcm9kdWN0IGRhdGEgLSBhbGwgZGVtbyBwcm9kdWN0cyByZW1vdmVkXG5leHBvcnQgY29uc3QgcHJvZHVjdHM6IFByb2R1Y3RbXSA9IFtdO1xuXG4vLyBIZWxwZXIgZnVuY3Rpb25zIHRvIGZpbHRlciBwcm9kdWN0c1xuZXhwb3J0IGNvbnN0IGdldEZlYXR1cmVkUHJvZHVjdHMgPSAoKTogUHJvZHVjdFtdID0+IHtcbiAgcmV0dXJuIHByb2R1Y3RzLmZpbHRlcihwcm9kdWN0ID0+IHByb2R1Y3QuZmVhdHVyZWQpO1xufTtcblxuZXhwb3J0IGNvbnN0IGdldE5ld1Byb2R1Y3RzID0gKCk6IFByb2R1Y3RbXSA9PiB7XG4gIHJldHVybiBwcm9kdWN0cy5maWx0ZXIocHJvZHVjdCA9PiBwcm9kdWN0Lm5ldyk7XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0UHJvZHVjdHNCeUNhdGVnb3J5ID0gKGNhdGVnb3J5OiBzdHJpbmcpOiBQcm9kdWN0W10gPT4ge1xuICByZXR1cm4gcHJvZHVjdHMuZmlsdGVyKHByb2R1Y3QgPT4gcHJvZHVjdC5jYXRlZ29yeSA9PT0gY2F0ZWdvcnkpO1xufTtcblxuZXhwb3J0IGNvbnN0IGdldFByb2R1Y3RzQnlTdWJjYXRlZ29yeSA9IChzdWJjYXRlZ29yeTogc3RyaW5nKTogUHJvZHVjdFtdID0+IHtcbiAgcmV0dXJuIHByb2R1Y3RzLmZpbHRlcihwcm9kdWN0ID0+IHByb2R1Y3Quc3ViY2F0ZWdvcnkgPT09IHN1YmNhdGVnb3J5KTtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRQcm9kdWN0QnlJZCA9IChpZDogc3RyaW5nKTogUHJvZHVjdCB8IHVuZGVmaW5lZCA9PiB7XG4gIHJldHVybiBwcm9kdWN0cy5maW5kKHByb2R1Y3QgPT4gcHJvZHVjdC5pZCA9PT0gaWQpO1xufTtcblxuZXhwb3J0IGNvbnN0IGdldFJlbGF0ZWRQcm9kdWN0cyA9IChwcm9kdWN0OiBQcm9kdWN0LCBsaW1pdCA9IDQpOiBQcm9kdWN0W10gPT4ge1xuICByZXR1cm4gcHJvZHVjdHNcbiAgICAuZmlsdGVyKHAgPT4gXG4gICAgICBwLmlkICE9PSBwcm9kdWN0LmlkICYmIFxuICAgICAgKHAuY2F0ZWdvcnkgPT09IHByb2R1Y3QuY2F0ZWdvcnkgfHwgcC5zdWJjYXRlZ29yeSA9PT0gcHJvZHVjdC5zdWJjYXRlZ29yeSlcbiAgICApXG4gICAgLnNsaWNlKDAsIGxpbWl0KTtcbn07XG5cbmV4cG9ydCBjb25zdCBzZWFyY2hQcm9kdWN0cyA9IChxdWVyeTogc3RyaW5nKTogUHJvZHVjdFtdID0+IHtcbiAgY29uc3Qgc2VhcmNoVGVybSA9IHF1ZXJ5LnRvTG93ZXJDYXNlKCk7XG4gIHJldHVybiBwcm9kdWN0cy5maWx0ZXIocHJvZHVjdCA9PiBcbiAgICBwcm9kdWN0Lm5hbWUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhzZWFyY2hUZXJtKSB8fFxuICAgIHByb2R1Y3QuZGVzY3JpcHRpb24udG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhzZWFyY2hUZXJtKSB8fFxuICAgIHByb2R1Y3QuY2F0ZWdvcnkudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhzZWFyY2hUZXJtKSB8fFxuICAgIChwcm9kdWN0LnN1YmNhdGVnb3J5ICYmIHByb2R1Y3Quc3ViY2F0ZWdvcnkudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhzZWFyY2hUZXJtKSkgfHxcbiAgICAocHJvZHVjdC50YWdzICYmIHByb2R1Y3QudGFncy5zb21lKHRhZyA9PiB0YWcudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhzZWFyY2hUZXJtKSkpXG4gICk7XG59OyAiXSwibmFtZXMiOlsicHJvZHVjdHMiLCJnZXRGZWF0dXJlZFByb2R1Y3RzIiwiZmlsdGVyIiwicHJvZHVjdCIsImZlYXR1cmVkIiwiZ2V0TmV3UHJvZHVjdHMiLCJuZXciLCJnZXRQcm9kdWN0c0J5Q2F0ZWdvcnkiLCJjYXRlZ29yeSIsImdldFByb2R1Y3RzQnlTdWJjYXRlZ29yeSIsInN1YmNhdGVnb3J5IiwiZ2V0UHJvZHVjdEJ5SWQiLCJpZCIsImZpbmQiLCJnZXRSZWxhdGVkUHJvZHVjdHMiLCJsaW1pdCIsInAiLCJzbGljZSIsInNlYXJjaFByb2R1Y3RzIiwicXVlcnkiLCJzZWFyY2hUZXJtIiwidG9Mb3dlckNhc2UiLCJuYW1lIiwiaW5jbHVkZXMiLCJkZXNjcmlwdGlvbiIsInRhZ3MiLCJzb21lIiwidGFnIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./data/products.ts\n");

/***/ }),

/***/ "./pages/_app.tsx":
/*!************************!*\
  !*** ./pages/_app.tsx ***!
  \************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _styles_globals_css__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../styles/globals.css */ \"./styles/globals.css\");\n/* harmony import */ var _styles_globals_css__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_styles_globals_css__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _styles_animations_css__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../styles/animations.css */ \"./styles/animations.css\");\n/* harmony import */ var _styles_animations_css__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_styles_animations_css__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _styles_MobileEnhancements_css__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../styles/MobileEnhancements.css */ \"./styles/MobileEnhancements.css\");\n/* harmony import */ var _styles_MobileEnhancements_css__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_styles_MobileEnhancements_css__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! next/router */ \"./node_modules/next/router.js\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(next_router__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _context_AuthContext__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../context/AuthContext */ \"./context/AuthContext.tsx\");\n/* harmony import */ var _context_ProductContext__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../context/ProductContext */ \"./context/ProductContext.tsx\");\n/* harmony import */ var _context_CartContext__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../context/CartContext */ \"./context/CartContext.tsx\");\n/* harmony import */ var _context_BannerContext__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../context/BannerContext */ \"./context/BannerContext.tsx\");\n/* harmony import */ var _data_products__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../data/products */ \"./data/products.ts\");\n/* harmony import */ var _utils_animation__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../utils/animation */ \"./utils/animation.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_context_AuthContext__WEBPACK_IMPORTED_MODULE_6__, _context_ProductContext__WEBPACK_IMPORTED_MODULE_7__, _context_BannerContext__WEBPACK_IMPORTED_MODULE_9__]);\n([_context_AuthContext__WEBPACK_IMPORTED_MODULE_6__, _context_ProductContext__WEBPACK_IMPORTED_MODULE_7__, _context_BannerContext__WEBPACK_IMPORTED_MODULE_9__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\n\n\n\n\n\n\n\n\n\nfunction initializeLocalStorage() {\n    if (false) {}\n}\nfunction MyApp({ Component, pageProps }) {\n    const [mounted, setMounted] = (0,react__WEBPACK_IMPORTED_MODULE_4__.useState)(false);\n    const router = (0,next_router__WEBPACK_IMPORTED_MODULE_5__.useRouter)();\n    // Initialize localStorage and set mounted state\n    (0,react__WEBPACK_IMPORTED_MODULE_4__.useEffect)(()=>{\n        initializeLocalStorage();\n        setMounted(true);\n        // Initialize scroll animations\n        const observer = (0,_utils_animation__WEBPACK_IMPORTED_MODULE_11__.initScrollAnimations)();\n        // Re-initialize on route changes\n        const handleRouteChange = ()=>{\n            setTimeout(()=>{\n                (0,_utils_animation__WEBPACK_IMPORTED_MODULE_11__.refreshAnimations)();\n            }, 100);\n        };\n        router.events.on(\"routeChangeComplete\", handleRouteChange);\n        // Clean up observer on component unmount\n        return ()=>{\n            if (observer) {\n                observer.disconnect();\n            }\n            router.events.off(\"routeChangeComplete\", handleRouteChange);\n        };\n    }, [\n        router.events\n    ]);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        suppressHydrationWarning: true,\n        className: \"page-transition\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_context_AuthContext__WEBPACK_IMPORTED_MODULE_6__.AuthProvider, {\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_context_ProductContext__WEBPACK_IMPORTED_MODULE_7__.ProductProvider, {\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_context_CartContext__WEBPACK_IMPORTED_MODULE_8__.CartProvider, {\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_context_BannerContext__WEBPACK_IMPORTED_MODULE_9__.BannerProvider, {\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Component, {\n                            ...pageProps\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Projects\\\\Freelansing websites\\\\rangya-master\\\\pages\\\\_app.tsx\",\n                            lineNumber: 128,\n                            columnNumber: 15\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Projects\\\\Freelansing websites\\\\rangya-master\\\\pages\\\\_app.tsx\",\n                        lineNumber: 127,\n                        columnNumber: 13\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"C:\\\\Projects\\\\Freelansing websites\\\\rangya-master\\\\pages\\\\_app.tsx\",\n                    lineNumber: 126,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"C:\\\\Projects\\\\Freelansing websites\\\\rangya-master\\\\pages\\\\_app.tsx\",\n                lineNumber: 125,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"C:\\\\Projects\\\\Freelansing websites\\\\rangya-master\\\\pages\\\\_app.tsx\",\n            lineNumber: 124,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"C:\\\\Projects\\\\Freelansing websites\\\\rangya-master\\\\pages\\\\_app.tsx\",\n        lineNumber: 123,\n        columnNumber: 5\n    }, this);\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (MyApp);\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wYWdlcy9fYXBwLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUErQjtBQUNHO0FBQ1E7QUFFRTtBQUNKO0FBQ2M7QUFDTTtBQUNOO0FBQ0k7QUFDZDtBQUNpQztBQUU3RSxTQUFTVTtJQUNQLElBQUksS0FBa0IsRUFBYSxFQTBFbEM7QUFDSDtBQUVBLFNBQVNpQyxNQUFNLEVBQUVDLFNBQVMsRUFBRUMsU0FBUyxFQUFZO0lBQy9DLE1BQU0sQ0FBQ0MsU0FBU0MsV0FBVyxHQUFHL0MsK0NBQVFBLENBQUM7SUFDdkMsTUFBTWdELFNBQVM5QyxzREFBU0E7SUFFeEIsZ0RBQWdEO0lBQ2hERCxnREFBU0EsQ0FBQztRQUNSUztRQUNBcUMsV0FBVztRQUVYLCtCQUErQjtRQUMvQixNQUFNRSxXQUFXekMsdUVBQW9CQTtRQUVyQyxpQ0FBaUM7UUFDakMsTUFBTTBDLG9CQUFvQjtZQUN4QkMsV0FBVztnQkFDVDFDLG9FQUFpQkE7WUFDbkIsR0FBRztRQUNMO1FBRUF1QyxPQUFPSSxNQUFNLENBQUNDLEVBQUUsQ0FBQyx1QkFBdUJIO1FBRXhDLHlDQUF5QztRQUN6QyxPQUFPO1lBQ0wsSUFBSUQsVUFBVTtnQkFDWkEsU0FBU0ssVUFBVTtZQUNyQjtZQUNBTixPQUFPSSxNQUFNLENBQUNHLEdBQUcsQ0FBQyx1QkFBdUJMO1FBQzNDO0lBQ0YsR0FBRztRQUFDRixPQUFPSSxNQUFNO0tBQUM7SUFFbEIscUJBQ0UsOERBQUNJO1FBQUlDLHdCQUF3QjtRQUFDQyxXQUFVO2tCQUN0Qyw0RUFBQ3ZELDhEQUFZQTtzQkFDWCw0RUFBQ0Msb0VBQWVBOzBCQUNkLDRFQUFDQyw4REFBWUE7OEJBQ1gsNEVBQUNDLGtFQUFjQTtrQ0FDYiw0RUFBQ3NDOzRCQUFXLEdBQUdDLFNBQVM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFPdEM7QUFFQSxpRUFBZUYsS0FBS0EsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2plYW5zLW5leHRqcy8uL3BhZ2VzL19hcHAudHN4PzJmYmUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICcuLi9zdHlsZXMvZ2xvYmFscy5jc3MnO1xuaW1wb3J0ICcuLi9zdHlsZXMvYW5pbWF0aW9ucy5jc3MnO1xuaW1wb3J0ICcuLi9zdHlsZXMvTW9iaWxlRW5oYW5jZW1lbnRzLmNzcyc7XG5pbXBvcnQgdHlwZSB7IEFwcFByb3BzIH0gZnJvbSAnbmV4dC9hcHAnO1xuaW1wb3J0IHsgdXNlU3RhdGUsIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHVzZVJvdXRlciB9IGZyb20gJ25leHQvcm91dGVyJztcbmltcG9ydCB7IEF1dGhQcm92aWRlciB9IGZyb20gJy4uL2NvbnRleHQvQXV0aENvbnRleHQnO1xuaW1wb3J0IHsgUHJvZHVjdFByb3ZpZGVyIH0gZnJvbSAnLi4vY29udGV4dC9Qcm9kdWN0Q29udGV4dCc7XG5pbXBvcnQgeyBDYXJ0UHJvdmlkZXIgfSBmcm9tICcuLi9jb250ZXh0L0NhcnRDb250ZXh0JztcbmltcG9ydCB7IEJhbm5lclByb3ZpZGVyIH0gZnJvbSAnLi4vY29udGV4dC9CYW5uZXJDb250ZXh0JztcbmltcG9ydCB7IHByb2R1Y3RzIH0gZnJvbSAnLi4vZGF0YS9wcm9kdWN0cyc7XG5pbXBvcnQgeyBpbml0U2Nyb2xsQW5pbWF0aW9ucywgcmVmcmVzaEFuaW1hdGlvbnMgfSBmcm9tICcuLi91dGlscy9hbmltYXRpb24nO1xuXG5mdW5jdGlvbiBpbml0aWFsaXplTG9jYWxTdG9yYWdlKCkge1xuICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAvLyBDaGVjayBpZiBwcm9kdWN0cyBleGlzdCBpbiBsb2NhbFN0b3JhZ2VcbiAgICBpZiAoIWxvY2FsU3RvcmFnZS5nZXRJdGVtKCdyYW5neWFfcHJvZHVjdHMnKSkge1xuICAgICAgLy8gSW5pdGlhbGl6ZSB3aXRoIHNhbXBsZSBwcm9kdWN0c1xuICAgICAgY29uc3Qgbm93ID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpO1xuICAgICAgY29uc3QgaW5pdGlhbFByb2R1Y3RzID0gcHJvZHVjdHMubWFwKHByb2R1Y3QgPT4gKHtcbiAgICAgICAgLi4ucHJvZHVjdCxcbiAgICAgICAgY3JlYXRlZEF0OiBub3csXG4gICAgICAgIHVwZGF0ZWRBdDogbm93XG4gICAgICB9KSk7XG4gICAgICBcbiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdyYW5neWFfcHJvZHVjdHMnLCBKU09OLnN0cmluZ2lmeShpbml0aWFsUHJvZHVjdHMpKTtcbiAgICAgIFxuICAgICAgLy8gSW5pdGlhbGl6ZSBjYXRlZ29yaWVzIGZyb20gcHJvZHVjdHNcbiAgICAgIGNvbnN0IGNhdGVnb3J5Q291bnRzOiBSZWNvcmQ8c3RyaW5nLCBudW1iZXI+ID0ge307XG4gICAgICBwcm9kdWN0cy5mb3JFYWNoKHByb2R1Y3QgPT4ge1xuICAgICAgICBpZiAocHJvZHVjdC5jYXRlZ29yeSkge1xuICAgICAgICAgIGNhdGVnb3J5Q291bnRzW3Byb2R1Y3QuY2F0ZWdvcnldID0gKGNhdGVnb3J5Q291bnRzW3Byb2R1Y3QuY2F0ZWdvcnldIHx8IDApICsgMTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBcbiAgICAgIGNvbnN0IGNhdGVnb3JpZXMgPSBPYmplY3QuZW50cmllcyhjYXRlZ29yeUNvdW50cykubWFwKChbaWQsIGNvdW50XSkgPT4gKHtcbiAgICAgICAgaWQsXG4gICAgICAgIG5hbWU6IGlkLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgaWQuc2xpY2UoMSksIC8vIENhcGl0YWxpemUgZmlyc3QgbGV0dGVyXG4gICAgICAgIGNvdW50LFxuICAgICAgICBjcmVhdGVkQXQ6IG5vdyxcbiAgICAgICAgdXBkYXRlZEF0OiBub3dcbiAgICAgIH0pKTtcbiAgICAgIFxuICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3Jhbmd5YV9jYXRlZ29yaWVzJywgSlNPTi5zdHJpbmdpZnkoY2F0ZWdvcmllcykpO1xuICAgIH1cblxuICAgIC8vIEluaXRpYWxpemUgYmFubmVycyBpZiB0aGV5IGRvbid0IGV4aXN0XG4gICAgaWYgKCFsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgncmFuZ3lhX2Jhbm5lcnMnKSkge1xuICAgICAgLy8gRGVmYXVsdCBob21lIHBhZ2UgYmFubmVyc1xuICAgICAgY29uc3Qgbm93ID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpO1xuICAgICAgY29uc3QgaW5pdGlhbEJhbm5lcnMgPSBbXG4gICAgICAgIHtcbiAgICAgICAgICBpZDogJ2Jhbm5lcjEnLFxuICAgICAgICAgIHBhZ2U6ICdob21lJyxcbiAgICAgICAgICBpbWFnZVVybDogJycsIC8vIEVtcHR5IGJ5IGRlZmF1bHQgLSB0byBiZSBzZXQgYnkgYWRtaW5cbiAgICAgICAgICB0aXRsZTogJ01lblxcJ3MgQ29sbGVjdGlvbicsXG4gICAgICAgICAgc3VidGl0bGU6ICdFeHBsb3JlIG91ciBsYXRlc3QgbWVuXFwncyBzdHlsZXMnLFxuICAgICAgICAgIHRleHRDb2xvcjogJyNmZmZmZmYnLFxuICAgICAgICAgIG9yZGVyOiAxLFxuICAgICAgICAgIGNyZWF0ZWRBdDogbm93LFxuICAgICAgICAgIHVwZGF0ZWRBdDogbm93XG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBpZDogJ2Jhbm5lcjInLFxuICAgICAgICAgIHBhZ2U6ICdob21lJyxcbiAgICAgICAgICBpbWFnZVVybDogJycsIC8vIEVtcHR5IGJ5IGRlZmF1bHQgLSB0byBiZSBzZXQgYnkgYWRtaW5cbiAgICAgICAgICB0aXRsZTogJ1ByZW1pdW0gRGVuaW0nLFxuICAgICAgICAgIHN1YnRpdGxlOiAnUXVhbGl0eSBqZWFucyBmb3IgZXZlcnkgb2NjYXNpb24nLFxuICAgICAgICAgIHRleHRDb2xvcjogJyNmZmZmZmYnLFxuICAgICAgICAgIG9yZGVyOiAyLFxuICAgICAgICAgIGNyZWF0ZWRBdDogbm93LFxuICAgICAgICAgIHVwZGF0ZWRBdDogbm93XG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBpZDogJ2Jhbm5lcjMnLFxuICAgICAgICAgIHBhZ2U6ICdob21lJyxcbiAgICAgICAgICBpbWFnZVVybDogJycsIC8vIEVtcHR5IGJ5IGRlZmF1bHQgLSB0byBiZSBzZXQgYnkgYWRtaW5cbiAgICAgICAgICB0aXRsZTogJ0FjY2Vzc29yaWVzJyxcbiAgICAgICAgICBzdWJ0aXRsZTogJ0NvbXBsZXRlIHlvdXIgbG9vaycsXG4gICAgICAgICAgdGV4dENvbG9yOiAnI2ZmZmZmZicsXG4gICAgICAgICAgb3JkZXI6IDMsXG4gICAgICAgICAgY3JlYXRlZEF0OiBub3csXG4gICAgICAgICAgdXBkYXRlZEF0OiBub3dcbiAgICAgICAgfVxuICAgICAgXTtcbiAgICAgIFxuICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3Jhbmd5YV9iYW5uZXJzJywgSlNPTi5zdHJpbmdpZnkoaW5pdGlhbEJhbm5lcnMpKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gTXlBcHAoeyBDb21wb25lbnQsIHBhZ2VQcm9wcyB9OiBBcHBQcm9wcykge1xuICBjb25zdCBbbW91bnRlZCwgc2V0TW91bnRlZF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IHJvdXRlciA9IHVzZVJvdXRlcigpO1xuXG4gIC8vIEluaXRpYWxpemUgbG9jYWxTdG9yYWdlIGFuZCBzZXQgbW91bnRlZCBzdGF0ZVxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGluaXRpYWxpemVMb2NhbFN0b3JhZ2UoKTtcbiAgICBzZXRNb3VudGVkKHRydWUpO1xuICAgIFxuICAgIC8vIEluaXRpYWxpemUgc2Nyb2xsIGFuaW1hdGlvbnNcbiAgICBjb25zdCBvYnNlcnZlciA9IGluaXRTY3JvbGxBbmltYXRpb25zKCk7XG4gICAgXG4gICAgLy8gUmUtaW5pdGlhbGl6ZSBvbiByb3V0ZSBjaGFuZ2VzXG4gICAgY29uc3QgaGFuZGxlUm91dGVDaGFuZ2UgPSAoKSA9PiB7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgcmVmcmVzaEFuaW1hdGlvbnMoKTtcbiAgICAgIH0sIDEwMCk7XG4gICAgfTtcbiAgICBcbiAgICByb3V0ZXIuZXZlbnRzLm9uKCdyb3V0ZUNoYW5nZUNvbXBsZXRlJywgaGFuZGxlUm91dGVDaGFuZ2UpO1xuICAgIFxuICAgIC8vIENsZWFuIHVwIG9ic2VydmVyIG9uIGNvbXBvbmVudCB1bm1vdW50XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGlmIChvYnNlcnZlcikge1xuICAgICAgICBvYnNlcnZlci5kaXNjb25uZWN0KCk7XG4gICAgICB9XG4gICAgICByb3V0ZXIuZXZlbnRzLm9mZigncm91dGVDaGFuZ2VDb21wbGV0ZScsIGhhbmRsZVJvdXRlQ2hhbmdlKTtcbiAgICB9O1xuICB9LCBbcm91dGVyLmV2ZW50c10pO1xuICBcbiAgcmV0dXJuIChcbiAgICA8ZGl2IHN1cHByZXNzSHlkcmF0aW9uV2FybmluZyBjbGFzc05hbWU9XCJwYWdlLXRyYW5zaXRpb25cIj5cbiAgICAgIDxBdXRoUHJvdmlkZXI+XG4gICAgICAgIDxQcm9kdWN0UHJvdmlkZXI+XG4gICAgICAgICAgPENhcnRQcm92aWRlcj5cbiAgICAgICAgICAgIDxCYW5uZXJQcm92aWRlcj5cbiAgICAgICAgICAgICAgPENvbXBvbmVudCB7Li4ucGFnZVByb3BzfSAvPlxuICAgICAgICAgICAgPC9CYW5uZXJQcm92aWRlcj5cbiAgICAgICAgICA8L0NhcnRQcm92aWRlcj5cbiAgICAgICAgPC9Qcm9kdWN0UHJvdmlkZXI+XG4gICAgICA8L0F1dGhQcm92aWRlcj5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgTXlBcHA7ICJdLCJuYW1lcyI6WyJ1c2VTdGF0ZSIsInVzZUVmZmVjdCIsInVzZVJvdXRlciIsIkF1dGhQcm92aWRlciIsIlByb2R1Y3RQcm92aWRlciIsIkNhcnRQcm92aWRlciIsIkJhbm5lclByb3ZpZGVyIiwicHJvZHVjdHMiLCJpbml0U2Nyb2xsQW5pbWF0aW9ucyIsInJlZnJlc2hBbmltYXRpb25zIiwiaW5pdGlhbGl6ZUxvY2FsU3RvcmFnZSIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJub3ciLCJEYXRlIiwidG9JU09TdHJpbmciLCJpbml0aWFsUHJvZHVjdHMiLCJtYXAiLCJwcm9kdWN0IiwiY3JlYXRlZEF0IiwidXBkYXRlZEF0Iiwic2V0SXRlbSIsIkpTT04iLCJzdHJpbmdpZnkiLCJjYXRlZ29yeUNvdW50cyIsImZvckVhY2giLCJjYXRlZ29yeSIsImNhdGVnb3JpZXMiLCJPYmplY3QiLCJlbnRyaWVzIiwiaWQiLCJjb3VudCIsIm5hbWUiLCJjaGFyQXQiLCJ0b1VwcGVyQ2FzZSIsInNsaWNlIiwiaW5pdGlhbEJhbm5lcnMiLCJwYWdlIiwiaW1hZ2VVcmwiLCJ0aXRsZSIsInN1YnRpdGxlIiwidGV4dENvbG9yIiwib3JkZXIiLCJNeUFwcCIsIkNvbXBvbmVudCIsInBhZ2VQcm9wcyIsIm1vdW50ZWQiLCJzZXRNb3VudGVkIiwicm91dGVyIiwib2JzZXJ2ZXIiLCJoYW5kbGVSb3V0ZUNoYW5nZSIsInNldFRpbWVvdXQiLCJldmVudHMiLCJvbiIsImRpc2Nvbm5lY3QiLCJvZmYiLCJkaXYiLCJzdXBwcmVzc0h5ZHJhdGlvbldhcm5pbmciLCJjbGFzc05hbWUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./pages/_app.tsx\n");

/***/ }),

/***/ "./utils/animation.ts":
/*!****************************!*\
  !*** ./utils/animation.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   addPulseAnimation: () => (/* binding */ addPulseAnimation),\n/* harmony export */   addStaggeredAnimations: () => (/* binding */ addStaggeredAnimations),\n/* harmony export */   initScrollAnimations: () => (/* binding */ initScrollAnimations),\n/* harmony export */   refreshAnimations: () => (/* binding */ refreshAnimations)\n/* harmony export */ });\n/**\r\n * Utility functions for animations throughout the website\r\n */ /**\r\n * Initializes scroll animations for elements with the 'animate-on-scroll' class\r\n * This function can be called after dynamic content is loaded\r\n */ const initScrollAnimations = ()=>{\n    if (false) {}\n    return null;\n};\n/**\r\n * Adds a pulse animation to an element\r\n * @param element The element to animate\r\n * @param duration Duration of the animation in milliseconds\r\n */ const addPulseAnimation = (element, duration = 1000)=>{\n    if (!element) return;\n    element.style.animation = `pulse ${duration}ms ease`;\n    // Remove animation after it completes\n    setTimeout(()=>{\n        element.style.animation = \"\";\n    }, duration);\n};\n/**\r\n * Adds staggered animations to a list of elements\r\n * @param elements NodeList or array of elements to animate\r\n * @param animationClass The CSS animation class to add\r\n * @param delayBetween Delay between each element's animation in milliseconds\r\n */ const addStaggeredAnimations = (elements, animationClass = \"fade-in\", delayBetween = 100)=>{\n    if (!elements || !elements.length) return;\n    Array.from(elements).forEach((element, index)=>{\n        const htmlElement = element;\n        setTimeout(()=>{\n            htmlElement.classList.add(animationClass);\n        }, index * delayBetween);\n    });\n};\n/**\r\n * Reinitializes animations on page navigation\r\n * Call this function when the route changes\r\n */ const refreshAnimations = ()=>{\n    if (false) {}\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi91dGlscy9hbmltYXRpb24udHMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztDQUVDLEdBRUQ7OztDQUdDLEdBQ00sTUFBTUEsdUJBQXVCO0lBQ2xDLElBQUksS0FBa0IsRUFBYSxFQWdCbEM7SUFDRCxPQUFPO0FBQ1QsRUFBRTtBQUVGOzs7O0NBSUMsR0FDTSxNQUFNZ0Isb0JBQW9CLENBQUNGLFNBQXNCRyxXQUFXLElBQUk7SUFDckUsSUFBSSxDQUFDSCxTQUFTO0lBRWRBLFFBQVFJLEtBQUssQ0FBQ0MsU0FBUyxHQUFHLENBQUMsTUFBTSxFQUFFRixTQUFTLE9BQU8sQ0FBQztJQUVwRCxzQ0FBc0M7SUFDdENHLFdBQVc7UUFDVE4sUUFBUUksS0FBSyxDQUFDQyxTQUFTLEdBQUc7SUFDNUIsR0FBR0Y7QUFDTCxFQUFFO0FBRUY7Ozs7O0NBS0MsR0FDTSxNQUFNSSx5QkFBeUIsQ0FDcENDLFVBQ0FDLGlCQUFpQixTQUFTLEVBQzFCQyxlQUFlLEdBQUc7SUFFbEIsSUFBSSxDQUFDRixZQUFZLENBQUNBLFNBQVNHLE1BQU0sRUFBRTtJQUVuQ0MsTUFBTUMsSUFBSSxDQUFDTCxVQUFVZixPQUFPLENBQUMsQ0FBQ08sU0FBU2M7UUFDckMsTUFBTUMsY0FBY2Y7UUFDcEJNLFdBQVc7WUFDVFMsWUFBWWxCLFNBQVMsQ0FBQ0MsR0FBRyxDQUFDVztRQUM1QixHQUFHSyxRQUFRSjtJQUNiO0FBQ0YsRUFBRTtBQUVGOzs7Q0FHQyxHQUNNLE1BQU1NLG9CQUFvQjtJQUMvQixJQUFJLEtBQWtCLEVBQWEsRUFhbEM7QUFDSCxFQUFFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vamVhbnMtbmV4dGpzLy4vdXRpbHMvYW5pbWF0aW9uLnRzPzIxMDEiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIFV0aWxpdHkgZnVuY3Rpb25zIGZvciBhbmltYXRpb25zIHRocm91Z2hvdXQgdGhlIHdlYnNpdGVcclxuICovXHJcblxyXG4vKipcclxuICogSW5pdGlhbGl6ZXMgc2Nyb2xsIGFuaW1hdGlvbnMgZm9yIGVsZW1lbnRzIHdpdGggdGhlICdhbmltYXRlLW9uLXNjcm9sbCcgY2xhc3NcclxuICogVGhpcyBmdW5jdGlvbiBjYW4gYmUgY2FsbGVkIGFmdGVyIGR5bmFtaWMgY29udGVudCBpcyBsb2FkZWRcclxuICovXHJcbmV4cG9ydCBjb25zdCBpbml0U2Nyb2xsQW5pbWF0aW9ucyA9ICgpOiBJbnRlcnNlY3Rpb25PYnNlcnZlciB8IG51bGwgPT4ge1xyXG4gIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgY29uc3QgYW5pbWF0ZU9uU2Nyb2xsRWxlbWVudHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuYW5pbWF0ZS1vbi1zY3JvbGwnKTtcclxuICAgIFxyXG4gICAgY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoKGVudHJpZXMpID0+IHtcclxuICAgICAgZW50cmllcy5mb3JFYWNoKGVudHJ5ID0+IHtcclxuICAgICAgICBpZiAoZW50cnkuaXNJbnRlcnNlY3RpbmcpIHtcclxuICAgICAgICAgIGVudHJ5LnRhcmdldC5jbGFzc0xpc3QuYWRkKCd2aXNpYmxlJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgIH0sIHsgdGhyZXNob2xkOiAwLjEgfSk7XHJcbiAgICBcclxuICAgIGFuaW1hdGVPblNjcm9sbEVsZW1lbnRzLmZvckVhY2goZWxlbWVudCA9PiB7XHJcbiAgICAgIG9ic2VydmVyLm9ic2VydmUoZWxlbWVudCk7XHJcbiAgICB9KTtcclxuICAgIFxyXG4gICAgcmV0dXJuIG9ic2VydmVyO1xyXG4gIH1cclxuICByZXR1cm4gbnVsbDtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBBZGRzIGEgcHVsc2UgYW5pbWF0aW9uIHRvIGFuIGVsZW1lbnRcclxuICogQHBhcmFtIGVsZW1lbnQgVGhlIGVsZW1lbnQgdG8gYW5pbWF0ZVxyXG4gKiBAcGFyYW0gZHVyYXRpb24gRHVyYXRpb24gb2YgdGhlIGFuaW1hdGlvbiBpbiBtaWxsaXNlY29uZHNcclxuICovXHJcbmV4cG9ydCBjb25zdCBhZGRQdWxzZUFuaW1hdGlvbiA9IChlbGVtZW50OiBIVE1MRWxlbWVudCwgZHVyYXRpb24gPSAxMDAwKTogdm9pZCA9PiB7XHJcbiAgaWYgKCFlbGVtZW50KSByZXR1cm47XHJcbiAgXHJcbiAgZWxlbWVudC5zdHlsZS5hbmltYXRpb24gPSBgcHVsc2UgJHtkdXJhdGlvbn1tcyBlYXNlYDtcclxuICBcclxuICAvLyBSZW1vdmUgYW5pbWF0aW9uIGFmdGVyIGl0IGNvbXBsZXRlc1xyXG4gIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgZWxlbWVudC5zdHlsZS5hbmltYXRpb24gPSAnJztcclxuICB9LCBkdXJhdGlvbik7XHJcbn07XHJcblxyXG4vKipcclxuICogQWRkcyBzdGFnZ2VyZWQgYW5pbWF0aW9ucyB0byBhIGxpc3Qgb2YgZWxlbWVudHNcclxuICogQHBhcmFtIGVsZW1lbnRzIE5vZGVMaXN0IG9yIGFycmF5IG9mIGVsZW1lbnRzIHRvIGFuaW1hdGVcclxuICogQHBhcmFtIGFuaW1hdGlvbkNsYXNzIFRoZSBDU1MgYW5pbWF0aW9uIGNsYXNzIHRvIGFkZFxyXG4gKiBAcGFyYW0gZGVsYXlCZXR3ZWVuIERlbGF5IGJldHdlZW4gZWFjaCBlbGVtZW50J3MgYW5pbWF0aW9uIGluIG1pbGxpc2Vjb25kc1xyXG4gKi9cclxuZXhwb3J0IGNvbnN0IGFkZFN0YWdnZXJlZEFuaW1hdGlvbnMgPSAoXHJcbiAgZWxlbWVudHM6IE5vZGVMaXN0T2Y8RWxlbWVudD4gfCBIVE1MRWxlbWVudFtdLFxyXG4gIGFuaW1hdGlvbkNsYXNzID0gJ2ZhZGUtaW4nLFxyXG4gIGRlbGF5QmV0d2VlbiA9IDEwMFxyXG4pOiB2b2lkID0+IHtcclxuICBpZiAoIWVsZW1lbnRzIHx8ICFlbGVtZW50cy5sZW5ndGgpIHJldHVybjtcclxuICBcclxuICBBcnJheS5mcm9tKGVsZW1lbnRzKS5mb3JFYWNoKChlbGVtZW50LCBpbmRleCkgPT4ge1xyXG4gICAgY29uc3QgaHRtbEVsZW1lbnQgPSBlbGVtZW50IGFzIEhUTUxFbGVtZW50O1xyXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgIGh0bWxFbGVtZW50LmNsYXNzTGlzdC5hZGQoYW5pbWF0aW9uQ2xhc3MpO1xyXG4gICAgfSwgaW5kZXggKiBkZWxheUJldHdlZW4pO1xyXG4gIH0pO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIFJlaW5pdGlhbGl6ZXMgYW5pbWF0aW9ucyBvbiBwYWdlIG5hdmlnYXRpb25cclxuICogQ2FsbCB0aGlzIGZ1bmN0aW9uIHdoZW4gdGhlIHJvdXRlIGNoYW5nZXNcclxuICovXHJcbmV4cG9ydCBjb25zdCByZWZyZXNoQW5pbWF0aW9ucyA9ICgpOiB2b2lkID0+IHtcclxuICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgIC8vIFJlc2V0IGFueSBleGlzdGluZyBhbmltYXRpb25zXHJcbiAgICBjb25zdCBhbmltYXRlZEVsZW1lbnRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2NsYXNzKj1cImZhZGUtXCJdLCBbY2xhc3MqPVwic2NhbGUtXCJdJyk7XHJcbiAgICBhbmltYXRlZEVsZW1lbnRzLmZvckVhY2goZWxlbWVudCA9PiB7XHJcbiAgICAgIC8vIEZvcmNlIGEgcmVmbG93IHRvIHJlc3RhcnQgYW5pbWF0aW9uc1xyXG4gICAgICBlbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ3Zpc2libGUnKTtcclxuICAgICAgLy8gQ2FzdCB0byBIVE1MRWxlbWVudCB0byBhY2Nlc3Mgb2Zmc2V0V2lkdGhcclxuICAgICAgdm9pZCAoZWxlbWVudCBhcyBIVE1MRWxlbWVudCkub2Zmc2V0V2lkdGg7IC8vIFRyaWdnZXIgcmVmbG93XHJcbiAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZCgndmlzaWJsZScpO1xyXG4gICAgfSk7XHJcbiAgICBcclxuICAgIC8vIFJlaW5pdGlhbGl6ZSBzY3JvbGwgYW5pbWF0aW9uc1xyXG4gICAgaW5pdFNjcm9sbEFuaW1hdGlvbnMoKTtcclxuICB9XHJcbn07ICJdLCJuYW1lcyI6WyJpbml0U2Nyb2xsQW5pbWF0aW9ucyIsImFuaW1hdGVPblNjcm9sbEVsZW1lbnRzIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yQWxsIiwib2JzZXJ2ZXIiLCJJbnRlcnNlY3Rpb25PYnNlcnZlciIsImVudHJpZXMiLCJmb3JFYWNoIiwiZW50cnkiLCJpc0ludGVyc2VjdGluZyIsInRhcmdldCIsImNsYXNzTGlzdCIsImFkZCIsInRocmVzaG9sZCIsImVsZW1lbnQiLCJvYnNlcnZlIiwiYWRkUHVsc2VBbmltYXRpb24iLCJkdXJhdGlvbiIsInN0eWxlIiwiYW5pbWF0aW9uIiwic2V0VGltZW91dCIsImFkZFN0YWdnZXJlZEFuaW1hdGlvbnMiLCJlbGVtZW50cyIsImFuaW1hdGlvbkNsYXNzIiwiZGVsYXlCZXR3ZWVuIiwibGVuZ3RoIiwiQXJyYXkiLCJmcm9tIiwiaW5kZXgiLCJodG1sRWxlbWVudCIsInJlZnJlc2hBbmltYXRpb25zIiwiYW5pbWF0ZWRFbGVtZW50cyIsInJlbW92ZSIsIm9mZnNldFdpZHRoIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./utils/animation.ts\n");

/***/ }),

/***/ "./utils/auth.ts":
/*!***********************!*\
  !*** ./utils/auth.ts ***!
  \***********************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getCurrentUser: () => (/* binding */ getCurrentUser),\n/* harmony export */   isAuthenticated: () => (/* binding */ isAuthenticated),\n/* harmony export */   login: () => (/* binding */ login),\n/* harmony export */   logout: () => (/* binding */ logout),\n/* harmony export */   register: () => (/* binding */ register)\n/* harmony export */ });\n/* harmony import */ var _firebase__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./firebase */ \"./utils/firebase.ts\");\n/* harmony import */ var firebase_auth__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! firebase/auth */ \"firebase/auth\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_firebase__WEBPACK_IMPORTED_MODULE_0__, firebase_auth__WEBPACK_IMPORTED_MODULE_1__]);\n([_firebase__WEBPACK_IMPORTED_MODULE_0__, firebase_auth__WEBPACK_IMPORTED_MODULE_1__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\nconst auth = (0,firebase_auth__WEBPACK_IMPORTED_MODULE_1__.getAuth)(_firebase__WEBPACK_IMPORTED_MODULE_0__.app);\nconst STORAGE_KEY = \"nikhilsJeansAuthToken\";\nconst getCurrentUser = ()=>{\n    if (true) return null;\n    // Instead of storing the full user object, we now rely on Firebase's auth state\n    const currentUser = auth.currentUser;\n    if (!currentUser) return null;\n    return {\n        id: currentUser.uid,\n        name: currentUser.displayName || currentUser.email?.split(\"@\")[0] || \"User\",\n        email: currentUser.email || \"\",\n        emailVerified: currentUser.emailVerified\n    };\n};\nconst isAuthenticated = ()=>{\n    if (true) return false;\n    // Check if user is authenticated with Firebase\n    return !!auth.currentUser;\n};\nconst login = async (email, password)=>{\n    try {\n        // Use Firebase authentication\n        const userCredential = await (0,firebase_auth__WEBPACK_IMPORTED_MODULE_1__.signInWithEmailAndPassword)(auth, email, password);\n        const firebaseUser = userCredential.user;\n        // Store only the auth token in localStorage for persistence\n        const token = await firebaseUser.getIdToken();\n        localStorage.setItem(STORAGE_KEY, token);\n        // Check if email is verified\n        if (!firebaseUser.emailVerified) {\n            // Create user object for the app\n            const user = {\n                id: firebaseUser.uid,\n                name: firebaseUser.displayName || email.split(\"@\")[0],\n                email: firebaseUser.email || email,\n                emailVerified: false\n            };\n            return {\n                success: true,\n                message: \"Login successful, but please verify your email\",\n                user,\n                emailVerified: false\n            };\n        }\n        // Create user object for the app\n        const user = {\n            id: firebaseUser.uid,\n            name: firebaseUser.displayName || email.split(\"@\")[0],\n            email: firebaseUser.email || email,\n            emailVerified: true\n        };\n        return {\n            success: true,\n            message: \"Login successful\",\n            user,\n            emailVerified: true\n        };\n    } catch (error) {\n        console.error(\"Login error:\", error);\n        let message = \"An error occurred during login\";\n        // Parse Firebase error messages\n        if (error.code === \"auth/user-not-found\") {\n            message = \"No user found with this email\";\n        } else if (error.code === \"auth/wrong-password\") {\n            message = \"Invalid password\";\n        } else if (error.code === \"auth/invalid-email\") {\n            message = \"Invalid email address\";\n        } else if (error.code === \"auth/user-disabled\") {\n            message = \"This account has been disabled\";\n        } else if (error.code === \"auth/network-request-failed\") {\n            message = \"Network error. Please check your connection.\";\n        }\n        return {\n            success: false,\n            message\n        };\n    }\n};\nconst register = async (name, email, password)=>{\n    try {\n        // Use Firebase authentication\n        const userCredential = await (0,firebase_auth__WEBPACK_IMPORTED_MODULE_1__.createUserWithEmailAndPassword)(auth, email, password);\n        const firebaseUser = userCredential.user;\n        // Send email verification\n        await (0,firebase_auth__WEBPACK_IMPORTED_MODULE_1__.sendEmailVerification)(firebaseUser);\n        // Store only the auth token in localStorage for persistence\n        const token = await firebaseUser.getIdToken();\n        localStorage.setItem(STORAGE_KEY, token);\n        // Create user object\n        const user = {\n            id: firebaseUser.uid,\n            name: name || email.split(\"@\")[0],\n            email: firebaseUser.email || email,\n            emailVerified: false\n        };\n        return {\n            success: true,\n            message: \"Registration successful. Please check your email to verify your account.\",\n            user,\n            emailVerificationSent: true\n        };\n    } catch (error) {\n        console.error(\"Registration error:\", error);\n        let message = \"An error occurred during registration\";\n        // Parse Firebase error messages\n        if (error.code === \"auth/email-already-in-use\") {\n            message = \"User with this email already exists\";\n        } else if (error.code === \"auth/invalid-email\") {\n            message = \"Invalid email address\";\n        } else if (error.code === \"auth/weak-password\") {\n            message = \"Password is too weak\";\n        } else if (error.code === \"auth/network-request-failed\") {\n            message = \"Network error. Please check your connection.\";\n        }\n        return {\n            success: false,\n            message\n        };\n    }\n};\nconst logout = async ()=>{\n    try {\n        await (0,firebase_auth__WEBPACK_IMPORTED_MODULE_1__.signOut)(auth);\n        // Clear the auth token from localStorage\n        localStorage.removeItem(STORAGE_KEY);\n        return {\n            success: true,\n            message: \"Logout successful\"\n        };\n    } catch (error) {\n        console.error(\"Logout error:\", error);\n        return {\n            success: false,\n            message: \"An error occurred during logout\"\n        };\n    }\n};\n// Set up auth state listener\nif (false) {}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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cGFjazovL2plYW5zLW5leHRqcy8uL3V0aWxzL2F1dGgudHM/YjM4YSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBVc2VyIH0gZnJvbSAnLi4vZGF0YS90eXBlcyc7XG5pbXBvcnQgeyBhcHAgfSBmcm9tICcuL2ZpcmViYXNlJztcbmltcG9ydCB7IFxuICBnZXRBdXRoLCBcbiAgc2lnbkluV2l0aEVtYWlsQW5kUGFzc3dvcmQsIFxuICBjcmVhdGVVc2VyV2l0aEVtYWlsQW5kUGFzc3dvcmQsXG4gIHNpZ25PdXQsXG4gIG9uQXV0aFN0YXRlQ2hhbmdlZCxcbiAgc2VuZEVtYWlsVmVyaWZpY2F0aW9uLFxuICBnZXRJZFRva2VuXG59IGZyb20gJ2ZpcmViYXNlL2F1dGgnO1xuXG5jb25zdCBhdXRoID0gZ2V0QXV0aChhcHApO1xuY29uc3QgU1RPUkFHRV9LRVkgPSAnbmlraGlsc0plYW5zQXV0aFRva2VuJztcblxuZXhwb3J0IGNvbnN0IGdldEN1cnJlbnRVc2VyID0gKCk6IFVzZXIgfCBudWxsID0+IHtcbiAgaWYgKHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnKSByZXR1cm4gbnVsbDtcbiAgXG4gIC8vIEluc3RlYWQgb2Ygc3RvcmluZyB0aGUgZnVsbCB1c2VyIG9iamVjdCwgd2Ugbm93IHJlbHkgb24gRmlyZWJhc2UncyBhdXRoIHN0YXRlXG4gIGNvbnN0IGN1cnJlbnRVc2VyID0gYXV0aC5jdXJyZW50VXNlcjtcbiAgXG4gIGlmICghY3VycmVudFVzZXIpIHJldHVybiBudWxsO1xuICBcbiAgcmV0dXJuIHtcbiAgICBpZDogY3VycmVudFVzZXIudWlkLFxuICAgIG5hbWU6IGN1cnJlbnRVc2VyLmRpc3BsYXlOYW1lIHx8IGN1cnJlbnRVc2VyLmVtYWlsPy5zcGxpdCgnQCcpWzBdIHx8ICdVc2VyJyxcbiAgICBlbWFpbDogY3VycmVudFVzZXIuZW1haWwgfHwgJycsXG4gICAgZW1haWxWZXJpZmllZDogY3VycmVudFVzZXIuZW1haWxWZXJpZmllZFxuICB9O1xufTtcblxuZXhwb3J0IGNvbnN0IGlzQXV0aGVudGljYXRlZCA9ICgpOiBib29sZWFuID0+IHtcbiAgaWYgKHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnKSByZXR1cm4gZmFsc2U7XG4gIFxuICAvLyBDaGVjayBpZiB1c2VyIGlzIGF1dGhlbnRpY2F0ZWQgd2l0aCBGaXJlYmFzZVxuICByZXR1cm4gISFhdXRoLmN1cnJlbnRVc2VyO1xufTtcblxuZXhwb3J0IGNvbnN0IGxvZ2luID0gYXN5bmMgKFxuICBlbWFpbDogc3RyaW5nLFxuICBwYXNzd29yZDogc3RyaW5nXG4pOiBQcm9taXNlPHsgc3VjY2VzczogYm9vbGVhbjsgbWVzc2FnZTogc3RyaW5nOyB1c2VyPzogVXNlcjsgZW1haWxWZXJpZmllZD86IGJvb2xlYW4gfT4gPT4ge1xuICB0cnkge1xuICAgIC8vIFVzZSBGaXJlYmFzZSBhdXRoZW50aWNhdGlvblxuICAgIGNvbnN0IHVzZXJDcmVkZW50aWFsID0gYXdhaXQgc2lnbkluV2l0aEVtYWlsQW5kUGFzc3dvcmQoYXV0aCwgZW1haWwsIHBhc3N3b3JkKTtcbiAgICBjb25zdCBmaXJlYmFzZVVzZXIgPSB1c2VyQ3JlZGVudGlhbC51c2VyO1xuICAgIFxuICAgIC8vIFN0b3JlIG9ubHkgdGhlIGF1dGggdG9rZW4gaW4gbG9jYWxTdG9yYWdlIGZvciBwZXJzaXN0ZW5jZVxuICAgIGNvbnN0IHRva2VuID0gYXdhaXQgZmlyZWJhc2VVc2VyLmdldElkVG9rZW4oKTtcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShTVE9SQUdFX0tFWSwgdG9rZW4pO1xuICAgIFxuICAgIC8vIENoZWNrIGlmIGVtYWlsIGlzIHZlcmlmaWVkXG4gICAgaWYgKCFmaXJlYmFzZVVzZXIuZW1haWxWZXJpZmllZCkge1xuICAgICAgLy8gQ3JlYXRlIHVzZXIgb2JqZWN0IGZvciB0aGUgYXBwXG4gICAgICBjb25zdCB1c2VyOiBVc2VyID0ge1xuICAgICAgICBpZDogZmlyZWJhc2VVc2VyLnVpZCxcbiAgICAgICAgbmFtZTogZmlyZWJhc2VVc2VyLmRpc3BsYXlOYW1lIHx8IGVtYWlsLnNwbGl0KCdAJylbMF0sIFxuICAgICAgICBlbWFpbDogZmlyZWJhc2VVc2VyLmVtYWlsIHx8IGVtYWlsLFxuICAgICAgICBlbWFpbFZlcmlmaWVkOiBmYWxzZVxuICAgICAgfTtcbiAgICAgIFxuICAgICAgcmV0dXJuIHsgXG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsIFxuICAgICAgICBtZXNzYWdlOiAnTG9naW4gc3VjY2Vzc2Z1bCwgYnV0IHBsZWFzZSB2ZXJpZnkgeW91ciBlbWFpbCcsXG4gICAgICAgIHVzZXIsXG4gICAgICAgIGVtYWlsVmVyaWZpZWQ6IGZhbHNlXG4gICAgICB9O1xuICAgIH1cbiAgICBcbiAgICAvLyBDcmVhdGUgdXNlciBvYmplY3QgZm9yIHRoZSBhcHBcbiAgICBjb25zdCB1c2VyOiBVc2VyID0ge1xuICAgICAgaWQ6IGZpcmViYXNlVXNlci51aWQsXG4gICAgICBuYW1lOiBmaXJlYmFzZVVzZXIuZGlzcGxheU5hbWUgfHwgZW1haWwuc3BsaXQoJ0AnKVswXSwgXG4gICAgICBlbWFpbDogZmlyZWJhc2VVc2VyLmVtYWlsIHx8IGVtYWlsLFxuICAgICAgZW1haWxWZXJpZmllZDogdHJ1ZVxuICAgIH07XG4gICAgXG4gICAgcmV0dXJuIHsgXG4gICAgICBzdWNjZXNzOiB0cnVlLCBcbiAgICAgIG1lc3NhZ2U6ICdMb2dpbiBzdWNjZXNzZnVsJyxcbiAgICAgIHVzZXIsXG4gICAgICBlbWFpbFZlcmlmaWVkOiB0cnVlXG4gICAgfTtcbiAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0xvZ2luIGVycm9yOicsIGVycm9yKTtcbiAgICBsZXQgbWVzc2FnZSA9ICdBbiBlcnJvciBvY2N1cnJlZCBkdXJpbmcgbG9naW4nO1xuICAgIFxuICAgIC8vIFBhcnNlIEZpcmViYXNlIGVycm9yIG1lc3NhZ2VzXG4gICAgaWYgKGVycm9yLmNvZGUgPT09ICdhdXRoL3VzZXItbm90LWZvdW5kJykge1xuICAgICAgbWVzc2FnZSA9ICdObyB1c2VyIGZvdW5kIHdpdGggdGhpcyBlbWFpbCc7XG4gICAgfSBlbHNlIGlmIChlcnJvci5jb2RlID09PSAnYXV0aC93cm9uZy1wYXNzd29yZCcpIHtcbiAgICAgIG1lc3NhZ2UgPSAnSW52YWxpZCBwYXNzd29yZCc7XG4gICAgfSBlbHNlIGlmIChlcnJvci5jb2RlID09PSAnYXV0aC9pbnZhbGlkLWVtYWlsJykge1xuICAgICAgbWVzc2FnZSA9ICdJbnZhbGlkIGVtYWlsIGFkZHJlc3MnO1xuICAgIH0gZWxzZSBpZiAoZXJyb3IuY29kZSA9PT0gJ2F1dGgvdXNlci1kaXNhYmxlZCcpIHtcbiAgICAgIG1lc3NhZ2UgPSAnVGhpcyBhY2NvdW50IGhhcyBiZWVuIGRpc2FibGVkJztcbiAgICB9IGVsc2UgaWYgKGVycm9yLmNvZGUgPT09ICdhdXRoL25ldHdvcmstcmVxdWVzdC1mYWlsZWQnKSB7XG4gICAgICBtZXNzYWdlID0gJ05ldHdvcmsgZXJyb3IuIFBsZWFzZSBjaGVjayB5b3VyIGNvbm5lY3Rpb24uJztcbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIHsgXG4gICAgICBzdWNjZXNzOiBmYWxzZSwgXG4gICAgICBtZXNzYWdlXG4gICAgfTtcbiAgfVxufTtcblxuZXhwb3J0IGNvbnN0IHJlZ2lzdGVyID0gYXN5bmMgKFxuICBuYW1lOiBzdHJpbmcsXG4gIGVtYWlsOiBzdHJpbmcsXG4gIHBhc3N3b3JkOiBzdHJpbmdcbik6IFByb21pc2U8eyBzdWNjZXNzOiBib29sZWFuOyBtZXNzYWdlOiBzdHJpbmc7IHVzZXI/OiBVc2VyOyBlbWFpbFZlcmlmaWNhdGlvblNlbnQ/OiBib29sZWFuIH0+ID0+IHtcbiAgdHJ5IHtcbiAgICAvLyBVc2UgRmlyZWJhc2UgYXV0aGVudGljYXRpb25cbiAgICBjb25zdCB1c2VyQ3JlZGVudGlhbCA9IGF3YWl0IGNyZWF0ZVVzZXJXaXRoRW1haWxBbmRQYXNzd29yZChhdXRoLCBlbWFpbCwgcGFzc3dvcmQpO1xuICAgIGNvbnN0IGZpcmViYXNlVXNlciA9IHVzZXJDcmVkZW50aWFsLnVzZXI7XG4gICAgXG4gICAgLy8gU2VuZCBlbWFpbCB2ZXJpZmljYXRpb25cbiAgICBhd2FpdCBzZW5kRW1haWxWZXJpZmljYXRpb24oZmlyZWJhc2VVc2VyKTtcbiAgICBcbiAgICAvLyBTdG9yZSBvbmx5IHRoZSBhdXRoIHRva2VuIGluIGxvY2FsU3RvcmFnZSBmb3IgcGVyc2lzdGVuY2VcbiAgICBjb25zdCB0b2tlbiA9IGF3YWl0IGZpcmViYXNlVXNlci5nZXRJZFRva2VuKCk7XG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oU1RPUkFHRV9LRVksIHRva2VuKTtcbiAgICBcbiAgICAvLyBDcmVhdGUgdXNlciBvYmplY3RcbiAgICBjb25zdCB1c2VyOiBVc2VyID0ge1xuICAgICAgaWQ6IGZpcmViYXNlVXNlci51aWQsXG4gICAgICBuYW1lOiBuYW1lIHx8IGVtYWlsLnNwbGl0KCdAJylbMF0sXG4gICAgICBlbWFpbDogZmlyZWJhc2VVc2VyLmVtYWlsIHx8IGVtYWlsLFxuICAgICAgZW1haWxWZXJpZmllZDogZmFsc2VcbiAgICB9O1xuICAgIFxuICAgIHJldHVybiB7IFxuICAgICAgc3VjY2VzczogdHJ1ZSwgXG4gICAgICBtZXNzYWdlOiAnUmVnaXN0cmF0aW9uIHN1Y2Nlc3NmdWwuIFBsZWFzZSBjaGVjayB5b3VyIGVtYWlsIHRvIHZlcmlmeSB5b3VyIGFjY291bnQuJyxcbiAgICAgIHVzZXIsXG4gICAgICBlbWFpbFZlcmlmaWNhdGlvblNlbnQ6IHRydWVcbiAgICB9O1xuICB9IGNhdGNoIChlcnJvcjogYW55KSB7XG4gICAgY29uc29sZS5lcnJvcignUmVnaXN0cmF0aW9uIGVycm9yOicsIGVycm9yKTtcbiAgICBsZXQgbWVzc2FnZSA9ICdBbiBlcnJvciBvY2N1cnJlZCBkdXJpbmcgcmVnaXN0cmF0aW9uJztcbiAgICBcbiAgICAvLyBQYXJzZSBGaXJlYmFzZSBlcnJvciBtZXNzYWdlc1xuICAgIGlmIChlcnJvci5jb2RlID09PSAnYXV0aC9lbWFpbC1hbHJlYWR5LWluLXVzZScpIHtcbiAgICAgIG1lc3NhZ2UgPSAnVXNlciB3aXRoIHRoaXMgZW1haWwgYWxyZWFkeSBleGlzdHMnO1xuICAgIH0gZWxzZSBpZiAoZXJyb3IuY29kZSA9PT0gJ2F1dGgvaW52YWxpZC1lbWFpbCcpIHtcbiAgICAgIG1lc3NhZ2UgPSAnSW52YWxpZCBlbWFpbCBhZGRyZXNzJztcbiAgICB9IGVsc2UgaWYgKGVycm9yLmNvZGUgPT09ICdhdXRoL3dlYWstcGFzc3dvcmQnKSB7XG4gICAgICBtZXNzYWdlID0gJ1Bhc3N3b3JkIGlzIHRvbyB3ZWFrJztcbiAgICB9IGVsc2UgaWYgKGVycm9yLmNvZGUgPT09ICdhdXRoL25ldHdvcmstcmVxdWVzdC1mYWlsZWQnKSB7XG4gICAgICBtZXNzYWdlID0gJ05ldHdvcmsgZXJyb3IuIFBsZWFzZSBjaGVjayB5b3VyIGNvbm5lY3Rpb24uJztcbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIHsgXG4gICAgICBzdWNjZXNzOiBmYWxzZSwgXG4gICAgICBtZXNzYWdlXG4gICAgfTtcbiAgfVxufTtcblxuZXhwb3J0IGNvbnN0IGxvZ291dCA9IGFzeW5jICgpOiBQcm9taXNlPHsgc3VjY2VzczogYm9vbGVhbjsgbWVzc2FnZTogc3RyaW5nIH0+ID0+IHtcbiAgdHJ5IHtcbiAgICBhd2FpdCBzaWduT3V0KGF1dGgpO1xuICAgIFxuICAgIC8vIENsZWFyIHRoZSBhdXRoIHRva2VuIGZyb20gbG9jYWxTdG9yYWdlXG4gICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oU1RPUkFHRV9LRVkpO1xuICAgIFxuICAgIHJldHVybiB7XG4gICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgbWVzc2FnZTogJ0xvZ291dCBzdWNjZXNzZnVsJ1xuICAgIH07XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignTG9nb3V0IGVycm9yOicsIGVycm9yKTtcbiAgICByZXR1cm4ge1xuICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICBtZXNzYWdlOiAnQW4gZXJyb3Igb2NjdXJyZWQgZHVyaW5nIGxvZ291dCdcbiAgICB9O1xuICB9XG59O1xuXG4vLyBTZXQgdXAgYXV0aCBzdGF0ZSBsaXN0ZW5lclxuaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gIG9uQXV0aFN0YXRlQ2hhbmdlZChhdXRoLCAoZmlyZWJhc2VVc2VyKSA9PiB7XG4gICAgaWYgKGZpcmViYXNlVXNlcikge1xuICAgICAgLy8gVXNlciBpcyBzaWduZWQgaW4gLSB1cGRhdGUgdGhlIHRva2VuXG4gICAgICBmaXJlYmFzZVVzZXIuZ2V0SWRUb2tlbigpLnRoZW4odG9rZW4gPT4ge1xuICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShTVE9SQUdFX0tFWSwgdG9rZW4pO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFVzZXIgaXMgc2lnbmVkIG91dCAtIHJlbW92ZSB0aGUgdG9rZW5cbiAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKFNUT1JBR0VfS0VZKTtcbiAgICB9XG4gIH0pO1xuICBcbiAgLy8gVHJ5IHRvIHJlc3RvcmUgdGhlIHNlc3Npb24gdXNpbmcgdGhlIHN0b3JlZCB0b2tlblxuICBjb25zdCB0b2tlbiA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFNUT1JBR0VfS0VZKTtcbiAgaWYgKHRva2VuICYmICFhdXRoLmN1cnJlbnRVc2VyKSB7XG4gICAgLy8gVG9rZW4gZXhpc3RzIGJ1dCBubyBjdXJyZW50IHVzZXIgLSBGaXJlYmFzZSB3aWxsIGhhbmRsZSB0aGUgYXV0aCBzdGF0ZVxuICAgIC8vIFRoZSBvbkF1dGhTdGF0ZUNoYW5nZWQgbGlzdGVuZXIgYWJvdmUgd2lsbCBiZSB0cmlnZ2VyZWQgd2hlbiBhdXRoIHN0YXRlIGlzIHJlc3RvcmVkXG4gICAgY29uc29sZS5sb2coJ0F0dGVtcHRpbmcgdG8gcmVzdG9yZSBhdXRoZW50aWNhdGlvbiBzZXNzaW9uJyk7XG4gIH1cbn0gIl0sIm5hbWVzIjpbImFwcCIsImdldEF1dGgiLCJzaWduSW5XaXRoRW1haWxBbmRQYXNzd29yZCIsImNyZWF0ZVVzZXJXaXRoRW1haWxBbmRQYXNzd29yZCIsInNpZ25PdXQiLCJvbkF1dGhTdGF0ZUNoYW5nZWQiLCJzZW5kRW1haWxWZXJpZmljYXRpb24iLCJhdXRoIiwiU1RPUkFHRV9LRVkiLCJnZXRDdXJyZW50VXNlciIsImN1cnJlbnRVc2VyIiwiaWQiLCJ1aWQiLCJuYW1lIiwiZGlzcGxheU5hbWUiLCJlbWFpbCIsInNwbGl0IiwiZW1haWxWZXJpZmllZCIsImlzQXV0aGVudGljYXRlZCIsImxvZ2luIiwicGFzc3dvcmQiLCJ1c2VyQ3JlZGVudGlhbCIsImZpcmViYXNlVXNlciIsInVzZXIiLCJ0b2tlbiIsImdldElkVG9rZW4iLCJsb2NhbFN0b3JhZ2UiLCJzZXRJdGVtIiwic3VjY2VzcyIsIm1lc3NhZ2UiLCJlcnJvciIsImNvbnNvbGUiLCJjb2RlIiwicmVnaXN0ZXIiLCJlbWFpbFZlcmlmaWNhdGlvblNlbnQiLCJsb2dvdXQiLCJyZW1vdmVJdGVtIiwidGhlbiIsImdldEl0ZW0iLCJsb2ciXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./utils/auth.ts\n");

/***/ }),

/***/ "./utils/firebase.ts":
/*!***************************!*\
  !*** ./utils/firebase.ts ***!
  \***************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   analytics: () => (/* binding */ analytics),\n/* harmony export */   app: () => (/* binding */ app),\n/* harmony export */   db: () => (/* binding */ db),\n/* harmony export */   storage: () => (/* binding */ storage)\n/* harmony export */ });\n/* harmony import */ var firebase_app__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! firebase/app */ \"firebase/app\");\n/* harmony import */ var firebase_analytics__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! firebase/analytics */ \"firebase/analytics\");\n/* harmony import */ var firebase_firestore__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! firebase/firestore */ \"firebase/firestore\");\n/* harmony import */ var firebase_storage__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! firebase/storage */ \"firebase/storage\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([firebase_app__WEBPACK_IMPORTED_MODULE_0__, firebase_analytics__WEBPACK_IMPORTED_MODULE_1__, firebase_firestore__WEBPACK_IMPORTED_MODULE_2__, firebase_storage__WEBPACK_IMPORTED_MODULE_3__]);\n([firebase_app__WEBPACK_IMPORTED_MODULE_0__, firebase_analytics__WEBPACK_IMPORTED_MODULE_1__, firebase_firestore__WEBPACK_IMPORTED_MODULE_2__, firebase_storage__WEBPACK_IMPORTED_MODULE_3__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n// Import the functions you need from the SDKs you need\n\n\n\n\n// TODO: Add SDKs for Firebase products that you want to use\n// https://firebase.google.com/docs/web/setup#available-libraries\n// Your web app's Firebase configuration\n// For Firebase JS SDK v7.20.0 and later, measurementId is optional\nconst firebaseConfig = {\n    apiKey: \"AIzaSyD_spb43jww6Pl9OFpIOMzg2LFrH-VbasQ\",\n    authDomain: \"nikhils-jeans-website.firebaseapp.com\",\n    projectId: \"nikhils-jeans-website\",\n    storageBucket: \"nikhils-jeans-website.appspot.com\",\n    messagingSenderId: \"89588207516\",\n    appId: \"1:89588207516:web:0cfbe407bb6d7cc8764259\",\n    measurementId: \"G-ZHMF1GS857\"\n};\n// Initialize Firebase - check if already initialized\nlet app;\ntry {\n    app = !(0,firebase_app__WEBPACK_IMPORTED_MODULE_0__.getApps)().length ? (0,firebase_app__WEBPACK_IMPORTED_MODULE_0__.initializeApp)(firebaseConfig) : (0,firebase_app__WEBPACK_IMPORTED_MODULE_0__.getApp)();\n    console.log(\"Firebase initialized successfully\");\n} catch (error) {\n    console.error(\"Error initializing Firebase:\", error);\n    // Initialize with a fallback in case there was an error\n    app = !(0,firebase_app__WEBPACK_IMPORTED_MODULE_0__.getApps)().length ? (0,firebase_app__WEBPACK_IMPORTED_MODULE_0__.initializeApp)(firebaseConfig) : (0,firebase_app__WEBPACK_IMPORTED_MODULE_0__.getApp)();\n}\n// Initialize Analytics only on client side\nlet analytics = null;\ntry {\n    analytics =  false ? 0 : null;\n} catch (error) {\n    console.error(\"Error initializing Firebase Analytics:\", error);\n}\n// Initialize Firestore\nlet db = null;\ntry {\n    db =  false ? 0 : null;\n} catch (error) {\n    console.error(\"Error initializing Firestore:\", error);\n}\n// Initialize Storage\nlet storage = null;\ntry {\n    storage =  false ? 0 : null;\n} catch (error) {\n    console.error(\"Error initializing Firebase Storage:\", error);\n}\n\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi91dGlscy9maXJlYmFzZS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUFBLHVEQUF1RDtBQUNvQjtBQUNkO0FBQ0E7QUFDRTtBQUMvRCw0REFBNEQ7QUFDNUQsaUVBQWlFO0FBRWpFLHdDQUF3QztBQUN4QyxtRUFBbUU7QUFDbkUsTUFBTU0saUJBQWlCO0lBQ3JCQyxRQUFRO0lBQ1JDLFlBQVk7SUFDWkMsV0FBVztJQUNYQyxlQUFlO0lBQ2ZDLG1CQUFtQjtJQUNuQkMsT0FBTztJQUNQQyxlQUFlO0FBQ2pCO0FBRUEscURBQXFEO0FBQ3JELElBQUlDO0FBQ0osSUFBSTtJQUNGQSxNQUFNLENBQUNiLHFEQUFPQSxHQUFHYyxNQUFNLEdBQUdmLDJEQUFhQSxDQUFDTSxrQkFBa0JKLG9EQUFNQTtJQUNoRWMsUUFBUUMsR0FBRyxDQUFDO0FBQ2QsRUFBRSxPQUFPQyxPQUFPO0lBQ2RGLFFBQVFFLEtBQUssQ0FBQyxnQ0FBZ0NBO0lBQzlDLHdEQUF3RDtJQUN4REosTUFBTSxDQUFDYixxREFBT0EsR0FBR2MsTUFBTSxHQUFHZiwyREFBYUEsQ0FBQ00sa0JBQWtCSixvREFBTUE7QUFDbEU7QUFFQSwyQ0FBMkM7QUFDM0MsSUFBSWlCLFlBQThCO0FBQ2xDLElBQUk7SUFDRkEsWUFBWSxNQUFrQixHQUFjaEIsQ0FBaUJXLEdBQUc7QUFDbEUsRUFBRSxPQUFPSSxPQUFPO0lBQ2RGLFFBQVFFLEtBQUssQ0FBQywwQ0FBMENBO0FBQzFEO0FBRUEsdUJBQXVCO0FBQ3ZCLElBQUlFLEtBQXVCO0FBQzNCLElBQUk7SUFDRkEsS0FBSyxNQUFrQixHQUFjaEIsQ0FBaUJVLEdBQUc7QUFDM0QsRUFBRSxPQUFPSSxPQUFPO0lBQ2RGLFFBQVFFLEtBQUssQ0FBQyxpQ0FBaUNBO0FBQ2pEO0FBRUEscUJBQXFCO0FBQ3JCLElBQUlHLFVBQWtDO0FBQ3RDLElBQUk7SUFDRkEsVUFBVSxNQUFrQixHQUFjaEIsQ0FBZVMsR0FBRztBQUM5RCxFQUFFLE9BQU9JLE9BQU87SUFDZEYsUUFBUUUsS0FBSyxDQUFDLHdDQUF3Q0E7QUFDeEQ7QUFFdUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9qZWFucy1uZXh0anMvLi91dGlscy9maXJlYmFzZS50cz81NjAzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIEltcG9ydCB0aGUgZnVuY3Rpb25zIHlvdSBuZWVkIGZyb20gdGhlIFNES3MgeW91IG5lZWRcbmltcG9ydCB7IGluaXRpYWxpemVBcHAsIGdldEFwcHMsIGdldEFwcCwgRmlyZWJhc2VBcHAgfSBmcm9tIFwiZmlyZWJhc2UvYXBwXCI7XG5pbXBvcnQgeyBnZXRBbmFseXRpY3MsIEFuYWx5dGljcyB9IGZyb20gXCJmaXJlYmFzZS9hbmFseXRpY3NcIjtcbmltcG9ydCB7IGdldEZpcmVzdG9yZSwgRmlyZXN0b3JlIH0gZnJvbSBcImZpcmViYXNlL2ZpcmVzdG9yZVwiO1xuaW1wb3J0IHsgZ2V0U3RvcmFnZSwgRmlyZWJhc2VTdG9yYWdlIH0gZnJvbSBcImZpcmViYXNlL3N0b3JhZ2VcIjtcbi8vIFRPRE86IEFkZCBTREtzIGZvciBGaXJlYmFzZSBwcm9kdWN0cyB0aGF0IHlvdSB3YW50IHRvIHVzZVxuLy8gaHR0cHM6Ly9maXJlYmFzZS5nb29nbGUuY29tL2RvY3Mvd2ViL3NldHVwI2F2YWlsYWJsZS1saWJyYXJpZXNcblxuLy8gWW91ciB3ZWIgYXBwJ3MgRmlyZWJhc2UgY29uZmlndXJhdGlvblxuLy8gRm9yIEZpcmViYXNlIEpTIFNESyB2Ny4yMC4wIGFuZCBsYXRlciwgbWVhc3VyZW1lbnRJZCBpcyBvcHRpb25hbFxuY29uc3QgZmlyZWJhc2VDb25maWcgPSB7XG4gIGFwaUtleTogXCJBSXphU3lEX3NwYjQzand3NlBsOU9GcElPTXpnMkxGckgtVmJhc1FcIixcbiAgYXV0aERvbWFpbjogXCJuaWtoaWxzLWplYW5zLXdlYnNpdGUuZmlyZWJhc2VhcHAuY29tXCIsXG4gIHByb2plY3RJZDogXCJuaWtoaWxzLWplYW5zLXdlYnNpdGVcIixcbiAgc3RvcmFnZUJ1Y2tldDogXCJuaWtoaWxzLWplYW5zLXdlYnNpdGUuYXBwc3BvdC5jb21cIixcbiAgbWVzc2FnaW5nU2VuZGVySWQ6IFwiODk1ODgyMDc1MTZcIixcbiAgYXBwSWQ6IFwiMTo4OTU4ODIwNzUxNjp3ZWI6MGNmYmU0MDdiYjZkN2NjODc2NDI1OVwiLFxuICBtZWFzdXJlbWVudElkOiBcIkctWkhNRjFHUzg1N1wiXG59O1xuXG4vLyBJbml0aWFsaXplIEZpcmViYXNlIC0gY2hlY2sgaWYgYWxyZWFkeSBpbml0aWFsaXplZFxubGV0IGFwcDogRmlyZWJhc2VBcHA7XG50cnkge1xuICBhcHAgPSAhZ2V0QXBwcygpLmxlbmd0aCA/IGluaXRpYWxpemVBcHAoZmlyZWJhc2VDb25maWcpIDogZ2V0QXBwKCk7XG4gIGNvbnNvbGUubG9nKFwiRmlyZWJhc2UgaW5pdGlhbGl6ZWQgc3VjY2Vzc2Z1bGx5XCIpO1xufSBjYXRjaCAoZXJyb3IpIHtcbiAgY29uc29sZS5lcnJvcihcIkVycm9yIGluaXRpYWxpemluZyBGaXJlYmFzZTpcIiwgZXJyb3IpO1xuICAvLyBJbml0aWFsaXplIHdpdGggYSBmYWxsYmFjayBpbiBjYXNlIHRoZXJlIHdhcyBhbiBlcnJvclxuICBhcHAgPSAhZ2V0QXBwcygpLmxlbmd0aCA/IGluaXRpYWxpemVBcHAoZmlyZWJhc2VDb25maWcpIDogZ2V0QXBwKCk7XG59XG5cbi8vIEluaXRpYWxpemUgQW5hbHl0aWNzIG9ubHkgb24gY2xpZW50IHNpZGVcbmxldCBhbmFseXRpY3M6IEFuYWx5dGljcyB8IG51bGwgPSBudWxsO1xudHJ5IHtcbiAgYW5hbHl0aWNzID0gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgPyBnZXRBbmFseXRpY3MoYXBwKSA6IG51bGw7XG59IGNhdGNoIChlcnJvcikge1xuICBjb25zb2xlLmVycm9yKFwiRXJyb3IgaW5pdGlhbGl6aW5nIEZpcmViYXNlIEFuYWx5dGljczpcIiwgZXJyb3IpO1xufVxuXG4vLyBJbml0aWFsaXplIEZpcmVzdG9yZVxubGV0IGRiOiBGaXJlc3RvcmUgfCBudWxsID0gbnVsbDtcbnRyeSB7XG4gIGRiID0gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgPyBnZXRGaXJlc3RvcmUoYXBwKSA6IG51bGw7XG59IGNhdGNoIChlcnJvcikge1xuICBjb25zb2xlLmVycm9yKFwiRXJyb3IgaW5pdGlhbGl6aW5nIEZpcmVzdG9yZTpcIiwgZXJyb3IpO1xufVxuXG4vLyBJbml0aWFsaXplIFN0b3JhZ2VcbmxldCBzdG9yYWdlOiBGaXJlYmFzZVN0b3JhZ2UgfCBudWxsID0gbnVsbDtcbnRyeSB7XG4gIHN0b3JhZ2UgPSB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyA/IGdldFN0b3JhZ2UoYXBwKSA6IG51bGw7XG59IGNhdGNoIChlcnJvcikge1xuICBjb25zb2xlLmVycm9yKFwiRXJyb3IgaW5pdGlhbGl6aW5nIEZpcmViYXNlIFN0b3JhZ2U6XCIsIGVycm9yKTtcbn1cblxuZXhwb3J0IHsgYXBwLCBhbmFseXRpY3MsIGRiLCBzdG9yYWdlIH07ICJdLCJuYW1lcyI6WyJpbml0aWFsaXplQXBwIiwiZ2V0QXBwcyIsImdldEFwcCIsImdldEFuYWx5dGljcyIsImdldEZpcmVzdG9yZSIsImdldFN0b3JhZ2UiLCJmaXJlYmFzZUNvbmZpZyIsImFwaUtleSIsImF1dGhEb21haW4iLCJwcm9qZWN0SWQiLCJzdG9yYWdlQnVja2V0IiwibWVzc2FnaW5nU2VuZGVySWQiLCJhcHBJZCIsIm1lYXN1cmVtZW50SWQiLCJhcHAiLCJsZW5ndGgiLCJjb25zb2xlIiwibG9nIiwiZXJyb3IiLCJhbmFseXRpY3MiLCJkYiIsInN0b3JhZ2UiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./utils/firebase.ts\n");

/***/ }),

/***/ "./utils/firebaseBanners.ts":
/*!**********************************!*\
  !*** ./utils/firebaseBanners.ts ***!
  \**********************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   addBanner: () => (/* binding */ addBanner),\n/* harmony export */   deleteBanner: () => (/* binding */ deleteBanner),\n/* harmony export */   getAllBanners: () => (/* binding */ getAllBanners),\n/* harmony export */   getBannersByPage: () => (/* binding */ getBannersByPage),\n/* harmony export */   updateBanner: () => (/* binding */ updateBanner)\n/* harmony export */ });\n/* harmony import */ var _firebase__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./firebase */ \"./utils/firebase.ts\");\n/* harmony import */ var firebase_firestore__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! firebase/firestore */ \"firebase/firestore\");\n/* harmony import */ var _firebaseStorage__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./firebaseStorage */ \"./utils/firebaseStorage.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_firebase__WEBPACK_IMPORTED_MODULE_0__, firebase_firestore__WEBPACK_IMPORTED_MODULE_1__, _firebaseStorage__WEBPACK_IMPORTED_MODULE_2__]);\n([_firebase__WEBPACK_IMPORTED_MODULE_0__, firebase_firestore__WEBPACK_IMPORTED_MODULE_1__, _firebaseStorage__WEBPACK_IMPORTED_MODULE_2__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\n// Get Firestore instance - use the imported db or initialize a new one if it's null\nconst getDb = ()=>{\n    if (_firebase__WEBPACK_IMPORTED_MODULE_0__.db) return _firebase__WEBPACK_IMPORTED_MODULE_0__.db;\n    return (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.getFirestore)(_firebase__WEBPACK_IMPORTED_MODULE_0__.app);\n};\n// Collection reference - create it when needed\nconst getBannersCollection = ()=>{\n    return (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.collection)(getDb(), \"banners\");\n};\n// Get all banners\nconst getAllBanners = async ()=>{\n    try {\n        const bannersCollection = getBannersCollection();\n        const snapshot = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.getDocs)(bannersCollection);\n        return snapshot.docs.map((doc)=>({\n                id: doc.id,\n                ...doc.data()\n            }));\n    } catch (error) {\n        console.error(\"Error getting banners from Firestore:\", error);\n        throw new Error(\"Failed to fetch banners\");\n    }\n};\n// Get banners by page\nconst getBannersByPage = async (page)=>{\n    try {\n        const bannersCollection = getBannersCollection();\n        const q = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.query)(bannersCollection, (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.where)(\"page\", \"==\", page));\n        const snapshot = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.getDocs)(q);\n        return snapshot.docs.map((doc)=>({\n                id: doc.id,\n                ...doc.data()\n            }));\n    } catch (error) {\n        console.error(`Error getting ${page} banners:`, error);\n        throw new Error(`Failed to fetch ${page} banners`);\n    }\n};\n// Add a new banner\nconst addBanner = async (banner)=>{\n    try {\n        // Check if a banner already exists for this page\n        const existingBanners = await getBannersByPage(banner.page);\n        // If a banner exists for this page, delete it first\n        if (existingBanners.length > 0) {\n            const existingBanner = existingBanners[0];\n            await deleteBanner(existingBanner.id);\n        }\n        // Add timestamps\n        const bannerWithTimestamps = {\n            ...banner,\n            createdAt: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.serverTimestamp)(),\n            updatedAt: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.serverTimestamp)()\n        };\n        // Add to Firestore\n        const bannersCollection = getBannersCollection();\n        const docRef = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.addDoc)(bannersCollection, bannerWithTimestamps);\n        // Return the new banner with ID\n        return {\n            id: docRef.id,\n            ...bannerWithTimestamps\n        };\n    } catch (error) {\n        console.error(\"Error adding banner to Firestore:\", error);\n        throw error;\n    }\n};\n// Update a banner\nconst updateBanner = async (id, updates)=>{\n    try {\n        const bannerRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.doc)(getDb(), \"banners\", id);\n        // Get the current banner data\n        const bannerSnapshot = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.getDoc)(bannerRef);\n        if (!bannerSnapshot.exists()) {\n            throw new Error(\"Banner not found\");\n        }\n        // Add updated timestamp\n        const updatesWithTimestamp = {\n            ...updates,\n            updatedAt: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.serverTimestamp)()\n        };\n        // If imageUrl is being updated, delete the old image\n        if (updates.imageUrl) {\n            const currentBanner = bannerSnapshot.data();\n            if (currentBanner.imageUrl && currentBanner.imageUrl !== updates.imageUrl) {\n                try {\n                    await (0,_firebaseStorage__WEBPACK_IMPORTED_MODULE_2__.deleteBannerImage)(currentBanner.imageUrl);\n                } catch (error) {\n                    console.error(\"Error deleting old banner image:\", error);\n                // Continue with the update even if image deletion fails\n                }\n            }\n        }\n        // Update in Firestore\n        await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.updateDoc)(bannerRef, updatesWithTimestamp);\n    } catch (error) {\n        console.error(\"Error updating banner in Firestore:\", error);\n        throw error;\n    }\n};\n// Delete a banner\nconst deleteBanner = async (id)=>{\n    try {\n        const bannerRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.doc)(getDb(), \"banners\", id);\n        // Get the banner data to access the image URL\n        const bannerSnapshot = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.getDoc)(bannerRef);\n        if (!bannerSnapshot.exists()) {\n            throw new Error(\"Banner not found\");\n        }\n        const bannerData = bannerSnapshot.data();\n        // Delete the banner document from Firestore\n        await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.deleteDoc)(bannerRef);\n        // Delete the banner image from Storage\n        if (bannerData.imageUrl) {\n            try {\n                await (0,_firebaseStorage__WEBPACK_IMPORTED_MODULE_2__.deleteBannerImage)(bannerData.imageUrl);\n            } catch (error) {\n                console.error(\"Error deleting banner image:\", error);\n            // We've already deleted the banner document, so just log the error\n            }\n        }\n    } catch (error) {\n        console.error(\"Error deleting banner from Firestore:\", error);\n        throw error;\n    }\n};\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LEtBQUssQ0FBQyx5Q0FBeUNBO1FBQ3ZELE1BQU1BO0lBQ1I7QUFDRixFQUFFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vamVhbnMtbmV4dGpzLy4vdXRpbHMvZmlyZWJhc2VCYW5uZXJzLnRzPzIyMzMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgYXBwLCBkYiB9IGZyb20gJy4vZmlyZWJhc2UnO1xyXG5pbXBvcnQgeyBcclxuICBjb2xsZWN0aW9uLCBcclxuICBnZXREb2NzLCBcclxuICBkb2MsIFxyXG4gIGdldERvYywgXHJcbiAgYWRkRG9jLCBcclxuICB1cGRhdGVEb2MsIFxyXG4gIGRlbGV0ZURvYywgXHJcbiAgcXVlcnksIFxyXG4gIHdoZXJlLCBcclxuICBzZXJ2ZXJUaW1lc3RhbXAsXHJcbiAgZ2V0RmlyZXN0b3JlXHJcbn0gZnJvbSAnZmlyZWJhc2UvZmlyZXN0b3JlJztcclxuaW1wb3J0IHsgZGVsZXRlQmFubmVySW1hZ2UgfSBmcm9tICcuL2ZpcmViYXNlU3RvcmFnZSc7XHJcblxyXG4vLyBHZXQgRmlyZXN0b3JlIGluc3RhbmNlIC0gdXNlIHRoZSBpbXBvcnRlZCBkYiBvciBpbml0aWFsaXplIGEgbmV3IG9uZSBpZiBpdCdzIG51bGxcclxuY29uc3QgZ2V0RGIgPSAoKSA9PiB7XHJcbiAgaWYgKGRiKSByZXR1cm4gZGI7XHJcbiAgcmV0dXJuIGdldEZpcmVzdG9yZShhcHApO1xyXG59O1xyXG5cclxuLy8gQ29sbGVjdGlvbiByZWZlcmVuY2UgLSBjcmVhdGUgaXQgd2hlbiBuZWVkZWRcclxuY29uc3QgZ2V0QmFubmVyc0NvbGxlY3Rpb24gPSAoKSA9PiB7XHJcbiAgcmV0dXJuIGNvbGxlY3Rpb24oZ2V0RGIoKSwgJ2Jhbm5lcnMnKTtcclxufTtcclxuXHJcbi8vIEJhbm5lciBpbnRlcmZhY2VcclxuZXhwb3J0IGludGVyZmFjZSBGaXJlYmFzZUJhbm5lciB7XHJcbiAgaWQ6IHN0cmluZztcclxuICBwYWdlOiBzdHJpbmc7XHJcbiAgaW1hZ2VVcmw6IHN0cmluZztcclxuICBvcmRlcjogbnVtYmVyO1xyXG4gIGNyZWF0ZWRBdDogYW55OyAvLyBGaXJlc3RvcmUgdGltZXN0YW1wXHJcbiAgdXBkYXRlZEF0OiBhbnk7IC8vIEZpcmVzdG9yZSB0aW1lc3RhbXBcclxufVxyXG5cclxuLy8gR2V0IGFsbCBiYW5uZXJzXHJcbmV4cG9ydCBjb25zdCBnZXRBbGxCYW5uZXJzID0gYXN5bmMgKCk6IFByb21pc2U8RmlyZWJhc2VCYW5uZXJbXT4gPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBiYW5uZXJzQ29sbGVjdGlvbiA9IGdldEJhbm5lcnNDb2xsZWN0aW9uKCk7XHJcbiAgICBjb25zdCBzbmFwc2hvdCA9IGF3YWl0IGdldERvY3MoYmFubmVyc0NvbGxlY3Rpb24pO1xyXG4gICAgcmV0dXJuIHNuYXBzaG90LmRvY3MubWFwKGRvYyA9PiAoe1xyXG4gICAgICBpZDogZG9jLmlkLFxyXG4gICAgICAuLi5kb2MuZGF0YSgpXHJcbiAgICB9IGFzIEZpcmViYXNlQmFubmVyKSk7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGdldHRpbmcgYmFubmVycyBmcm9tIEZpcmVzdG9yZTonLCBlcnJvcik7XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byBmZXRjaCBiYW5uZXJzJyk7XHJcbiAgfVxyXG59O1xyXG5cclxuLy8gR2V0IGJhbm5lcnMgYnkgcGFnZVxyXG5leHBvcnQgY29uc3QgZ2V0QmFubmVyc0J5UGFnZSA9IGFzeW5jIChwYWdlOiBzdHJpbmcpOiBQcm9taXNlPEZpcmViYXNlQmFubmVyW10+ID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgYmFubmVyc0NvbGxlY3Rpb24gPSBnZXRCYW5uZXJzQ29sbGVjdGlvbigpO1xyXG4gICAgY29uc3QgcSA9IHF1ZXJ5KGJhbm5lcnNDb2xsZWN0aW9uLCB3aGVyZSgncGFnZScsICc9PScsIHBhZ2UpKTtcclxuICAgIGNvbnN0IHNuYXBzaG90ID0gYXdhaXQgZ2V0RG9jcyhxKTtcclxuICAgIHJldHVybiBzbmFwc2hvdC5kb2NzLm1hcChkb2MgPT4gKHtcclxuICAgICAgaWQ6IGRvYy5pZCxcclxuICAgICAgLi4uZG9jLmRhdGEoKVxyXG4gICAgfSBhcyBGaXJlYmFzZUJhbm5lcikpO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKGBFcnJvciBnZXR0aW5nICR7cGFnZX0gYmFubmVyczpgLCBlcnJvcik7XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBmZXRjaCAke3BhZ2V9IGJhbm5lcnNgKTtcclxuICB9XHJcbn07XHJcblxyXG4vLyBBZGQgYSBuZXcgYmFubmVyXHJcbmV4cG9ydCBjb25zdCBhZGRCYW5uZXIgPSBhc3luYyAoYmFubmVyOiBPbWl0PEZpcmViYXNlQmFubmVyLCAnaWQnIHwgJ2NyZWF0ZWRBdCcgfCAndXBkYXRlZEF0Jz4pOiBQcm9taXNlPEZpcmViYXNlQmFubmVyPiA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIC8vIENoZWNrIGlmIGEgYmFubmVyIGFscmVhZHkgZXhpc3RzIGZvciB0aGlzIHBhZ2VcclxuICAgIGNvbnN0IGV4aXN0aW5nQmFubmVycyA9IGF3YWl0IGdldEJhbm5lcnNCeVBhZ2UoYmFubmVyLnBhZ2UpO1xyXG4gICAgXHJcbiAgICAvLyBJZiBhIGJhbm5lciBleGlzdHMgZm9yIHRoaXMgcGFnZSwgZGVsZXRlIGl0IGZpcnN0XHJcbiAgICBpZiAoZXhpc3RpbmdCYW5uZXJzLmxlbmd0aCA+IDApIHtcclxuICAgICAgY29uc3QgZXhpc3RpbmdCYW5uZXIgPSBleGlzdGluZ0Jhbm5lcnNbMF07XHJcbiAgICAgIGF3YWl0IGRlbGV0ZUJhbm5lcihleGlzdGluZ0Jhbm5lci5pZCk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vIEFkZCB0aW1lc3RhbXBzXHJcbiAgICBjb25zdCBiYW5uZXJXaXRoVGltZXN0YW1wcyA9IHtcclxuICAgICAgLi4uYmFubmVyLFxyXG4gICAgICBjcmVhdGVkQXQ6IHNlcnZlclRpbWVzdGFtcCgpLFxyXG4gICAgICB1cGRhdGVkQXQ6IHNlcnZlclRpbWVzdGFtcCgpXHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICAvLyBBZGQgdG8gRmlyZXN0b3JlXHJcbiAgICBjb25zdCBiYW5uZXJzQ29sbGVjdGlvbiA9IGdldEJhbm5lcnNDb2xsZWN0aW9uKCk7XHJcbiAgICBjb25zdCBkb2NSZWYgPSBhd2FpdCBhZGREb2MoYmFubmVyc0NvbGxlY3Rpb24sIGJhbm5lcldpdGhUaW1lc3RhbXBzKTtcclxuICAgIFxyXG4gICAgLy8gUmV0dXJuIHRoZSBuZXcgYmFubmVyIHdpdGggSURcclxuICAgIHJldHVybiB7XHJcbiAgICAgIGlkOiBkb2NSZWYuaWQsXHJcbiAgICAgIC4uLmJhbm5lcldpdGhUaW1lc3RhbXBzXHJcbiAgICB9IGFzIEZpcmViYXNlQmFubmVyO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBhZGRpbmcgYmFubmVyIHRvIEZpcmVzdG9yZTonLCBlcnJvcik7XHJcbiAgICB0aHJvdyBlcnJvcjtcclxuICB9XHJcbn07XHJcblxyXG4vLyBVcGRhdGUgYSBiYW5uZXJcclxuZXhwb3J0IGNvbnN0IHVwZGF0ZUJhbm5lciA9IGFzeW5jIChpZDogc3RyaW5nLCB1cGRhdGVzOiBQYXJ0aWFsPEZpcmViYXNlQmFubmVyPik6IFByb21pc2U8dm9pZD4gPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBiYW5uZXJSZWYgPSBkb2MoZ2V0RGIoKSwgJ2Jhbm5lcnMnLCBpZCk7XHJcbiAgICBcclxuICAgIC8vIEdldCB0aGUgY3VycmVudCBiYW5uZXIgZGF0YVxyXG4gICAgY29uc3QgYmFubmVyU25hcHNob3QgPSBhd2FpdCBnZXREb2MoYmFubmVyUmVmKTtcclxuICAgIGlmICghYmFubmVyU25hcHNob3QuZXhpc3RzKCkpIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKCdCYW5uZXIgbm90IGZvdW5kJyk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vIEFkZCB1cGRhdGVkIHRpbWVzdGFtcFxyXG4gICAgY29uc3QgdXBkYXRlc1dpdGhUaW1lc3RhbXAgPSB7XHJcbiAgICAgIC4uLnVwZGF0ZXMsXHJcbiAgICAgIHVwZGF0ZWRBdDogc2VydmVyVGltZXN0YW1wKClcclxuICAgIH07XHJcbiAgICBcclxuICAgIC8vIElmIGltYWdlVXJsIGlzIGJlaW5nIHVwZGF0ZWQsIGRlbGV0ZSB0aGUgb2xkIGltYWdlXHJcbiAgICBpZiAodXBkYXRlcy5pbWFnZVVybCkge1xyXG4gICAgICBjb25zdCBjdXJyZW50QmFubmVyID0gYmFubmVyU25hcHNob3QuZGF0YSgpIGFzIEZpcmViYXNlQmFubmVyO1xyXG4gICAgICBpZiAoY3VycmVudEJhbm5lci5pbWFnZVVybCAmJiBjdXJyZW50QmFubmVyLmltYWdlVXJsICE9PSB1cGRhdGVzLmltYWdlVXJsKSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgIGF3YWl0IGRlbGV0ZUJhbm5lckltYWdlKGN1cnJlbnRCYW5uZXIuaW1hZ2VVcmwpO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBkZWxldGluZyBvbGQgYmFubmVyIGltYWdlOicsIGVycm9yKTtcclxuICAgICAgICAgIC8vIENvbnRpbnVlIHdpdGggdGhlIHVwZGF0ZSBldmVuIGlmIGltYWdlIGRlbGV0aW9uIGZhaWxzXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vIFVwZGF0ZSBpbiBGaXJlc3RvcmVcclxuICAgIGF3YWl0IHVwZGF0ZURvYyhiYW5uZXJSZWYsIHVwZGF0ZXNXaXRoVGltZXN0YW1wKTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgdXBkYXRpbmcgYmFubmVyIGluIEZpcmVzdG9yZTonLCBlcnJvcik7XHJcbiAgICB0aHJvdyBlcnJvcjtcclxuICB9XHJcbn07XHJcblxyXG4vLyBEZWxldGUgYSBiYW5uZXJcclxuZXhwb3J0IGNvbnN0IGRlbGV0ZUJhbm5lciA9IGFzeW5jIChpZDogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IGJhbm5lclJlZiA9IGRvYyhnZXREYigpLCAnYmFubmVycycsIGlkKTtcclxuICAgIFxyXG4gICAgLy8gR2V0IHRoZSBiYW5uZXIgZGF0YSB0byBhY2Nlc3MgdGhlIGltYWdlIFVSTFxyXG4gICAgY29uc3QgYmFubmVyU25hcHNob3QgPSBhd2FpdCBnZXREb2MoYmFubmVyUmVmKTtcclxuICAgIGlmICghYmFubmVyU25hcHNob3QuZXhpc3RzKCkpIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKCdCYW5uZXIgbm90IGZvdW5kJyk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGNvbnN0IGJhbm5lckRhdGEgPSBiYW5uZXJTbmFwc2hvdC5kYXRhKCkgYXMgRmlyZWJhc2VCYW5uZXI7XHJcbiAgICBcclxuICAgIC8vIERlbGV0ZSB0aGUgYmFubmVyIGRvY3VtZW50IGZyb20gRmlyZXN0b3JlXHJcbiAgICBhd2FpdCBkZWxldGVEb2MoYmFubmVyUmVmKTtcclxuICAgIFxyXG4gICAgLy8gRGVsZXRlIHRoZSBiYW5uZXIgaW1hZ2UgZnJvbSBTdG9yYWdlXHJcbiAgICBpZiAoYmFubmVyRGF0YS5pbWFnZVVybCkge1xyXG4gICAgICB0cnkge1xyXG4gICAgICAgIGF3YWl0IGRlbGV0ZUJhbm5lckltYWdlKGJhbm5lckRhdGEuaW1hZ2VVcmwpO1xyXG4gICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGRlbGV0aW5nIGJhbm5lciBpbWFnZTonLCBlcnJvcik7XHJcbiAgICAgICAgLy8gV2UndmUgYWxyZWFkeSBkZWxldGVkIHRoZSBiYW5uZXIgZG9jdW1lbnQsIHNvIGp1c3QgbG9nIHRoZSBlcnJvclxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGRlbGV0aW5nIGJhbm5lciBmcm9tIEZpcmVzdG9yZTonLCBlcnJvcik7XHJcbiAgICB0aHJvdyBlcnJvcjtcclxuICB9XHJcbn07ICJdLCJuYW1lcyI6WyJhcHAiLCJkYiIsImNvbGxlY3Rpb24iLCJnZXREb2NzIiwiZG9jIiwiZ2V0RG9jIiwiYWRkRG9jIiwidXBkYXRlRG9jIiwiZGVsZXRlRG9jIiwicXVlcnkiLCJ3aGVyZSIsInNlcnZlclRpbWVzdGFtcCIsImdldEZpcmVzdG9yZSIsImRlbGV0ZUJhbm5lckltYWdlIiwiZ2V0RGIiLCJnZXRCYW5uZXJzQ29sbGVjdGlvbiIsImdldEFsbEJhbm5lcnMiLCJiYW5uZXJzQ29sbGVjdGlvbiIsInNuYXBzaG90IiwiZG9jcyIsIm1hcCIsImlkIiwiZGF0YSIsImVycm9yIiwiY29uc29sZSIsIkVycm9yIiwiZ2V0QmFubmVyc0J5UGFnZSIsInBhZ2UiLCJxIiwiYWRkQmFubmVyIiwiYmFubmVyIiwiZXhpc3RpbmdCYW5uZXJzIiwibGVuZ3RoIiwiZXhpc3RpbmdCYW5uZXIiLCJkZWxldGVCYW5uZXIiLCJiYW5uZXJXaXRoVGltZXN0YW1wcyIsImNyZWF0ZWRBdCIsInVwZGF0ZWRBdCIsImRvY1JlZiIsInVwZGF0ZUJhbm5lciIsInVwZGF0ZXMiLCJiYW5uZXJSZWYiLCJiYW5uZXJTbmFwc2hvdCIsImV4aXN0cyIsInVwZGF0ZXNXaXRoVGltZXN0YW1wIiwiaW1hZ2VVcmwiLCJjdXJyZW50QmFubmVyIiwiYmFubmVyRGF0YSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./utils/firebaseBanners.ts\n");

/***/ }),

/***/ "./utils/firebaseStorage.ts":
/*!**********************************!*\
  !*** ./utils/firebaseStorage.ts ***!
  \**********************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   deleteBannerImage: () => (/* binding */ deleteBannerImage),\n/* harmony export */   uploadBannerImage: () => (/* binding */ uploadBannerImage)\n/* harmony export */ });\n/* harmony import */ var _firebase__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./firebase */ \"./utils/firebase.ts\");\n/* harmony import */ var firebase_storage__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! firebase/storage */ \"firebase/storage\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_firebase__WEBPACK_IMPORTED_MODULE_0__, firebase_storage__WEBPACK_IMPORTED_MODULE_1__]);\n([_firebase__WEBPACK_IMPORTED_MODULE_0__, firebase_storage__WEBPACK_IMPORTED_MODULE_1__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\n// Ensure we have a valid storage instance\nconst getStorageInstance = ()=>{\n    if (_firebase__WEBPACK_IMPORTED_MODULE_0__.storage === null) {\n        return (0,firebase_storage__WEBPACK_IMPORTED_MODULE_1__.getStorage)(_firebase__WEBPACK_IMPORTED_MODULE_0__.app);\n    }\n    return _firebase__WEBPACK_IMPORTED_MODULE_0__.storage;\n};\n// Upload banner image to Firebase Storage\nconst uploadBannerImage = async (file)=>{\n    try {\n        // Check file size (limit to 5MB)\n        if (file.size > 5 * 1024 * 1024) {\n            throw new Error(\"Image file is too large. Please select an image smaller than 5MB.\");\n        }\n        const storageInstance = getStorageInstance();\n        // Create a unique filename\n        const timestamp = new Date().getTime();\n        const fileName = `banner_${timestamp}_${file.name.replace(/[^a-zA-Z0-9.]/g, \"_\")}`;\n        // Create a reference to the file in storage\n        const storageRef = (0,firebase_storage__WEBPACK_IMPORTED_MODULE_1__.ref)(storageInstance, `banner_images/${fileName}`);\n        // Upload the file\n        await (0,firebase_storage__WEBPACK_IMPORTED_MODULE_1__.uploadBytes)(storageRef, file);\n        // Get the download URL\n        const downloadURL = await (0,firebase_storage__WEBPACK_IMPORTED_MODULE_1__.getDownloadURL)(storageRef);\n        return downloadURL;\n    } catch (error) {\n        console.error(\"Error uploading banner image:\", error);\n        if (error instanceof Error) {\n            throw error;\n        } else {\n            throw new Error(\"Failed to upload banner image. Please try again.\");\n        }\n    }\n};\n// Delete banner image from Firebase Storage\nconst deleteBannerImage = async (imageUrl)=>{\n    try {\n        const storageInstance = getStorageInstance();\n        // Extract the file path from the URL\n        // Firebase Storage URLs contain a token after the file path, so we need to extract just the path\n        const decodedUrl = decodeURIComponent(imageUrl);\n        const startIndex = decodedUrl.indexOf(\"banner_images\");\n        if (startIndex === -1) {\n            console.warn(\"Not a Firebase Storage URL or not in banner_images folder:\", imageUrl);\n            return;\n        }\n        const endIndex = decodedUrl.indexOf(\"?\", startIndex);\n        const filePath = endIndex !== -1 ? decodedUrl.substring(startIndex, endIndex) : decodedUrl.substring(startIndex);\n        // Create a reference to the file\n        const imageRef = (0,firebase_storage__WEBPACK_IMPORTED_MODULE_1__.ref)(storageInstance, filePath);\n        // Delete the file\n        await (0,firebase_storage__WEBPACK_IMPORTED_MODULE_1__.deleteObject)(imageRef);\n        console.log(\"Banner image deleted successfully:\", filePath);\n    } catch (error) {\n        console.error(\"Error deleting banner image:\", error);\n        throw new Error(\"Failed to delete banner image\");\n    }\n};\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi91dGlscy9maXJlYmFzZVN0b3JhZ2UudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFxQztBQUN5RDtBQUM3RDtBQUVqQywwQ0FBMEM7QUFDMUMsTUFBTU8scUJBQXFCO0lBQ3pCLElBQUlQLDhDQUFPQSxLQUFLLE1BQU07UUFDcEIsT0FBT0ssNERBQVVBLENBQUNDLDBDQUFHQTtJQUN2QjtJQUNBLE9BQU9OLDhDQUFPQTtBQUNoQjtBQUVBLDBDQUEwQztBQUNuQyxNQUFNUSxvQkFBb0IsT0FBT0M7SUFDdEMsSUFBSTtRQUNGLGlDQUFpQztRQUNqQyxJQUFJQSxLQUFLQyxJQUFJLEdBQUcsSUFBSSxPQUFPLE1BQU07WUFDL0IsTUFBTSxJQUFJQyxNQUFNO1FBQ2xCO1FBRUEsTUFBTUMsa0JBQWtCTDtRQUV4QiwyQkFBMkI7UUFDM0IsTUFBTU0sWUFBWSxJQUFJQyxPQUFPQyxPQUFPO1FBQ3BDLE1BQU1DLFdBQVcsQ0FBQyxPQUFPLEVBQUVILFVBQVUsQ0FBQyxFQUFFSixLQUFLUSxJQUFJLENBQUNDLE9BQU8sQ0FBQyxrQkFBa0IsS0FBSyxDQUFDO1FBRWxGLDRDQUE0QztRQUM1QyxNQUFNQyxhQUFhbEIscURBQUdBLENBQUNXLGlCQUFpQixDQUFDLGNBQWMsRUFBRUksU0FBUyxDQUFDO1FBRW5FLGtCQUFrQjtRQUNsQixNQUFNZCw2REFBV0EsQ0FBQ2lCLFlBQVlWO1FBRTlCLHVCQUF1QjtRQUN2QixNQUFNVyxjQUFjLE1BQU1qQixnRUFBY0EsQ0FBQ2dCO1FBQ3pDLE9BQU9DO0lBQ1QsRUFBRSxPQUFPQyxPQUFPO1FBQ2RDLFFBQVFELEtBQUssQ0FBQyxpQ0FBaUNBO1FBQy9DLElBQUlBLGlCQUFpQlYsT0FBTztZQUMxQixNQUFNVTtRQUNSLE9BQU87WUFDTCxNQUFNLElBQUlWLE1BQU07UUFDbEI7SUFDRjtBQUNGLEVBQUU7QUFFRiw0Q0FBNEM7QUFDckMsTUFBTVksb0JBQW9CLE9BQU9DO0lBQ3RDLElBQUk7UUFDRixNQUFNWixrQkFBa0JMO1FBRXhCLHFDQUFxQztRQUNyQyxpR0FBaUc7UUFDakcsTUFBTWtCLGFBQWFDLG1CQUFtQkY7UUFDdEMsTUFBTUcsYUFBYUYsV0FBV0csT0FBTyxDQUFDO1FBRXRDLElBQUlELGVBQWUsQ0FBQyxHQUFHO1lBQ3JCTCxRQUFRTyxJQUFJLENBQUMsOERBQThETDtZQUMzRTtRQUNGO1FBRUEsTUFBTU0sV0FBV0wsV0FBV0csT0FBTyxDQUFDLEtBQUtEO1FBQ3pDLE1BQU1JLFdBQVdELGFBQWEsQ0FBQyxJQUMzQkwsV0FBV08sU0FBUyxDQUFDTCxZQUFZRyxZQUNqQ0wsV0FBV08sU0FBUyxDQUFDTDtRQUV6QixpQ0FBaUM7UUFDakMsTUFBTU0sV0FBV2hDLHFEQUFHQSxDQUFDVyxpQkFBaUJtQjtRQUV0QyxrQkFBa0I7UUFDbEIsTUFBTTNCLDhEQUFZQSxDQUFDNkI7UUFDbkJYLFFBQVFZLEdBQUcsQ0FBQyxzQ0FBc0NIO0lBQ3BELEVBQUUsT0FBT1YsT0FBTztRQUNkQyxRQUFRRCxLQUFLLENBQUMsZ0NBQWdDQTtRQUM5QyxNQUFNLElBQUlWLE1BQU07SUFDbEI7QUFDRixFQUFFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vamVhbnMtbmV4dGpzLy4vdXRpbHMvZmlyZWJhc2VTdG9yYWdlLnRzP2M2ODIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgc3RvcmFnZSB9IGZyb20gJy4vZmlyZWJhc2UnO1xyXG5pbXBvcnQgeyByZWYsIHVwbG9hZEJ5dGVzLCBnZXREb3dubG9hZFVSTCwgZGVsZXRlT2JqZWN0LCBnZXRTdG9yYWdlIH0gZnJvbSAnZmlyZWJhc2Uvc3RvcmFnZSc7XHJcbmltcG9ydCB7IGFwcCB9IGZyb20gJy4vZmlyZWJhc2UnO1xyXG5cclxuLy8gRW5zdXJlIHdlIGhhdmUgYSB2YWxpZCBzdG9yYWdlIGluc3RhbmNlXHJcbmNvbnN0IGdldFN0b3JhZ2VJbnN0YW5jZSA9ICgpID0+IHtcclxuICBpZiAoc3RvcmFnZSA9PT0gbnVsbCkge1xyXG4gICAgcmV0dXJuIGdldFN0b3JhZ2UoYXBwKTtcclxuICB9XHJcbiAgcmV0dXJuIHN0b3JhZ2U7XHJcbn07XHJcblxyXG4vLyBVcGxvYWQgYmFubmVyIGltYWdlIHRvIEZpcmViYXNlIFN0b3JhZ2VcclxuZXhwb3J0IGNvbnN0IHVwbG9hZEJhbm5lckltYWdlID0gYXN5bmMgKGZpbGU6IEZpbGUpOiBQcm9taXNlPHN0cmluZz4gPT4ge1xyXG4gIHRyeSB7XHJcbiAgICAvLyBDaGVjayBmaWxlIHNpemUgKGxpbWl0IHRvIDVNQilcclxuICAgIGlmIChmaWxlLnNpemUgPiA1ICogMTAyNCAqIDEwMjQpIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbWFnZSBmaWxlIGlzIHRvbyBsYXJnZS4gUGxlYXNlIHNlbGVjdCBhbiBpbWFnZSBzbWFsbGVyIHRoYW4gNU1CLicpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBjb25zdCBzdG9yYWdlSW5zdGFuY2UgPSBnZXRTdG9yYWdlSW5zdGFuY2UoKTtcclxuICAgIFxyXG4gICAgLy8gQ3JlYXRlIGEgdW5pcXVlIGZpbGVuYW1lXHJcbiAgICBjb25zdCB0aW1lc3RhbXAgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcclxuICAgIGNvbnN0IGZpbGVOYW1lID0gYGJhbm5lcl8ke3RpbWVzdGFtcH1fJHtmaWxlLm5hbWUucmVwbGFjZSgvW15hLXpBLVowLTkuXS9nLCAnXycpfWA7XHJcbiAgICBcclxuICAgIC8vIENyZWF0ZSBhIHJlZmVyZW5jZSB0byB0aGUgZmlsZSBpbiBzdG9yYWdlXHJcbiAgICBjb25zdCBzdG9yYWdlUmVmID0gcmVmKHN0b3JhZ2VJbnN0YW5jZSwgYGJhbm5lcl9pbWFnZXMvJHtmaWxlTmFtZX1gKTtcclxuICAgIFxyXG4gICAgLy8gVXBsb2FkIHRoZSBmaWxlXHJcbiAgICBhd2FpdCB1cGxvYWRCeXRlcyhzdG9yYWdlUmVmLCBmaWxlKTtcclxuICAgIFxyXG4gICAgLy8gR2V0IHRoZSBkb3dubG9hZCBVUkxcclxuICAgIGNvbnN0IGRvd25sb2FkVVJMID0gYXdhaXQgZ2V0RG93bmxvYWRVUkwoc3RvcmFnZVJlZik7XHJcbiAgICByZXR1cm4gZG93bmxvYWRVUkw7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHVwbG9hZGluZyBiYW5uZXIgaW1hZ2U6JywgZXJyb3IpO1xyXG4gICAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IpIHtcclxuICAgICAgdGhyb3cgZXJyb3I7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byB1cGxvYWQgYmFubmVyIGltYWdlLiBQbGVhc2UgdHJ5IGFnYWluLicpO1xyXG4gICAgfVxyXG4gIH1cclxufTtcclxuXHJcbi8vIERlbGV0ZSBiYW5uZXIgaW1hZ2UgZnJvbSBGaXJlYmFzZSBTdG9yYWdlXHJcbmV4cG9ydCBjb25zdCBkZWxldGVCYW5uZXJJbWFnZSA9IGFzeW5jIChpbWFnZVVybDogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHN0b3JhZ2VJbnN0YW5jZSA9IGdldFN0b3JhZ2VJbnN0YW5jZSgpO1xyXG4gICAgXHJcbiAgICAvLyBFeHRyYWN0IHRoZSBmaWxlIHBhdGggZnJvbSB0aGUgVVJMXHJcbiAgICAvLyBGaXJlYmFzZSBTdG9yYWdlIFVSTHMgY29udGFpbiBhIHRva2VuIGFmdGVyIHRoZSBmaWxlIHBhdGgsIHNvIHdlIG5lZWQgdG8gZXh0cmFjdCBqdXN0IHRoZSBwYXRoXHJcbiAgICBjb25zdCBkZWNvZGVkVXJsID0gZGVjb2RlVVJJQ29tcG9uZW50KGltYWdlVXJsKTtcclxuICAgIGNvbnN0IHN0YXJ0SW5kZXggPSBkZWNvZGVkVXJsLmluZGV4T2YoJ2Jhbm5lcl9pbWFnZXMnKTtcclxuICAgIFxyXG4gICAgaWYgKHN0YXJ0SW5kZXggPT09IC0xKSB7XHJcbiAgICAgIGNvbnNvbGUud2FybignTm90IGEgRmlyZWJhc2UgU3RvcmFnZSBVUkwgb3Igbm90IGluIGJhbm5lcl9pbWFnZXMgZm9sZGVyOicsIGltYWdlVXJsKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBjb25zdCBlbmRJbmRleCA9IGRlY29kZWRVcmwuaW5kZXhPZignPycsIHN0YXJ0SW5kZXgpO1xyXG4gICAgY29uc3QgZmlsZVBhdGggPSBlbmRJbmRleCAhPT0gLTEgXHJcbiAgICAgID8gZGVjb2RlZFVybC5zdWJzdHJpbmcoc3RhcnRJbmRleCwgZW5kSW5kZXgpIFxyXG4gICAgICA6IGRlY29kZWRVcmwuc3Vic3RyaW5nKHN0YXJ0SW5kZXgpO1xyXG4gICAgXHJcbiAgICAvLyBDcmVhdGUgYSByZWZlcmVuY2UgdG8gdGhlIGZpbGVcclxuICAgIGNvbnN0IGltYWdlUmVmID0gcmVmKHN0b3JhZ2VJbnN0YW5jZSwgZmlsZVBhdGgpO1xyXG4gICAgXHJcbiAgICAvLyBEZWxldGUgdGhlIGZpbGVcclxuICAgIGF3YWl0IGRlbGV0ZU9iamVjdChpbWFnZVJlZik7XHJcbiAgICBjb25zb2xlLmxvZygnQmFubmVyIGltYWdlIGRlbGV0ZWQgc3VjY2Vzc2Z1bGx5OicsIGZpbGVQYXRoKTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgZGVsZXRpbmcgYmFubmVyIGltYWdlOicsIGVycm9yKTtcclxuICAgIHRocm93IG5ldyBFcnJvcignRmFpbGVkIHRvIGRlbGV0ZSBiYW5uZXIgaW1hZ2UnKTtcclxuICB9XHJcbn07ICJdLCJuYW1lcyI6WyJzdG9yYWdlIiwicmVmIiwidXBsb2FkQnl0ZXMiLCJnZXREb3dubG9hZFVSTCIsImRlbGV0ZU9iamVjdCIsImdldFN0b3JhZ2UiLCJhcHAiLCJnZXRTdG9yYWdlSW5zdGFuY2UiLCJ1cGxvYWRCYW5uZXJJbWFnZSIsImZpbGUiLCJzaXplIiwiRXJyb3IiLCJzdG9yYWdlSW5zdGFuY2UiLCJ0aW1lc3RhbXAiLCJEYXRlIiwiZ2V0VGltZSIsImZpbGVOYW1lIiwibmFtZSIsInJlcGxhY2UiLCJzdG9yYWdlUmVmIiwiZG93bmxvYWRVUkwiLCJlcnJvciIsImNvbnNvbGUiLCJkZWxldGVCYW5uZXJJbWFnZSIsImltYWdlVXJsIiwiZGVjb2RlZFVybCIsImRlY29kZVVSSUNvbXBvbmVudCIsInN0YXJ0SW5kZXgiLCJpbmRleE9mIiwid2FybiIsImVuZEluZGV4IiwiZmlsZVBhdGgiLCJzdWJzdHJpbmciLCJpbWFnZVJlZiIsImxvZyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./utils/firebaseStorage.ts\n");

/***/ }),

/***/ "./utils/firestore.ts":
/*!****************************!*\
  !*** ./utils/firestore.ts ***!
  \****************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   addProduct: () => (/* binding */ addProduct),\n/* harmony export */   clearProductCache: () => (/* binding */ clearProductCache),\n/* harmony export */   db: () => (/* binding */ db),\n/* harmony export */   deleteProduct: () => (/* binding */ deleteProduct),\n/* harmony export */   deleteProductImage: () => (/* binding */ deleteProductImage),\n/* harmony export */   getAllCategories: () => (/* binding */ getAllCategories),\n/* harmony export */   getAllProducts: () => (/* binding */ getAllProducts),\n/* harmony export */   getFeaturedProducts: () => (/* binding */ getFeaturedProducts),\n/* harmony export */   getImageById: () => (/* binding */ getImageById),\n/* harmony export */   getNewArrivals: () => (/* binding */ getNewArrivals),\n/* harmony export */   getNextProductsPage: () => (/* binding */ getNextProductsPage),\n/* harmony export */   getProductById: () => (/* binding */ getProductById),\n/* harmony export */   getProductsByCategory: () => (/* binding */ getProductsByCategory),\n/* harmony export */   storage: () => (/* binding */ storage),\n/* harmony export */   updateProduct: () => (/* binding */ updateProduct),\n/* harmony export */   uploadProductImage: () => (/* binding */ uploadProductImage)\n/* harmony export */ });\n/* harmony import */ var _firebase__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./firebase */ \"./utils/firebase.ts\");\n/* harmony import */ var firebase_firestore__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! firebase/firestore */ \"firebase/firestore\");\n/* harmony import */ var firebase_storage__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! firebase/storage */ \"firebase/storage\");\n/* harmony import */ var _localStorage__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./localStorage */ \"./utils/localStorage.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_firebase__WEBPACK_IMPORTED_MODULE_0__, firebase_firestore__WEBPACK_IMPORTED_MODULE_1__, firebase_storage__WEBPACK_IMPORTED_MODULE_2__]);\n([_firebase__WEBPACK_IMPORTED_MODULE_0__, firebase_firestore__WEBPACK_IMPORTED_MODULE_1__, firebase_storage__WEBPACK_IMPORTED_MODULE_2__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\n\n// Initialize Firestore\nconst db = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.getFirestore)(_firebase__WEBPACK_IMPORTED_MODULE_0__.app);\n// Initialize Storage\nconst storage = (0,firebase_storage__WEBPACK_IMPORTED_MODULE_2__.getStorage)(_firebase__WEBPACK_IMPORTED_MODULE_0__.app);\n// Collection references\nconst productsCollection = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.collection)(db, \"products\");\nconst categoriesCollection = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.collection)(db, \"categories\");\n// Cache for products\nconst productCache = {\n    all: null,\n    byId: {},\n    byCategory: {},\n    lastFetched: 0\n};\n// Cache expiration time (5 minutes)\nconst CACHE_EXPIRATION = 5 * 60 * 1000;\n// Validate product data before saving\nconst validateProduct = (product)=>{\n    if (!product.name || typeof product.name !== \"string\") {\n        return \"Product name is required\";\n    }\n    if (!product.price || isNaN(Number(product.price))) {\n        return \"Valid product price is required\";\n    }\n    if (!product.category || typeof product.category !== \"string\") {\n        return \"Product category is required\";\n    }\n    if (!product.subcategory || typeof product.subcategory !== \"string\") {\n        return \"Product subcategory is required\";\n    }\n    if (!product.image || typeof product.image !== \"string\") {\n        return \"Product image is required\";\n    }\n    return null; // No errors\n};\n// Clean product data for Firestore\nconst cleanProductData = (product)=>{\n    const cleanedProduct = {};\n    Object.entries(product).forEach(([key, value])=>{\n        if (value !== undefined && value !== null) {\n            // Handle specific field types\n            if (key === \"price\" || key === \"originalPrice\" || key === \"stock\") {\n                cleanedProduct[key] = Number(value);\n            } else if (key === \"sizes\" && typeof value === \"string\") {\n                cleanedProduct[key] = value.split(\",\").map((s)=>s.trim()).filter(Boolean);\n            } else if (key === \"featured\" || key === \"new\") {\n                cleanedProduct[key] = value === true || value === \"true\";\n            } else if (key === \"category\" || key === \"subcategory\") {\n                // Normalize categories to lowercase\n                cleanedProduct[key] = String(value).toLowerCase().trim();\n            } else {\n                cleanedProduct[key] = value;\n            }\n        }\n    });\n    // Ensure there are tags for category and subcategory\n    if (!cleanedProduct.tags) {\n        cleanedProduct.tags = [];\n    }\n    // Add category and subcategory to tags if they don't exist\n    if (cleanedProduct.category && !cleanedProduct.tags.includes(cleanedProduct.category)) {\n        cleanedProduct.tags.push(cleanedProduct.category);\n    }\n    if (cleanedProduct.subcategory && !cleanedProduct.tags.includes(cleanedProduct.subcategory)) {\n        cleanedProduct.tags.push(cleanedProduct.subcategory);\n    }\n    // Add combined tag (category-subcategory)\n    if (cleanedProduct.category && cleanedProduct.subcategory) {\n        const combinedTag = `${cleanedProduct.category}-${cleanedProduct.subcategory}`;\n        if (!cleanedProduct.tags.includes(combinedTag)) {\n            cleanedProduct.tags.push(combinedTag);\n        }\n    }\n    // Add timestamps\n    if (!cleanedProduct.createdAt) {\n        cleanedProduct.createdAt = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.serverTimestamp)();\n    }\n    cleanedProduct.updatedAt = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.serverTimestamp)();\n    return cleanedProduct;\n};\n// Check if cache is valid\nconst isCacheValid = ()=>{\n    return productCache.all !== null && Date.now() - productCache.lastFetched < CACHE_EXPIRATION;\n};\n// Get all products with pagination and caching\nconst getAllProducts = async (pageSize = 0)=>{\n    try {\n        // Force cache refresh on every request for now to fix loading issues\n        productCache.all = null;\n        productCache.lastFetched = 0;\n        console.log(\"Forcing cache refresh for products\");\n        // If cache is valid and we're not paginating, return cached products\n        if (isCacheValid() && pageSize === 0 && productCache.all) {\n            console.log(`Returning ${productCache.all.length} products from cache`);\n            return productCache.all;\n        }\n        console.log(\"Cache invalid or empty, fetching products from Firestore...\");\n        let productsQuery = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.query)(productsCollection, (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.orderBy)(\"createdAt\", \"desc\"));\n        // Apply pagination if pageSize is specified\n        if (pageSize > 0) {\n            productsQuery = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.query)(productsQuery, (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.limit)(pageSize));\n        }\n        console.log(\"Executing Firestore query...\");\n        const snapshot = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.getDocs)(productsQuery);\n        console.log(`Raw Firestore query returned ${snapshot.docs.length} documents`);\n        const products = snapshot.docs.map((doc)=>{\n            const data = doc.data();\n            // Log each product for debugging\n            console.log(`Processing product: ${doc.id} - ${data.name || \"Unnamed product\"}`);\n            return {\n                id: doc.id,\n                ...data\n            };\n        });\n        // Update cache if we're getting all products\n        if (pageSize === 0) {\n            productCache.all = products;\n            // Update byId and byCategory caches\n            products.forEach((product)=>{\n                productCache.byId[product.id] = product;\n                if (product.category) {\n                    if (!productCache.byCategory[product.category]) {\n                        productCache.byCategory[product.category] = [];\n                    }\n                    productCache.byCategory[product.category].push(product);\n                }\n            });\n            productCache.lastFetched = Date.now();\n        }\n        console.log(`Successfully processed and returning ${products.length} products from Firestore`);\n        // If Firebase returned no products, try to load from localStorage as a fallback\n        if (products.length === 0) {\n            console.log(\"No products found in Firestore, trying localStorage fallback\");\n            if (false) {}\n        }\n        return products;\n    } catch (error) {\n        console.error(\"Error getting products from Firestore:\", error);\n        // Attempt to return any cached products if available even if expired\n        if (productCache.all && Array.isArray(productCache.all) && productCache.all.length > 0) {\n            console.log(`Returning ${productCache.all.length} products from expired cache as fallback`);\n            return productCache.all;\n        }\n        // If cache failed, try localStorage as ultimate fallback\n        if (false) {}\n        // Return empty array rather than throwing error\n        console.warn(\"All product loading fallbacks failed, returning empty array\");\n        return [];\n    }\n};\n// Get next page of products\nconst getNextProductsPage = async (lastVisible, pageSize = 20)=>{\n    try {\n        const productsQuery = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.query)(productsCollection, (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.orderBy)(\"createdAt\", \"desc\"), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.startAfter)(lastVisible), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.limit)(pageSize));\n        const snapshot = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.getDocs)(productsQuery);\n        const products = snapshot.docs.map((doc)=>({\n                id: doc.id,\n                ...doc.data()\n            }));\n        // Update cache for these products\n        products.forEach((product)=>{\n            productCache.byId[product.id] = product;\n            if (product.category) {\n                if (!productCache.byCategory[product.category]) {\n                    productCache.byCategory[product.category] = [];\n                }\n                // Check if product already exists in category cache\n                const existingIndex = productCache.byCategory[product.category].findIndex((p)=>p.id === product.id);\n                if (existingIndex >= 0) {\n                    productCache.byCategory[product.category][existingIndex] = product;\n                } else {\n                    productCache.byCategory[product.category].push(product);\n                }\n            }\n        });\n        return products;\n    } catch (error) {\n        console.error(\"Error getting next page of products:\", error);\n        throw new Error(\"Failed to fetch more products\");\n    }\n};\n// Get products by category with caching\nconst getProductsByCategory = async (category)=>{\n    try {\n        // Check if we have this category in cache and it's still valid\n        if (isCacheValid() && productCache.byCategory[category] && productCache.byCategory[category].length > 0) {\n            console.log(`Returning ${category} products from cache`);\n            return productCache.byCategory[category];\n        }\n        console.log(`Fetching ${category} products from Firestore`);\n        const q = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.query)(productsCollection, (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.where)(\"category\", \"==\", category));\n        const snapshot = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.getDocs)(q);\n        const products = snapshot.docs.map((doc)=>({\n                id: doc.id,\n                ...doc.data()\n            }));\n        // Update cache\n        productCache.byCategory[category] = products;\n        // Also update byId cache\n        products.forEach((product)=>{\n            productCache.byId[product.id] = product;\n        });\n        return products;\n    } catch (error) {\n        console.error(`Error getting ${category} products:`, error);\n        throw new Error(`Failed to fetch ${category} products`);\n    }\n};\n// Get featured products with caching\nconst getFeaturedProducts = async (limitCount = 8)=>{\n    try {\n        // If we have all products cached, filter them\n        if (isCacheValid() && productCache.all) {\n            const featured = productCache.all.filter((p)=>p.featured).slice(0, limitCount);\n            if (featured.length > 0) {\n                console.log(\"Returning featured products from cache\");\n                return featured;\n            }\n        }\n        console.log(\"Fetching featured products from Firestore\");\n        const q = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.query)(productsCollection, (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.where)(\"featured\", \"==\", true), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.orderBy)(\"createdAt\", \"desc\"), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.limit)(limitCount));\n        const snapshot = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.getDocs)(q);\n        const products = snapshot.docs.map((doc)=>({\n                id: doc.id,\n                ...doc.data()\n            }));\n        // Update byId cache\n        products.forEach((product)=>{\n            productCache.byId[product.id] = product;\n            // Update category cache if needed\n            if (product.category) {\n                if (!productCache.byCategory[product.category]) {\n                    productCache.byCategory[product.category] = [];\n                }\n                // Check if product already exists in category cache\n                const existingIndex = productCache.byCategory[product.category].findIndex((p)=>p.id === product.id);\n                if (existingIndex >= 0) {\n                    productCache.byCategory[product.category][existingIndex] = product;\n                } else {\n                    productCache.byCategory[product.category].push(product);\n                }\n            }\n        });\n        // If Firebase returned no products, try to load from localStorage as a fallback\n        if (products.length === 0) {\n            console.log(\"No featured products found in Firestore, trying localStorage fallback\");\n            if (false) {}\n        }\n        return products;\n    } catch (error) {\n        console.error(\"Error getting featured products:\", error);\n        // Try localStorage as fallback\n        if (false) {}\n        // Return empty array rather than throwing error\n        console.warn(\"All featured product loading fallbacks failed, returning empty array\");\n        return [];\n    }\n};\n// Get new arrivals with caching\nconst getNewArrivals = async (limitCount = 8)=>{\n    try {\n        // If we have all products cached, filter them\n        if (isCacheValid() && productCache.all) {\n            const newArrivals = productCache.all.filter((p)=>p.new).slice(0, limitCount);\n            if (newArrivals.length > 0) {\n                console.log(\"Returning new arrivals from cache\");\n                return newArrivals;\n            }\n        }\n        console.log(\"Fetching new arrivals from Firestore\");\n        const q = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.query)(productsCollection, (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.where)(\"new\", \"==\", true), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.orderBy)(\"createdAt\", \"desc\"), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.limit)(limitCount));\n        const snapshot = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.getDocs)(q);\n        const products = snapshot.docs.map((doc)=>({\n                id: doc.id,\n                ...doc.data()\n            }));\n        // Update byId cache\n        products.forEach((product)=>{\n            productCache.byId[product.id] = product;\n            // Update category cache if needed\n            if (product.category) {\n                if (!productCache.byCategory[product.category]) {\n                    productCache.byCategory[product.category] = [];\n                }\n                // Check if product already exists in category cache\n                const existingIndex = productCache.byCategory[product.category].findIndex((p)=>p.id === product.id);\n                if (existingIndex >= 0) {\n                    productCache.byCategory[product.category][existingIndex] = product;\n                } else {\n                    productCache.byCategory[product.category].push(product);\n                }\n            }\n        });\n        // If Firebase returned no products, try to load from localStorage as a fallback\n        if (products.length === 0) {\n            console.log(\"No new arrivals found in Firestore, trying localStorage fallback\");\n            if (false) {}\n        }\n        return products;\n    } catch (error) {\n        console.error(\"Error getting new arrivals:\", error);\n        // Try localStorage as fallback\n        if (false) {}\n        // Return empty array rather than throwing error\n        console.warn(\"All new arrivals loading fallbacks failed, returning empty array\");\n        return [];\n    }\n};\n// Get product by ID with caching\nconst getProductById = async (id)=>{\n    try {\n        // Check if product is in cache\n        if (productCache.byId[id]) {\n            console.log(`Returning product ${id} from cache`);\n            return productCache.byId[id];\n        }\n        console.log(`Fetching product ${id} from Firestore`);\n        const productDoc = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.doc)(db, \"products\", id);\n        const snapshot = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.getDoc)(productDoc);\n        if (snapshot.exists()) {\n            const product = {\n                id: snapshot.id,\n                ...snapshot.data()\n            };\n            // Update cache\n            productCache.byId[id] = product;\n            return product;\n        }\n        return null;\n    } catch (error) {\n        console.error(\"Error getting product:\", error);\n        throw new Error(\"Failed to fetch product details\");\n    }\n};\n// Clear cache for a specific product\nconst invalidateProductCache = (productId, categoryId)=>{\n    // Remove from byId cache\n    if (productCache.byId[productId]) {\n        delete productCache.byId[productId];\n    }\n    // Remove from category cache if category is provided\n    if (categoryId && productCache.byCategory[categoryId]) {\n        productCache.byCategory[categoryId] = productCache.byCategory[categoryId].filter((p)=>p.id !== productId);\n    }\n    // Set all cache to null to force refresh on next fetch\n    productCache.all = null;\n};\n// Clear entire cache\nconst clearProductCache = ()=>{\n    console.log(\"Clearing product cache to force fresh data fetch\");\n    productCache.all = null;\n    productCache.byId = {};\n    productCache.byCategory = {};\n    productCache.lastFetched = 0;\n};\n// Ensure we have a valid storage instance\nconst getStorageInstance = ()=>{\n    const storage =  false ? 0 : null;\n    if (storage === null) {\n        return (0,firebase_storage__WEBPACK_IMPORTED_MODULE_2__.getStorage)(_firebase__WEBPACK_IMPORTED_MODULE_0__.app);\n    }\n    return storage;\n};\n// Upload image to Firebase Storage\nconst uploadProductImage = async (file)=>{\n    try {\n        // Check file size (limit to 5MB)\n        if (file.size > 5 * 1024 * 1024) {\n            throw new Error(\"Image file is too large. Please select an image smaller than 5MB.\");\n        }\n        // Convert file to base64\n        const base64String = await fileToBase64(file);\n        // Create a unique ID for the image\n        const timestamp = new Date().getTime();\n        const fileName = `product_${timestamp}_${file.name.replace(/[^a-zA-Z0-9.]/g, \"_\")}`;\n        // Store the base64 image in Firestore\n        const imageCollection = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.collection)(db, \"images\");\n        const imageDoc = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.addDoc)(imageCollection, {\n            name: fileName,\n            type: file.type,\n            base64: base64String,\n            createdAt: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.serverTimestamp)()\n        });\n        // Return the document ID as the image URL\n        return `base64://${imageDoc.id}`;\n    } catch (error) {\n        console.error(\"Error uploading image:\", error);\n        if (error instanceof Error) {\n            throw error;\n        } else {\n            throw new Error(\"Failed to upload product image. Please try again.\");\n        }\n    }\n};\n// Helper function to convert File to base64\nconst fileToBase64 = (file)=>{\n    return new Promise((resolve, reject)=>{\n        try {\n            const reader = new FileReader();\n            reader.readAsDataURL(file);\n            reader.onload = ()=>{\n                if (typeof reader.result === \"string\") {\n                    resolve(reader.result);\n                } else {\n                    reject(new Error(\"Failed to read image file\"));\n                }\n            };\n            reader.onerror = ()=>{\n                reject(new Error(\"Error reading image file. Please try a different image.\"));\n            };\n        } catch (error) {\n            reject(error instanceof Error ? error : new Error(\"Unknown error processing image\"));\n        }\n    });\n};\n// Get image by ID\nconst getImageById = async (imageId)=>{\n    try {\n        console.log(`Fetching image with ID: ${imageId}`);\n        const imageDoc = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.doc)(db, \"images\", imageId);\n        const snapshot = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.getDoc)(imageDoc);\n        if (snapshot.exists()) {\n            const data = snapshot.data();\n            if (!data || !data.base64) {\n                console.error(`Image exists but has no base64 data. ID: ${imageId}`);\n                return \"/images/placeholder.jpg\";\n            }\n            console.log(`Successfully retrieved base64 image. ID: ${imageId}`);\n            return data.base64;\n        }\n        console.error(`Image not found with ID: ${imageId}`);\n        return \"/images/placeholder.jpg\";\n    } catch (error) {\n        console.error(\"Error getting image:\", error);\n        // Return a placeholder instead of throwing, to prevent UI breaking\n        return \"/images/placeholder.jpg\";\n    }\n};\n// Delete product image from Firestore\nconst deleteProductImage = async (imageUrl)=>{\n    try {\n        // Check if it's a base64 image\n        if (imageUrl.startsWith(\"base64://\")) {\n            const imageId = imageUrl.replace(\"base64://\", \"\");\n            const imageDoc = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.doc)(db, \"images\", imageId);\n            await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.deleteDoc)(imageDoc);\n            console.log(\"Product image deleted successfully from Firestore:\", imageId);\n            return;\n        }\n        // Handle legacy Storage URLs\n        const storage = getStorageInstance();\n        // Extract the file path from the URL\n        const decodedUrl = decodeURIComponent(imageUrl);\n        const startIndex = decodedUrl.indexOf(\"product_images\");\n        if (startIndex === -1) {\n            console.warn(\"Not a Firebase Storage URL or not in product_images folder:\", imageUrl);\n            return;\n        }\n        const endIndex = decodedUrl.indexOf(\"?\", startIndex);\n        const filePath = endIndex !== -1 ? decodedUrl.substring(startIndex, endIndex) : decodedUrl.substring(startIndex);\n        // Create a reference to the file\n        const imageRef = (0,firebase_storage__WEBPACK_IMPORTED_MODULE_2__.ref)(storage, filePath);\n        // Delete the file\n        await (0,firebase_storage__WEBPACK_IMPORTED_MODULE_2__.deleteObject)(imageRef);\n        console.log(\"Product image deleted successfully from Storage:\", filePath);\n    } catch (error) {\n        console.error(\"Error deleting product image:\", error);\n    // Don't throw error here, as we want to continue with product deletion\n    // even if image deletion fails\n    }\n};\n// Add a new product without transaction\nconst addProduct = async (product)=>{\n    try {\n        console.log(\"Adding product to Firestore:\", product);\n        // Validate product data\n        const validationError = validateProduct(product);\n        if (validationError) {\n            throw new Error(validationError);\n        }\n        // Clean the product data for Firestore\n        const cleanedProduct = cleanProductData(product);\n        console.log(\"Cleaned product data for Firestore:\", cleanedProduct);\n        // Add the product document directly\n        const docRef = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.addDoc)(productsCollection, cleanedProduct);\n        const newProductWithId = {\n            id: docRef.id,\n            ...cleanedProduct\n        };\n        // Update or create category count\n        try {\n            const categoryRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.doc)(categoriesCollection, cleanedProduct.category);\n            const categoryDoc = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.getDoc)(categoryRef);\n            if (categoryDoc.exists()) {\n                // Update existing category\n                await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.updateDoc)(categoryRef, {\n                    count: (categoryDoc.data().count || 0) + 1,\n                    updatedAt: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.serverTimestamp)()\n                });\n            } else {\n                // Create new category\n                await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.setDoc)(categoryRef, {\n                    id: cleanedProduct.category,\n                    name: cleanedProduct.category.charAt(0).toUpperCase() + cleanedProduct.category.slice(1),\n                    count: 1,\n                    createdAt: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.serverTimestamp)(),\n                    updatedAt: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.serverTimestamp)()\n                });\n            }\n        } catch (catError) {\n            console.error(\"Error updating category:\", catError);\n        // Continue even if category update fails\n        }\n        // Clear cache completely to ensure fresh data on next fetch\n        clearProductCache();\n        console.log(\"Product added successfully with ID:\", newProductWithId.id);\n        return newProductWithId;\n    } catch (error) {\n        console.error(\"Error adding product to Firestore:\", error);\n        throw error;\n    }\n};\n// Update a product\nconst updateProduct = async (id, product)=>{\n    try {\n        console.log(`Updating product ${id} with:`, product);\n        const productDoc = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.doc)(db, \"products\", id);\n        // Get existing product to check if category is changing\n        const existingProductSnap = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.getDoc)(productDoc);\n        if (!existingProductSnap.exists()) {\n            throw new Error(\"Product not found\");\n        }\n        const existingProduct = existingProductSnap.data();\n        const cleanedUpdates = cleanProductData(product);\n        // Always update the timestamp when modified\n        cleanedUpdates.updatedAt = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.serverTimestamp)();\n        await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.runTransaction)(db, async (transaction)=>{\n            // Update product document\n            transaction.update(productDoc, cleanedUpdates);\n            // If category changed, update both old and new category counts\n            if (product.category && existingProduct.category !== product.category) {\n                // Decrease old category count\n                const oldCategoryRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.doc)(categoriesCollection, existingProduct.category);\n                const oldCategoryDoc = await transaction.get(oldCategoryRef);\n                if (oldCategoryDoc.exists()) {\n                    const oldCount = oldCategoryDoc.data().count || 0;\n                    if (oldCount > 1) {\n                        transaction.update(oldCategoryRef, {\n                            count: oldCount - 1,\n                            updatedAt: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.serverTimestamp)()\n                        });\n                    } else {\n                        // Delete category if it will be empty\n                        transaction.delete(oldCategoryRef);\n                    }\n                }\n                // Increase new category count\n                const newCategoryRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.doc)(categoriesCollection, product.category);\n                const newCategoryDoc = await transaction.get(newCategoryRef);\n                if (newCategoryDoc.exists()) {\n                    transaction.update(newCategoryRef, {\n                        count: (newCategoryDoc.data().count || 0) + 1,\n                        updatedAt: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.serverTimestamp)()\n                    });\n                } else {\n                    transaction.set(newCategoryRef, {\n                        id: product.category,\n                        name: product.category.charAt(0).toUpperCase() + product.category.slice(1),\n                        count: 1,\n                        createdAt: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.serverTimestamp)(),\n                        updatedAt: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.serverTimestamp)()\n                    });\n                }\n            }\n        });\n        // Clear cache completely to ensure fresh data on next fetch\n        clearProductCache();\n        console.log(`Product ${id} updated successfully`);\n    } catch (error) {\n        console.error(\"Error updating product:\", error);\n        throw new Error(\"Failed to update product\");\n    }\n};\n// Delete a product\nconst deleteProduct = async (id)=>{\n    try {\n        console.log(`Deleting product ${id}`);\n        const productDoc = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.doc)(db, \"products\", id);\n        // Get product to find its category and image URL\n        const productSnap = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.getDoc)(productDoc);\n        if (!productSnap.exists()) {\n            throw new Error(\"Product not found\");\n        }\n        const productData = productSnap.data();\n        // Try to delete the product image first\n        if (productData.image) {\n            try {\n                await deleteProductImage(productData.image);\n            } catch (error) {\n                console.error(\"Error deleting product image:\", error);\n            // Continue with product deletion even if image deletion fails\n            }\n        }\n        // Delete the product directly without using transaction\n        await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.deleteDoc)(productDoc);\n        // Update category count if needed\n        if (productData.category) {\n            try {\n                const categoryRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.doc)(categoriesCollection, productData.category);\n                const categoryDoc = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.getDoc)(categoryRef);\n                if (categoryDoc.exists()) {\n                    const count = categoryDoc.data().count || 0;\n                    if (count > 1) {\n                        await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.updateDoc)(categoryRef, {\n                            count: count - 1,\n                            updatedAt: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.serverTimestamp)()\n                        });\n                    } else {\n                        // Delete category if it will be empty\n                        await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.deleteDoc)(categoryRef);\n                    }\n                }\n            } catch (catError) {\n                console.error(\"Error updating category count:\", catError);\n            // Continue even if category update fails\n            }\n        }\n        // Clear cache completely to ensure fresh data on next fetch\n        clearProductCache();\n        console.log(`Product ${id} deleted successfully`);\n    } catch (error) {\n        console.error(\"Error deleting product:\", error);\n        throw new Error(\"Failed to delete product\");\n    }\n};\n// Get all categories with product counts\nconst getAllCategories = async ()=>{\n    try {\n        const snapshot = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.getDocs)(categoriesCollection);\n        return snapshot.docs.map((doc)=>doc.data());\n    } catch (error) {\n        console.error(\"Error getting categories:\", error);\n        throw new Error(\"Failed to fetch categories\");\n    }\n};\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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VyxLQUFLLENBQUMsa0NBQWtDeUU7WUFDaEQseUNBQXlDO1lBQzNDO1FBQ0Y7UUFFQSw0REFBNEQ7UUFDNUQ5QztRQUNBdEMsUUFBUUMsR0FBRyxDQUFDLENBQUMsUUFBUSxFQUFFTyxHQUFHLHFCQUFxQixDQUFDO0lBRWxELEVBQUUsT0FBT0csT0FBTztRQUNkWCxRQUFRVyxLQUFLLENBQUMsMkJBQTJCQTtRQUN6QyxNQUFNLElBQUlTLE1BQU07SUFDbEI7QUFDRixFQUFFO0FBRUYseUNBQXlDO0FBQ2xDLE1BQU1rRixtQkFBbUI7SUFDOUIsSUFBSTtRQUNGLE1BQU1sRyxXQUFXLE1BQU1wRSwyREFBT0EsQ0FBQ3FCO1FBQy9CLE9BQU8rQyxTQUFTQyxJQUFJLENBQUN2QixHQUFHLENBQUM3QyxDQUFBQSxNQUFPQSxJQUFJc0UsSUFBSTtJQUMxQyxFQUFFLE9BQU9JLE9BQU87UUFDZFgsUUFBUVcsS0FBSyxDQUFDLDZCQUE2QkE7UUFDM0MsTUFBTSxJQUFJUyxNQUFNO0lBQ2xCO0FBQ0YsRUFBRSIsInNvdXJjZXMiOlsid2VicGFjazovL2plYW5zLW5leHRqcy8uL3V0aWxzL2ZpcmVzdG9yZS50cz9hYTAwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGFwcCB9IGZyb20gJy4vZmlyZWJhc2UnO1xuaW1wb3J0IHsgZ2V0RmlyZXN0b3JlLCBjb2xsZWN0aW9uLCBnZXREb2NzLCBkb2MsIGdldERvYywgYWRkRG9jLCB1cGRhdGVEb2MsIGRlbGV0ZURvYywgcXVlcnksIHdoZXJlLCBydW5UcmFuc2FjdGlvbiwgc2VydmVyVGltZXN0YW1wLCBEb2N1bWVudFJlZmVyZW5jZSwgbGltaXQsIG9yZGVyQnksIHN0YXJ0QWZ0ZXIsIFF1ZXJ5RG9jdW1lbnRTbmFwc2hvdCwgUXVlcnlTbmFwc2hvdCwgRmlyZXN0b3JlLCBzZXREb2MgfSBmcm9tICdmaXJlYmFzZS9maXJlc3RvcmUnO1xuaW1wb3J0IHsgZ2V0U3RvcmFnZSwgcmVmLCB1cGxvYWRCeXRlcywgZ2V0RG93bmxvYWRVUkwsIGRlbGV0ZU9iamVjdCwgRmlyZWJhc2VTdG9yYWdlIH0gZnJvbSAnZmlyZWJhc2Uvc3RvcmFnZSc7XG5pbXBvcnQgeyBQcm9kdWN0IH0gZnJvbSAnLi4vZGF0YS9wcm9kdWN0cyc7XG5pbXBvcnQgKiBhcyBsb2NhbFN0b3JhZ2VBUEkgZnJvbSAnLi9sb2NhbFN0b3JhZ2UnO1xuXG4vLyBJbml0aWFsaXplIEZpcmVzdG9yZVxuZXhwb3J0IGNvbnN0IGRiOiBGaXJlc3RvcmUgPSBnZXRGaXJlc3RvcmUoYXBwKTtcblxuLy8gSW5pdGlhbGl6ZSBTdG9yYWdlXG5leHBvcnQgY29uc3Qgc3RvcmFnZTogRmlyZWJhc2VTdG9yYWdlID0gZ2V0U3RvcmFnZShhcHApO1xuXG4vLyBDb2xsZWN0aW9uIHJlZmVyZW5jZXNcbmNvbnN0IHByb2R1Y3RzQ29sbGVjdGlvbiA9IGNvbGxlY3Rpb24oZGIsICdwcm9kdWN0cycpO1xuY29uc3QgY2F0ZWdvcmllc0NvbGxlY3Rpb24gPSBjb2xsZWN0aW9uKGRiLCAnY2F0ZWdvcmllcycpO1xuXG4vLyBDYWNoZSBmb3IgcHJvZHVjdHNcbmNvbnN0IHByb2R1Y3RDYWNoZToge1xuICBhbGw6IFByb2R1Y3RbXSB8IG51bGw7XG4gIGJ5SWQ6IFJlY29yZDxzdHJpbmcsIFByb2R1Y3Q+O1xuICBieUNhdGVnb3J5OiBSZWNvcmQ8c3RyaW5nLCBQcm9kdWN0W10+O1xuICBsYXN0RmV0Y2hlZDogbnVtYmVyO1xufSA9IHtcbiAgYWxsOiBudWxsLFxuICBieUlkOiB7fSxcbiAgYnlDYXRlZ29yeToge30sXG4gIGxhc3RGZXRjaGVkOiAwXG59O1xuXG4vLyBDYWNoZSBleHBpcmF0aW9uIHRpbWUgKDUgbWludXRlcylcbmNvbnN0IENBQ0hFX0VYUElSQVRJT04gPSA1ICogNjAgKiAxMDAwO1xuXG4vLyBWYWxpZGF0ZSBwcm9kdWN0IGRhdGEgYmVmb3JlIHNhdmluZ1xuY29uc3QgdmFsaWRhdGVQcm9kdWN0ID0gKHByb2R1Y3Q6IFBhcnRpYWw8UHJvZHVjdD4pOiBzdHJpbmcgfCBudWxsID0+IHtcbiAgaWYgKCFwcm9kdWN0Lm5hbWUgfHwgdHlwZW9mIHByb2R1Y3QubmFtZSAhPT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gJ1Byb2R1Y3QgbmFtZSBpcyByZXF1aXJlZCc7XG4gIH1cbiAgXG4gIGlmICghcHJvZHVjdC5wcmljZSB8fCBpc05hTihOdW1iZXIocHJvZHVjdC5wcmljZSkpKSB7XG4gICAgcmV0dXJuICdWYWxpZCBwcm9kdWN0IHByaWNlIGlzIHJlcXVpcmVkJztcbiAgfVxuICBcbiAgaWYgKCFwcm9kdWN0LmNhdGVnb3J5IHx8IHR5cGVvZiBwcm9kdWN0LmNhdGVnb3J5ICE9PSAnc3RyaW5nJykge1xuICAgIHJldHVybiAnUHJvZHVjdCBjYXRlZ29yeSBpcyByZXF1aXJlZCc7XG4gIH1cbiAgXG4gIGlmICghcHJvZHVjdC5zdWJjYXRlZ29yeSB8fCB0eXBlb2YgcHJvZHVjdC5zdWJjYXRlZ29yeSAhPT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gJ1Byb2R1Y3Qgc3ViY2F0ZWdvcnkgaXMgcmVxdWlyZWQnO1xuICB9XG4gIFxuICBpZiAoIXByb2R1Y3QuaW1hZ2UgfHwgdHlwZW9mIHByb2R1Y3QuaW1hZ2UgIT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuICdQcm9kdWN0IGltYWdlIGlzIHJlcXVpcmVkJztcbiAgfVxuICBcbiAgcmV0dXJuIG51bGw7IC8vIE5vIGVycm9yc1xufTtcblxuLy8gQ2xlYW4gcHJvZHVjdCBkYXRhIGZvciBGaXJlc3RvcmVcbmNvbnN0IGNsZWFuUHJvZHVjdERhdGEgPSAocHJvZHVjdDogUmVjb3JkPHN0cmluZywgYW55Pik6IFJlY29yZDxzdHJpbmcsIGFueT4gPT4ge1xuICBjb25zdCBjbGVhbmVkUHJvZHVjdDogUmVjb3JkPHN0cmluZywgYW55PiA9IHt9O1xuICBcbiAgT2JqZWN0LmVudHJpZXMocHJvZHVjdCkuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQgJiYgdmFsdWUgIT09IG51bGwpIHtcbiAgICAgIC8vIEhhbmRsZSBzcGVjaWZpYyBmaWVsZCB0eXBlc1xuICAgICAgaWYgKGtleSA9PT0gJ3ByaWNlJyB8fCBrZXkgPT09ICdvcmlnaW5hbFByaWNlJyB8fCBrZXkgPT09ICdzdG9jaycpIHtcbiAgICAgICAgY2xlYW5lZFByb2R1Y3Rba2V5XSA9IE51bWJlcih2YWx1ZSk7XG4gICAgICB9IGVsc2UgaWYgKGtleSA9PT0gJ3NpemVzJyAmJiB0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGNsZWFuZWRQcm9kdWN0W2tleV0gPSB2YWx1ZS5zcGxpdCgnLCcpLm1hcCgoczogc3RyaW5nKSA9PiBzLnRyaW0oKSkuZmlsdGVyKEJvb2xlYW4pO1xuICAgICAgfSBlbHNlIGlmIChrZXkgPT09ICdmZWF0dXJlZCcgfHwga2V5ID09PSAnbmV3Jykge1xuICAgICAgICBjbGVhbmVkUHJvZHVjdFtrZXldID0gdmFsdWUgPT09IHRydWUgfHwgdmFsdWUgPT09ICd0cnVlJztcbiAgICAgIH0gZWxzZSBpZiAoa2V5ID09PSAnY2F0ZWdvcnknIHx8IGtleSA9PT0gJ3N1YmNhdGVnb3J5Jykge1xuICAgICAgICAvLyBOb3JtYWxpemUgY2F0ZWdvcmllcyB0byBsb3dlcmNhc2VcbiAgICAgICAgY2xlYW5lZFByb2R1Y3Rba2V5XSA9IFN0cmluZyh2YWx1ZSkudG9Mb3dlckNhc2UoKS50cmltKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjbGVhbmVkUHJvZHVjdFtrZXldID0gdmFsdWU7XG4gICAgICB9XG4gICAgfVxuICB9KTtcbiAgXG4gIC8vIEVuc3VyZSB0aGVyZSBhcmUgdGFncyBmb3IgY2F0ZWdvcnkgYW5kIHN1YmNhdGVnb3J5XG4gIGlmICghY2xlYW5lZFByb2R1Y3QudGFncykge1xuICAgIGNsZWFuZWRQcm9kdWN0LnRhZ3MgPSBbXTtcbiAgfVxuICBcbiAgLy8gQWRkIGNhdGVnb3J5IGFuZCBzdWJjYXRlZ29yeSB0byB0YWdzIGlmIHRoZXkgZG9uJ3QgZXhpc3RcbiAgaWYgKGNsZWFuZWRQcm9kdWN0LmNhdGVnb3J5ICYmICFjbGVhbmVkUHJvZHVjdC50YWdzLmluY2x1ZGVzKGNsZWFuZWRQcm9kdWN0LmNhdGVnb3J5KSkge1xuICAgIGNsZWFuZWRQcm9kdWN0LnRhZ3MucHVzaChjbGVhbmVkUHJvZHVjdC5jYXRlZ29yeSk7XG4gIH1cbiAgXG4gIGlmIChjbGVhbmVkUHJvZHVjdC5zdWJjYXRlZ29yeSAmJiAhY2xlYW5lZFByb2R1Y3QudGFncy5pbmNsdWRlcyhjbGVhbmVkUHJvZHVjdC5zdWJjYXRlZ29yeSkpIHtcbiAgICBjbGVhbmVkUHJvZHVjdC50YWdzLnB1c2goY2xlYW5lZFByb2R1Y3Quc3ViY2F0ZWdvcnkpO1xuICB9XG4gIFxuICAvLyBBZGQgY29tYmluZWQgdGFnIChjYXRlZ29yeS1zdWJjYXRlZ29yeSlcbiAgaWYgKGNsZWFuZWRQcm9kdWN0LmNhdGVnb3J5ICYmIGNsZWFuZWRQcm9kdWN0LnN1YmNhdGVnb3J5KSB7XG4gICAgY29uc3QgY29tYmluZWRUYWcgPSBgJHtjbGVhbmVkUHJvZHVjdC5jYXRlZ29yeX0tJHtjbGVhbmVkUHJvZHVjdC5zdWJjYXRlZ29yeX1gO1xuICAgIGlmICghY2xlYW5lZFByb2R1Y3QudGFncy5pbmNsdWRlcyhjb21iaW5lZFRhZykpIHtcbiAgICAgIGNsZWFuZWRQcm9kdWN0LnRhZ3MucHVzaChjb21iaW5lZFRhZyk7XG4gICAgfVxuICB9XG4gIFxuICAvLyBBZGQgdGltZXN0YW1wc1xuICBpZiAoIWNsZWFuZWRQcm9kdWN0LmNyZWF0ZWRBdCkge1xuICAgIGNsZWFuZWRQcm9kdWN0LmNyZWF0ZWRBdCA9IHNlcnZlclRpbWVzdGFtcCgpO1xuICB9XG4gIGNsZWFuZWRQcm9kdWN0LnVwZGF0ZWRBdCA9IHNlcnZlclRpbWVzdGFtcCgpO1xuICBcbiAgcmV0dXJuIGNsZWFuZWRQcm9kdWN0O1xufTtcblxuLy8gQ2hlY2sgaWYgY2FjaGUgaXMgdmFsaWRcbmNvbnN0IGlzQ2FjaGVWYWxpZCA9ICgpOiBib29sZWFuID0+IHtcbiAgcmV0dXJuIChcbiAgICBwcm9kdWN0Q2FjaGUuYWxsICE9PSBudWxsICYmXG4gICAgRGF0ZS5ub3coKSAtIHByb2R1Y3RDYWNoZS5sYXN0RmV0Y2hlZCA8IENBQ0hFX0VYUElSQVRJT05cbiAgKTtcbn07XG5cbi8vIEdldCBhbGwgcHJvZHVjdHMgd2l0aCBwYWdpbmF0aW9uIGFuZCBjYWNoaW5nXG5leHBvcnQgY29uc3QgZ2V0QWxsUHJvZHVjdHMgPSBhc3luYyAocGFnZVNpemU6IG51bWJlciA9IDApOiBQcm9taXNlPFByb2R1Y3RbXT4gPT4ge1xuICB0cnkge1xuICAgIC8vIEZvcmNlIGNhY2hlIHJlZnJlc2ggb24gZXZlcnkgcmVxdWVzdCBmb3Igbm93IHRvIGZpeCBsb2FkaW5nIGlzc3Vlc1xuICAgIHByb2R1Y3RDYWNoZS5hbGwgPSBudWxsO1xuICAgIHByb2R1Y3RDYWNoZS5sYXN0RmV0Y2hlZCA9IDA7XG4gICAgY29uc29sZS5sb2coJ0ZvcmNpbmcgY2FjaGUgcmVmcmVzaCBmb3IgcHJvZHVjdHMnKTtcbiAgICBcbiAgICAvLyBJZiBjYWNoZSBpcyB2YWxpZCBhbmQgd2UncmUgbm90IHBhZ2luYXRpbmcsIHJldHVybiBjYWNoZWQgcHJvZHVjdHNcbiAgICBpZiAoaXNDYWNoZVZhbGlkKCkgJiYgcGFnZVNpemUgPT09IDAgJiYgcHJvZHVjdENhY2hlLmFsbCkge1xuICAgICAgY29uc29sZS5sb2coYFJldHVybmluZyAke3Byb2R1Y3RDYWNoZS5hbGwubGVuZ3RofSBwcm9kdWN0cyBmcm9tIGNhY2hlYCk7XG4gICAgICByZXR1cm4gcHJvZHVjdENhY2hlLmFsbDtcbiAgICB9XG4gICAgXG4gICAgY29uc29sZS5sb2coJ0NhY2hlIGludmFsaWQgb3IgZW1wdHksIGZldGNoaW5nIHByb2R1Y3RzIGZyb20gRmlyZXN0b3JlLi4uJyk7XG4gICAgXG4gICAgbGV0IHByb2R1Y3RzUXVlcnkgPSBxdWVyeShwcm9kdWN0c0NvbGxlY3Rpb24sIG9yZGVyQnkoJ2NyZWF0ZWRBdCcsICdkZXNjJykpO1xuICAgIFxuICAgIC8vIEFwcGx5IHBhZ2luYXRpb24gaWYgcGFnZVNpemUgaXMgc3BlY2lmaWVkXG4gICAgaWYgKHBhZ2VTaXplID4gMCkge1xuICAgICAgcHJvZHVjdHNRdWVyeSA9IHF1ZXJ5KHByb2R1Y3RzUXVlcnksIGxpbWl0KHBhZ2VTaXplKSk7XG4gICAgfVxuICAgIFxuICAgIGNvbnNvbGUubG9nKCdFeGVjdXRpbmcgRmlyZXN0b3JlIHF1ZXJ5Li4uJyk7XG4gICAgY29uc3Qgc25hcHNob3QgPSBhd2FpdCBnZXREb2NzKHByb2R1Y3RzUXVlcnkpO1xuICAgIGNvbnNvbGUubG9nKGBSYXcgRmlyZXN0b3JlIHF1ZXJ5IHJldHVybmVkICR7c25hcHNob3QuZG9jcy5sZW5ndGh9IGRvY3VtZW50c2ApO1xuICAgIFxuICAgIGNvbnN0IHByb2R1Y3RzID0gc25hcHNob3QuZG9jcy5tYXAoZG9jID0+IHtcbiAgICAgIGNvbnN0IGRhdGEgPSBkb2MuZGF0YSgpO1xuICAgICAgLy8gTG9nIGVhY2ggcHJvZHVjdCBmb3IgZGVidWdnaW5nXG4gICAgICBjb25zb2xlLmxvZyhgUHJvY2Vzc2luZyBwcm9kdWN0OiAke2RvYy5pZH0gLSAke2RhdGEubmFtZSB8fCAnVW5uYW1lZCBwcm9kdWN0J31gKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGlkOiBkb2MuaWQsXG4gICAgICAgIC4uLmRhdGFcbiAgICAgIH0gYXMgUHJvZHVjdDtcbiAgICB9KTtcbiAgICBcbiAgICAvLyBVcGRhdGUgY2FjaGUgaWYgd2UncmUgZ2V0dGluZyBhbGwgcHJvZHVjdHNcbiAgICBpZiAocGFnZVNpemUgPT09IDApIHtcbiAgICAgIHByb2R1Y3RDYWNoZS5hbGwgPSBwcm9kdWN0cztcbiAgICAgIFxuICAgICAgLy8gVXBkYXRlIGJ5SWQgYW5kIGJ5Q2F0ZWdvcnkgY2FjaGVzXG4gICAgICBwcm9kdWN0cy5mb3JFYWNoKHByb2R1Y3QgPT4ge1xuICAgICAgICBwcm9kdWN0Q2FjaGUuYnlJZFtwcm9kdWN0LmlkXSA9IHByb2R1Y3Q7XG4gICAgICAgIFxuICAgICAgICBpZiAocHJvZHVjdC5jYXRlZ29yeSkge1xuICAgICAgICAgIGlmICghcHJvZHVjdENhY2hlLmJ5Q2F0ZWdvcnlbcHJvZHVjdC5jYXRlZ29yeV0pIHtcbiAgICAgICAgICAgIHByb2R1Y3RDYWNoZS5ieUNhdGVnb3J5W3Byb2R1Y3QuY2F0ZWdvcnldID0gW107XG4gICAgICAgICAgfVxuICAgICAgICAgIHByb2R1Y3RDYWNoZS5ieUNhdGVnb3J5W3Byb2R1Y3QuY2F0ZWdvcnldLnB1c2gocHJvZHVjdCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgXG4gICAgICBwcm9kdWN0Q2FjaGUubGFzdEZldGNoZWQgPSBEYXRlLm5vdygpO1xuICAgIH1cbiAgICBcbiAgICBjb25zb2xlLmxvZyhgU3VjY2Vzc2Z1bGx5IHByb2Nlc3NlZCBhbmQgcmV0dXJuaW5nICR7cHJvZHVjdHMubGVuZ3RofSBwcm9kdWN0cyBmcm9tIEZpcmVzdG9yZWApO1xuICAgIFxuICAgIC8vIElmIEZpcmViYXNlIHJldHVybmVkIG5vIHByb2R1Y3RzLCB0cnkgdG8gbG9hZCBmcm9tIGxvY2FsU3RvcmFnZSBhcyBhIGZhbGxiYWNrXG4gICAgaWYgKHByb2R1Y3RzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgY29uc29sZS5sb2coJ05vIHByb2R1Y3RzIGZvdW5kIGluIEZpcmVzdG9yZSwgdHJ5aW5nIGxvY2FsU3RvcmFnZSBmYWxsYmFjaycpO1xuICAgICAgXG4gICAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgLy8gSW5pdGlhbGl6ZSBsb2NhbFN0b3JhZ2UgaWYgbmVlZGVkIChsb2FkcyBzYW1wbGUgcHJvZHVjdHMgZmlyc3QgdGltZSlcbiAgICAgICAgbG9jYWxTdG9yYWdlQVBJLmluaXRpYWxpemVMb2NhbFN0b3JhZ2UoKTtcbiAgICAgICAgXG4gICAgICAgIC8vIEdldCBwcm9kdWN0cyBmcm9tIGxvY2FsU3RvcmFnZVxuICAgICAgICBjb25zdCBsb2NhbFByb2R1Y3RzID0gbG9jYWxTdG9yYWdlQVBJLmdldEFsbFByb2R1Y3RzKCk7XG4gICAgICAgIGNvbnNvbGUubG9nKGBGb3VuZCAke2xvY2FsUHJvZHVjdHMubGVuZ3RofSBwcm9kdWN0cyBpbiBsb2NhbFN0b3JhZ2VgKTtcbiAgICAgICAgXG4gICAgICAgIGlmIChsb2NhbFByb2R1Y3RzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICByZXR1cm4gbG9jYWxQcm9kdWN0cztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICByZXR1cm4gcHJvZHVjdHM7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgZ2V0dGluZyBwcm9kdWN0cyBmcm9tIEZpcmVzdG9yZTonLCBlcnJvcik7XG4gICAgXG4gICAgLy8gQXR0ZW1wdCB0byByZXR1cm4gYW55IGNhY2hlZCBwcm9kdWN0cyBpZiBhdmFpbGFibGUgZXZlbiBpZiBleHBpcmVkXG4gICAgaWYgKHByb2R1Y3RDYWNoZS5hbGwgJiYgQXJyYXkuaXNBcnJheShwcm9kdWN0Q2FjaGUuYWxsKSAmJiBwcm9kdWN0Q2FjaGUuYWxsLmxlbmd0aCA+IDApIHtcbiAgICAgIGNvbnNvbGUubG9nKGBSZXR1cm5pbmcgJHtwcm9kdWN0Q2FjaGUuYWxsLmxlbmd0aH0gcHJvZHVjdHMgZnJvbSBleHBpcmVkIGNhY2hlIGFzIGZhbGxiYWNrYCk7XG4gICAgICByZXR1cm4gcHJvZHVjdENhY2hlLmFsbDtcbiAgICB9XG4gICAgXG4gICAgLy8gSWYgY2FjaGUgZmFpbGVkLCB0cnkgbG9jYWxTdG9yYWdlIGFzIHVsdGltYXRlIGZhbGxiYWNrXG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBjb25zb2xlLmxvZygnVHJ5aW5nIHRvIGxvYWQgcHJvZHVjdHMgZnJvbSBsb2NhbFN0b3JhZ2UgZHVlIHRvIEZpcmVzdG9yZSBlcnJvcicpO1xuICAgICAgXG4gICAgICAvLyBJbml0aWFsaXplIGxvY2FsU3RvcmFnZSBpZiBuZWVkZWQgKGxvYWRzIHNhbXBsZSBwcm9kdWN0cyBmaXJzdCB0aW1lKVxuICAgICAgbG9jYWxTdG9yYWdlQVBJLmluaXRpYWxpemVMb2NhbFN0b3JhZ2UoKTtcbiAgICAgIFxuICAgICAgLy8gR2V0IHByb2R1Y3RzIGZyb20gbG9jYWxTdG9yYWdlXG4gICAgICBjb25zdCBsb2NhbFByb2R1Y3RzID0gbG9jYWxTdG9yYWdlQVBJLmdldEFsbFByb2R1Y3RzKCk7XG4gICAgICBjb25zb2xlLmxvZyhgRm91bmQgJHtsb2NhbFByb2R1Y3RzLmxlbmd0aH0gcHJvZHVjdHMgaW4gbG9jYWxTdG9yYWdlIGZvciBmYWxsYmFja2ApO1xuICAgICAgXG4gICAgICBpZiAobG9jYWxQcm9kdWN0cy5sZW5ndGggPiAwKSB7XG4gICAgICAgIHJldHVybiBsb2NhbFByb2R1Y3RzO1xuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICAvLyBSZXR1cm4gZW1wdHkgYXJyYXkgcmF0aGVyIHRoYW4gdGhyb3dpbmcgZXJyb3JcbiAgICBjb25zb2xlLndhcm4oJ0FsbCBwcm9kdWN0IGxvYWRpbmcgZmFsbGJhY2tzIGZhaWxlZCwgcmV0dXJuaW5nIGVtcHR5IGFycmF5Jyk7XG4gICAgcmV0dXJuIFtdO1xuICB9XG59O1xuXG4vLyBHZXQgbmV4dCBwYWdlIG9mIHByb2R1Y3RzXG5leHBvcnQgY29uc3QgZ2V0TmV4dFByb2R1Y3RzUGFnZSA9IGFzeW5jIChcbiAgbGFzdFZpc2libGU6IFF1ZXJ5RG9jdW1lbnRTbmFwc2hvdCxcbiAgcGFnZVNpemU6IG51bWJlciA9IDIwXG4pOiBQcm9taXNlPFByb2R1Y3RbXT4gPT4ge1xuICB0cnkge1xuICAgIGNvbnN0IHByb2R1Y3RzUXVlcnkgPSBxdWVyeShcbiAgICAgIHByb2R1Y3RzQ29sbGVjdGlvbixcbiAgICAgIG9yZGVyQnkoJ2NyZWF0ZWRBdCcsICdkZXNjJyksXG4gICAgICBzdGFydEFmdGVyKGxhc3RWaXNpYmxlKSxcbiAgICAgIGxpbWl0KHBhZ2VTaXplKVxuICAgICk7XG4gICAgXG4gICAgY29uc3Qgc25hcHNob3QgPSBhd2FpdCBnZXREb2NzKHByb2R1Y3RzUXVlcnkpO1xuICAgIGNvbnN0IHByb2R1Y3RzID0gc25hcHNob3QuZG9jcy5tYXAoZG9jID0+ICh7XG4gICAgICBpZDogZG9jLmlkLFxuICAgICAgLi4uZG9jLmRhdGEoKVxuICAgIH0gYXMgUHJvZHVjdCkpO1xuICAgIFxuICAgIC8vIFVwZGF0ZSBjYWNoZSBmb3IgdGhlc2UgcHJvZHVjdHNcbiAgICBwcm9kdWN0cy5mb3JFYWNoKHByb2R1Y3QgPT4ge1xuICAgICAgcHJvZHVjdENhY2hlLmJ5SWRbcHJvZHVjdC5pZF0gPSBwcm9kdWN0O1xuICAgICAgXG4gICAgICBpZiAocHJvZHVjdC5jYXRlZ29yeSkge1xuICAgICAgICBpZiAoIXByb2R1Y3RDYWNoZS5ieUNhdGVnb3J5W3Byb2R1Y3QuY2F0ZWdvcnldKSB7XG4gICAgICAgICAgcHJvZHVjdENhY2hlLmJ5Q2F0ZWdvcnlbcHJvZHVjdC5jYXRlZ29yeV0gPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gQ2hlY2sgaWYgcHJvZHVjdCBhbHJlYWR5IGV4aXN0cyBpbiBjYXRlZ29yeSBjYWNoZVxuICAgICAgICBjb25zdCBleGlzdGluZ0luZGV4ID0gcHJvZHVjdENhY2hlLmJ5Q2F0ZWdvcnlbcHJvZHVjdC5jYXRlZ29yeV0uZmluZEluZGV4KFxuICAgICAgICAgIHAgPT4gcC5pZCA9PT0gcHJvZHVjdC5pZFxuICAgICAgICApO1xuICAgICAgICBcbiAgICAgICAgaWYgKGV4aXN0aW5nSW5kZXggPj0gMCkge1xuICAgICAgICAgIHByb2R1Y3RDYWNoZS5ieUNhdGVnb3J5W3Byb2R1Y3QuY2F0ZWdvcnldW2V4aXN0aW5nSW5kZXhdID0gcHJvZHVjdDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwcm9kdWN0Q2FjaGUuYnlDYXRlZ29yeVtwcm9kdWN0LmNhdGVnb3J5XS5wdXNoKHByb2R1Y3QpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gICAgXG4gICAgcmV0dXJuIHByb2R1Y3RzO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGdldHRpbmcgbmV4dCBwYWdlIG9mIHByb2R1Y3RzOicsIGVycm9yKTtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byBmZXRjaCBtb3JlIHByb2R1Y3RzJyk7XG4gIH1cbn07XG5cbi8vIEdldCBwcm9kdWN0cyBieSBjYXRlZ29yeSB3aXRoIGNhY2hpbmdcbmV4cG9ydCBjb25zdCBnZXRQcm9kdWN0c0J5Q2F0ZWdvcnkgPSBhc3luYyAoY2F0ZWdvcnk6IHN0cmluZyk6IFByb21pc2U8UHJvZHVjdFtdPiA9PiB7XG4gIHRyeSB7XG4gICAgLy8gQ2hlY2sgaWYgd2UgaGF2ZSB0aGlzIGNhdGVnb3J5IGluIGNhY2hlIGFuZCBpdCdzIHN0aWxsIHZhbGlkXG4gICAgaWYgKFxuICAgICAgaXNDYWNoZVZhbGlkKCkgJiZcbiAgICAgIHByb2R1Y3RDYWNoZS5ieUNhdGVnb3J5W2NhdGVnb3J5XSAmJlxuICAgICAgcHJvZHVjdENhY2hlLmJ5Q2F0ZWdvcnlbY2F0ZWdvcnldLmxlbmd0aCA+IDBcbiAgICApIHtcbiAgICAgIGNvbnNvbGUubG9nKGBSZXR1cm5pbmcgJHtjYXRlZ29yeX0gcHJvZHVjdHMgZnJvbSBjYWNoZWApO1xuICAgICAgcmV0dXJuIHByb2R1Y3RDYWNoZS5ieUNhdGVnb3J5W2NhdGVnb3J5XTtcbiAgICB9XG4gICAgXG4gICAgY29uc29sZS5sb2coYEZldGNoaW5nICR7Y2F0ZWdvcnl9IHByb2R1Y3RzIGZyb20gRmlyZXN0b3JlYCk7XG4gICAgY29uc3QgcSA9IHF1ZXJ5KHByb2R1Y3RzQ29sbGVjdGlvbiwgd2hlcmUoJ2NhdGVnb3J5JywgJz09JywgY2F0ZWdvcnkpKTtcbiAgICBjb25zdCBzbmFwc2hvdCA9IGF3YWl0IGdldERvY3MocSk7XG4gICAgY29uc3QgcHJvZHVjdHMgPSBzbmFwc2hvdC5kb2NzLm1hcChkb2MgPT4gKHtcbiAgICAgIGlkOiBkb2MuaWQsXG4gICAgICAuLi5kb2MuZGF0YSgpXG4gICAgfSBhcyBQcm9kdWN0KSk7XG4gICAgXG4gICAgLy8gVXBkYXRlIGNhY2hlXG4gICAgcHJvZHVjdENhY2hlLmJ5Q2F0ZWdvcnlbY2F0ZWdvcnldID0gcHJvZHVjdHM7XG4gICAgXG4gICAgLy8gQWxzbyB1cGRhdGUgYnlJZCBjYWNoZVxuICAgIHByb2R1Y3RzLmZvckVhY2gocHJvZHVjdCA9PiB7XG4gICAgICBwcm9kdWN0Q2FjaGUuYnlJZFtwcm9kdWN0LmlkXSA9IHByb2R1Y3Q7XG4gICAgfSk7XG4gICAgXG4gICAgcmV0dXJuIHByb2R1Y3RzO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIGdldHRpbmcgJHtjYXRlZ29yeX0gcHJvZHVjdHM6YCwgZXJyb3IpO1xuICAgIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIGZldGNoICR7Y2F0ZWdvcnl9IHByb2R1Y3RzYCk7XG4gIH1cbn07XG5cbi8vIEdldCBmZWF0dXJlZCBwcm9kdWN0cyB3aXRoIGNhY2hpbmdcbmV4cG9ydCBjb25zdCBnZXRGZWF0dXJlZFByb2R1Y3RzID0gYXN5bmMgKGxpbWl0Q291bnQ6IG51bWJlciA9IDgpOiBQcm9taXNlPFByb2R1Y3RbXT4gPT4ge1xuICB0cnkge1xuICAgIC8vIElmIHdlIGhhdmUgYWxsIHByb2R1Y3RzIGNhY2hlZCwgZmlsdGVyIHRoZW1cbiAgICBpZiAoaXNDYWNoZVZhbGlkKCkgJiYgcHJvZHVjdENhY2hlLmFsbCkge1xuICAgICAgY29uc3QgZmVhdHVyZWQgPSBwcm9kdWN0Q2FjaGUuYWxsLmZpbHRlcihwID0+IHAuZmVhdHVyZWQpLnNsaWNlKDAsIGxpbWl0Q291bnQpO1xuICAgICAgaWYgKGZlYXR1cmVkLmxlbmd0aCA+IDApIHtcbiAgICAgICAgY29uc29sZS5sb2coJ1JldHVybmluZyBmZWF0dXJlZCBwcm9kdWN0cyBmcm9tIGNhY2hlJyk7XG4gICAgICAgIHJldHVybiBmZWF0dXJlZDtcbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgY29uc29sZS5sb2coJ0ZldGNoaW5nIGZlYXR1cmVkIHByb2R1Y3RzIGZyb20gRmlyZXN0b3JlJyk7XG4gICAgY29uc3QgcSA9IHF1ZXJ5KFxuICAgICAgcHJvZHVjdHNDb2xsZWN0aW9uLFxuICAgICAgd2hlcmUoJ2ZlYXR1cmVkJywgJz09JywgdHJ1ZSksXG4gICAgICBvcmRlckJ5KCdjcmVhdGVkQXQnLCAnZGVzYycpLFxuICAgICAgbGltaXQobGltaXRDb3VudClcbiAgICApO1xuICAgIFxuICAgIGNvbnN0IHNuYXBzaG90ID0gYXdhaXQgZ2V0RG9jcyhxKTtcbiAgICBjb25zdCBwcm9kdWN0cyA9IHNuYXBzaG90LmRvY3MubWFwKGRvYyA9PiAoe1xuICAgICAgaWQ6IGRvYy5pZCxcbiAgICAgIC4uLmRvYy5kYXRhKClcbiAgICB9IGFzIFByb2R1Y3QpKTtcbiAgICBcbiAgICAvLyBVcGRhdGUgYnlJZCBjYWNoZVxuICAgIHByb2R1Y3RzLmZvckVhY2gocHJvZHVjdCA9PiB7XG4gICAgICBwcm9kdWN0Q2FjaGUuYnlJZFtwcm9kdWN0LmlkXSA9IHByb2R1Y3Q7XG4gICAgICBcbiAgICAgIC8vIFVwZGF0ZSBjYXRlZ29yeSBjYWNoZSBpZiBuZWVkZWRcbiAgICAgIGlmIChwcm9kdWN0LmNhdGVnb3J5KSB7XG4gICAgICAgIGlmICghcHJvZHVjdENhY2hlLmJ5Q2F0ZWdvcnlbcHJvZHVjdC5jYXRlZ29yeV0pIHtcbiAgICAgICAgICBwcm9kdWN0Q2FjaGUuYnlDYXRlZ29yeVtwcm9kdWN0LmNhdGVnb3J5XSA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyBDaGVjayBpZiBwcm9kdWN0IGFscmVhZHkgZXhpc3RzIGluIGNhdGVnb3J5IGNhY2hlXG4gICAgICAgIGNvbnN0IGV4aXN0aW5nSW5kZXggPSBwcm9kdWN0Q2FjaGUuYnlDYXRlZ29yeVtwcm9kdWN0LmNhdGVnb3J5XS5maW5kSW5kZXgoXG4gICAgICAgICAgcCA9PiBwLmlkID09PSBwcm9kdWN0LmlkXG4gICAgICAgICk7XG4gICAgICAgIFxuICAgICAgICBpZiAoZXhpc3RpbmdJbmRleCA+PSAwKSB7XG4gICAgICAgICAgcHJvZHVjdENhY2hlLmJ5Q2F0ZWdvcnlbcHJvZHVjdC5jYXRlZ29yeV1bZXhpc3RpbmdJbmRleF0gPSBwcm9kdWN0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHByb2R1Y3RDYWNoZS5ieUNhdGVnb3J5W3Byb2R1Y3QuY2F0ZWdvcnldLnB1c2gocHJvZHVjdCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgICBcbiAgICAvLyBJZiBGaXJlYmFzZSByZXR1cm5lZCBubyBwcm9kdWN0cywgdHJ5IHRvIGxvYWQgZnJvbSBsb2NhbFN0b3JhZ2UgYXMgYSBmYWxsYmFja1xuICAgIGlmIChwcm9kdWN0cy5sZW5ndGggPT09IDApIHtcbiAgICAgIGNvbnNvbGUubG9nKCdObyBmZWF0dXJlZCBwcm9kdWN0cyBmb3VuZCBpbiBGaXJlc3RvcmUsIHRyeWluZyBsb2NhbFN0b3JhZ2UgZmFsbGJhY2snKTtcbiAgICAgIFxuICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIC8vIEluaXRpYWxpemUgbG9jYWxTdG9yYWdlIGlmIG5lZWRlZCAobG9hZHMgc2FtcGxlIHByb2R1Y3RzIGZpcnN0IHRpbWUpXG4gICAgICAgIGxvY2FsU3RvcmFnZUFQSS5pbml0aWFsaXplTG9jYWxTdG9yYWdlKCk7XG4gICAgICAgIFxuICAgICAgICAvLyBHZXQgZmVhdHVyZWQgcHJvZHVjdHMgZnJvbSBsb2NhbFN0b3JhZ2VcbiAgICAgICAgY29uc3QgbG9jYWxGZWF0dXJlZCA9IGxvY2FsU3RvcmFnZUFQSS5nZXRGZWF0dXJlZFByb2R1Y3RzKGxpbWl0Q291bnQpO1xuICAgICAgICBjb25zb2xlLmxvZyhgRm91bmQgJHtsb2NhbEZlYXR1cmVkLmxlbmd0aH0gZmVhdHVyZWQgcHJvZHVjdHMgaW4gbG9jYWxTdG9yYWdlYCk7XG4gICAgICAgIFxuICAgICAgICBpZiAobG9jYWxGZWF0dXJlZC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgcmV0dXJuIGxvY2FsRmVhdHVyZWQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIHByb2R1Y3RzO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGdldHRpbmcgZmVhdHVyZWQgcHJvZHVjdHM6JywgZXJyb3IpO1xuICAgIFxuICAgIC8vIFRyeSBsb2NhbFN0b3JhZ2UgYXMgZmFsbGJhY2tcbiAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGNvbnNvbGUubG9nKCdUcnlpbmcgdG8gbG9hZCBmZWF0dXJlZCBwcm9kdWN0cyBmcm9tIGxvY2FsU3RvcmFnZSBkdWUgdG8gRmlyZXN0b3JlIGVycm9yJyk7XG4gICAgICBcbiAgICAgIC8vIEluaXRpYWxpemUgbG9jYWxTdG9yYWdlIGlmIG5lZWRlZCAobG9hZHMgc2FtcGxlIHByb2R1Y3RzIGZpcnN0IHRpbWUpXG4gICAgICBsb2NhbFN0b3JhZ2VBUEkuaW5pdGlhbGl6ZUxvY2FsU3RvcmFnZSgpO1xuICAgICAgXG4gICAgICAvLyBHZXQgZmVhdHVyZWQgcHJvZHVjdHMgZnJvbSBsb2NhbFN0b3JhZ2VcbiAgICAgIGNvbnN0IGxvY2FsRmVhdHVyZWQgPSBsb2NhbFN0b3JhZ2VBUEkuZ2V0RmVhdHVyZWRQcm9kdWN0cyhsaW1pdENvdW50KTtcbiAgICAgIGNvbnNvbGUubG9nKGBGb3VuZCAke2xvY2FsRmVhdHVyZWQubGVuZ3RofSBmZWF0dXJlZCBwcm9kdWN0cyBpbiBsb2NhbFN0b3JhZ2UgZm9yIGZhbGxiYWNrYCk7XG4gICAgICBcbiAgICAgIGlmIChsb2NhbEZlYXR1cmVkLmxlbmd0aCA+IDApIHtcbiAgICAgICAgcmV0dXJuIGxvY2FsRmVhdHVyZWQ7XG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIC8vIFJldHVybiBlbXB0eSBhcnJheSByYXRoZXIgdGhhbiB0aHJvd2luZyBlcnJvclxuICAgIGNvbnNvbGUud2FybignQWxsIGZlYXR1cmVkIHByb2R1Y3QgbG9hZGluZyBmYWxsYmFja3MgZmFpbGVkLCByZXR1cm5pbmcgZW1wdHkgYXJyYXknKTtcbiAgICByZXR1cm4gW107XG4gIH1cbn07XG5cbi8vIEdldCBuZXcgYXJyaXZhbHMgd2l0aCBjYWNoaW5nXG5leHBvcnQgY29uc3QgZ2V0TmV3QXJyaXZhbHMgPSBhc3luYyAobGltaXRDb3VudDogbnVtYmVyID0gOCk6IFByb21pc2U8UHJvZHVjdFtdPiA9PiB7XG4gIHRyeSB7XG4gICAgLy8gSWYgd2UgaGF2ZSBhbGwgcHJvZHVjdHMgY2FjaGVkLCBmaWx0ZXIgdGhlbVxuICAgIGlmIChpc0NhY2hlVmFsaWQoKSAmJiBwcm9kdWN0Q2FjaGUuYWxsKSB7XG4gICAgICBjb25zdCBuZXdBcnJpdmFscyA9IHByb2R1Y3RDYWNoZS5hbGxcbiAgICAgICAgLmZpbHRlcihwID0+IHAubmV3KVxuICAgICAgICAuc2xpY2UoMCwgbGltaXRDb3VudCk7XG4gICAgICAgIFxuICAgICAgaWYgKG5ld0Fycml2YWxzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgY29uc29sZS5sb2coJ1JldHVybmluZyBuZXcgYXJyaXZhbHMgZnJvbSBjYWNoZScpO1xuICAgICAgICByZXR1cm4gbmV3QXJyaXZhbHM7XG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIGNvbnNvbGUubG9nKCdGZXRjaGluZyBuZXcgYXJyaXZhbHMgZnJvbSBGaXJlc3RvcmUnKTtcbiAgICBjb25zdCBxID0gcXVlcnkoXG4gICAgICBwcm9kdWN0c0NvbGxlY3Rpb24sXG4gICAgICB3aGVyZSgnbmV3JywgJz09JywgdHJ1ZSksXG4gICAgICBvcmRlckJ5KCdjcmVhdGVkQXQnLCAnZGVzYycpLFxuICAgICAgbGltaXQobGltaXRDb3VudClcbiAgICApO1xuICAgIFxuICAgIGNvbnN0IHNuYXBzaG90ID0gYXdhaXQgZ2V0RG9jcyhxKTtcbiAgICBjb25zdCBwcm9kdWN0cyA9IHNuYXBzaG90LmRvY3MubWFwKGRvYyA9PiAoe1xuICAgICAgaWQ6IGRvYy5pZCxcbiAgICAgIC4uLmRvYy5kYXRhKClcbiAgICB9IGFzIFByb2R1Y3QpKTtcbiAgICBcbiAgICAvLyBVcGRhdGUgYnlJZCBjYWNoZVxuICAgIHByb2R1Y3RzLmZvckVhY2gocHJvZHVjdCA9PiB7XG4gICAgICBwcm9kdWN0Q2FjaGUuYnlJZFtwcm9kdWN0LmlkXSA9IHByb2R1Y3Q7XG4gICAgICBcbiAgICAgIC8vIFVwZGF0ZSBjYXRlZ29yeSBjYWNoZSBpZiBuZWVkZWRcbiAgICAgIGlmIChwcm9kdWN0LmNhdGVnb3J5KSB7XG4gICAgICAgIGlmICghcHJvZHVjdENhY2hlLmJ5Q2F0ZWdvcnlbcHJvZHVjdC5jYXRlZ29yeV0pIHtcbiAgICAgICAgICBwcm9kdWN0Q2FjaGUuYnlDYXRlZ29yeVtwcm9kdWN0LmNhdGVnb3J5XSA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyBDaGVjayBpZiBwcm9kdWN0IGFscmVhZHkgZXhpc3RzIGluIGNhdGVnb3J5IGNhY2hlXG4gICAgICAgIGNvbnN0IGV4aXN0aW5nSW5kZXggPSBwcm9kdWN0Q2FjaGUuYnlDYXRlZ29yeVtwcm9kdWN0LmNhdGVnb3J5XS5maW5kSW5kZXgoXG4gICAgICAgICAgcCA9PiBwLmlkID09PSBwcm9kdWN0LmlkXG4gICAgICAgICk7XG4gICAgICAgIFxuICAgICAgICBpZiAoZXhpc3RpbmdJbmRleCA+PSAwKSB7XG4gICAgICAgICAgcHJvZHVjdENhY2hlLmJ5Q2F0ZWdvcnlbcHJvZHVjdC5jYXRlZ29yeV1bZXhpc3RpbmdJbmRleF0gPSBwcm9kdWN0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHByb2R1Y3RDYWNoZS5ieUNhdGVnb3J5W3Byb2R1Y3QuY2F0ZWdvcnldLnB1c2gocHJvZHVjdCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgICBcbiAgICAvLyBJZiBGaXJlYmFzZSByZXR1cm5lZCBubyBwcm9kdWN0cywgdHJ5IHRvIGxvYWQgZnJvbSBsb2NhbFN0b3JhZ2UgYXMgYSBmYWxsYmFja1xuICAgIGlmIChwcm9kdWN0cy5sZW5ndGggPT09IDApIHtcbiAgICAgIGNvbnNvbGUubG9nKCdObyBuZXcgYXJyaXZhbHMgZm91bmQgaW4gRmlyZXN0b3JlLCB0cnlpbmcgbG9jYWxTdG9yYWdlIGZhbGxiYWNrJyk7XG4gICAgICBcbiAgICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAvLyBJbml0aWFsaXplIGxvY2FsU3RvcmFnZSBpZiBuZWVkZWQgKGxvYWRzIHNhbXBsZSBwcm9kdWN0cyBmaXJzdCB0aW1lKVxuICAgICAgICBsb2NhbFN0b3JhZ2VBUEkuaW5pdGlhbGl6ZUxvY2FsU3RvcmFnZSgpO1xuICAgICAgICBcbiAgICAgICAgLy8gR2V0IG5ldyBhcnJpdmFscyBmcm9tIGxvY2FsU3RvcmFnZVxuICAgICAgICBjb25zdCBsb2NhbE5ld0Fycml2YWxzID0gbG9jYWxTdG9yYWdlQVBJLmdldE5ld0Fycml2YWxzKGxpbWl0Q291bnQpO1xuICAgICAgICBjb25zb2xlLmxvZyhgRm91bmQgJHtsb2NhbE5ld0Fycml2YWxzLmxlbmd0aH0gbmV3IGFycml2YWwgcHJvZHVjdHMgaW4gbG9jYWxTdG9yYWdlYCk7XG4gICAgICAgIFxuICAgICAgICBpZiAobG9jYWxOZXdBcnJpdmFscy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgcmV0dXJuIGxvY2FsTmV3QXJyaXZhbHM7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIHByb2R1Y3RzO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGdldHRpbmcgbmV3IGFycml2YWxzOicsIGVycm9yKTtcbiAgICBcbiAgICAvLyBUcnkgbG9jYWxTdG9yYWdlIGFzIGZhbGxiYWNrXG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBjb25zb2xlLmxvZygnVHJ5aW5nIHRvIGxvYWQgbmV3IGFycml2YWxzIGZyb20gbG9jYWxTdG9yYWdlIGR1ZSB0byBGaXJlc3RvcmUgZXJyb3InKTtcbiAgICAgIFxuICAgICAgLy8gSW5pdGlhbGl6ZSBsb2NhbFN0b3JhZ2UgaWYgbmVlZGVkIChsb2FkcyBzYW1wbGUgcHJvZHVjdHMgZmlyc3QgdGltZSlcbiAgICAgIGxvY2FsU3RvcmFnZUFQSS5pbml0aWFsaXplTG9jYWxTdG9yYWdlKCk7XG4gICAgICBcbiAgICAgIC8vIEdldCBuZXcgYXJyaXZhbHMgZnJvbSBsb2NhbFN0b3JhZ2VcbiAgICAgIGNvbnN0IGxvY2FsTmV3QXJyaXZhbHMgPSBsb2NhbFN0b3JhZ2VBUEkuZ2V0TmV3QXJyaXZhbHMobGltaXRDb3VudCk7XG4gICAgICBjb25zb2xlLmxvZyhgRm91bmQgJHtsb2NhbE5ld0Fycml2YWxzLmxlbmd0aH0gbmV3IGFycml2YWwgcHJvZHVjdHMgaW4gbG9jYWxTdG9yYWdlIGZvciBmYWxsYmFja2ApO1xuICAgICAgXG4gICAgICBpZiAobG9jYWxOZXdBcnJpdmFscy5sZW5ndGggPiAwKSB7XG4gICAgICAgIHJldHVybiBsb2NhbE5ld0Fycml2YWxzO1xuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICAvLyBSZXR1cm4gZW1wdHkgYXJyYXkgcmF0aGVyIHRoYW4gdGhyb3dpbmcgZXJyb3JcbiAgICBjb25zb2xlLndhcm4oJ0FsbCBuZXcgYXJyaXZhbHMgbG9hZGluZyBmYWxsYmFja3MgZmFpbGVkLCByZXR1cm5pbmcgZW1wdHkgYXJyYXknKTtcbiAgICByZXR1cm4gW107XG4gIH1cbn07XG5cbi8vIEdldCBwcm9kdWN0IGJ5IElEIHdpdGggY2FjaGluZ1xuZXhwb3J0IGNvbnN0IGdldFByb2R1Y3RCeUlkID0gYXN5bmMgKGlkOiBzdHJpbmcpOiBQcm9taXNlPFByb2R1Y3QgfCBudWxsPiA9PiB7XG4gIHRyeSB7XG4gICAgLy8gQ2hlY2sgaWYgcHJvZHVjdCBpcyBpbiBjYWNoZVxuICAgIGlmIChwcm9kdWN0Q2FjaGUuYnlJZFtpZF0pIHtcbiAgICAgIGNvbnNvbGUubG9nKGBSZXR1cm5pbmcgcHJvZHVjdCAke2lkfSBmcm9tIGNhY2hlYCk7XG4gICAgICByZXR1cm4gcHJvZHVjdENhY2hlLmJ5SWRbaWRdO1xuICAgIH1cbiAgICBcbiAgICBjb25zb2xlLmxvZyhgRmV0Y2hpbmcgcHJvZHVjdCAke2lkfSBmcm9tIEZpcmVzdG9yZWApO1xuICAgIGNvbnN0IHByb2R1Y3REb2MgPSBkb2MoZGIsICdwcm9kdWN0cycsIGlkKTtcbiAgICBjb25zdCBzbmFwc2hvdCA9IGF3YWl0IGdldERvYyhwcm9kdWN0RG9jKTtcbiAgICBcbiAgICBpZiAoc25hcHNob3QuZXhpc3RzKCkpIHtcbiAgICAgIGNvbnN0IHByb2R1Y3QgPSB7XG4gICAgICAgIGlkOiBzbmFwc2hvdC5pZCxcbiAgICAgICAgLi4uc25hcHNob3QuZGF0YSgpXG4gICAgICB9IGFzIFByb2R1Y3Q7XG4gICAgICBcbiAgICAgIC8vIFVwZGF0ZSBjYWNoZVxuICAgICAgcHJvZHVjdENhY2hlLmJ5SWRbaWRdID0gcHJvZHVjdDtcbiAgICAgIFxuICAgICAgcmV0dXJuIHByb2R1Y3Q7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGdldHRpbmcgcHJvZHVjdDonLCBlcnJvcik7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdGYWlsZWQgdG8gZmV0Y2ggcHJvZHVjdCBkZXRhaWxzJyk7XG4gIH1cbn07XG5cbi8vIENsZWFyIGNhY2hlIGZvciBhIHNwZWNpZmljIHByb2R1Y3RcbmNvbnN0IGludmFsaWRhdGVQcm9kdWN0Q2FjaGUgPSAocHJvZHVjdElkOiBzdHJpbmcsIGNhdGVnb3J5SWQ/OiBzdHJpbmcpID0+IHtcbiAgLy8gUmVtb3ZlIGZyb20gYnlJZCBjYWNoZVxuICBpZiAocHJvZHVjdENhY2hlLmJ5SWRbcHJvZHVjdElkXSkge1xuICAgIGRlbGV0ZSBwcm9kdWN0Q2FjaGUuYnlJZFtwcm9kdWN0SWRdO1xuICB9XG4gIFxuICAvLyBSZW1vdmUgZnJvbSBjYXRlZ29yeSBjYWNoZSBpZiBjYXRlZ29yeSBpcyBwcm92aWRlZFxuICBpZiAoY2F0ZWdvcnlJZCAmJiBwcm9kdWN0Q2FjaGUuYnlDYXRlZ29yeVtjYXRlZ29yeUlkXSkge1xuICAgIHByb2R1Y3RDYWNoZS5ieUNhdGVnb3J5W2NhdGVnb3J5SWRdID0gcHJvZHVjdENhY2hlLmJ5Q2F0ZWdvcnlbY2F0ZWdvcnlJZF0uZmlsdGVyKFxuICAgICAgcCA9PiBwLmlkICE9PSBwcm9kdWN0SWRcbiAgICApO1xuICB9XG4gIFxuICAvLyBTZXQgYWxsIGNhY2hlIHRvIG51bGwgdG8gZm9yY2UgcmVmcmVzaCBvbiBuZXh0IGZldGNoXG4gIHByb2R1Y3RDYWNoZS5hbGwgPSBudWxsO1xufTtcblxuLy8gQ2xlYXIgZW50aXJlIGNhY2hlXG5leHBvcnQgY29uc3QgY2xlYXJQcm9kdWN0Q2FjaGUgPSAoKSA9PiB7XG4gIGNvbnNvbGUubG9nKCdDbGVhcmluZyBwcm9kdWN0IGNhY2hlIHRvIGZvcmNlIGZyZXNoIGRhdGEgZmV0Y2gnKTtcbiAgcHJvZHVjdENhY2hlLmFsbCA9IG51bGw7XG4gIHByb2R1Y3RDYWNoZS5ieUlkID0ge307XG4gIHByb2R1Y3RDYWNoZS5ieUNhdGVnb3J5ID0ge307XG4gIHByb2R1Y3RDYWNoZS5sYXN0RmV0Y2hlZCA9IDA7XG59O1xuXG4vLyBFbnN1cmUgd2UgaGF2ZSBhIHZhbGlkIHN0b3JhZ2UgaW5zdGFuY2VcbmNvbnN0IGdldFN0b3JhZ2VJbnN0YW5jZSA9ICgpID0+IHtcbiAgY29uc3Qgc3RvcmFnZSA9IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnID8gZ2V0U3RvcmFnZShhcHApIDogbnVsbDtcbiAgaWYgKHN0b3JhZ2UgPT09IG51bGwpIHtcbiAgICByZXR1cm4gZ2V0U3RvcmFnZShhcHApO1xuICB9XG4gIHJldHVybiBzdG9yYWdlO1xufTtcblxuLy8gVXBsb2FkIGltYWdlIHRvIEZpcmViYXNlIFN0b3JhZ2VcbmV4cG9ydCBjb25zdCB1cGxvYWRQcm9kdWN0SW1hZ2UgPSBhc3luYyAoZmlsZTogRmlsZSk6IFByb21pc2U8c3RyaW5nPiA9PiB7XG4gIHRyeSB7XG4gICAgLy8gQ2hlY2sgZmlsZSBzaXplIChsaW1pdCB0byA1TUIpXG4gICAgaWYgKGZpbGUuc2l6ZSA+IDUgKiAxMDI0ICogMTAyNCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbWFnZSBmaWxlIGlzIHRvbyBsYXJnZS4gUGxlYXNlIHNlbGVjdCBhbiBpbWFnZSBzbWFsbGVyIHRoYW4gNU1CLicpO1xuICAgIH1cbiAgICBcbiAgICAvLyBDb252ZXJ0IGZpbGUgdG8gYmFzZTY0XG4gICAgY29uc3QgYmFzZTY0U3RyaW5nID0gYXdhaXQgZmlsZVRvQmFzZTY0KGZpbGUpO1xuICAgIFxuICAgIC8vIENyZWF0ZSBhIHVuaXF1ZSBJRCBmb3IgdGhlIGltYWdlXG4gICAgY29uc3QgdGltZXN0YW1wID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gICAgY29uc3QgZmlsZU5hbWUgPSBgcHJvZHVjdF8ke3RpbWVzdGFtcH1fJHtmaWxlLm5hbWUucmVwbGFjZSgvW15hLXpBLVowLTkuXS9nLCAnXycpfWA7XG4gICAgXG4gICAgLy8gU3RvcmUgdGhlIGJhc2U2NCBpbWFnZSBpbiBGaXJlc3RvcmVcbiAgICBjb25zdCBpbWFnZUNvbGxlY3Rpb24gPSBjb2xsZWN0aW9uKGRiLCAnaW1hZ2VzJyk7XG4gICAgY29uc3QgaW1hZ2VEb2MgPSBhd2FpdCBhZGREb2MoaW1hZ2VDb2xsZWN0aW9uLCB7XG4gICAgICBuYW1lOiBmaWxlTmFtZSxcbiAgICAgIHR5cGU6IGZpbGUudHlwZSxcbiAgICAgIGJhc2U2NDogYmFzZTY0U3RyaW5nLFxuICAgICAgY3JlYXRlZEF0OiBzZXJ2ZXJUaW1lc3RhbXAoKVxuICAgIH0pO1xuICAgIFxuICAgIC8vIFJldHVybiB0aGUgZG9jdW1lbnQgSUQgYXMgdGhlIGltYWdlIFVSTFxuICAgIHJldHVybiBgYmFzZTY0Oi8vJHtpbWFnZURvYy5pZH1gO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHVwbG9hZGluZyBpbWFnZTonLCBlcnJvcik7XG4gICAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byB1cGxvYWQgcHJvZHVjdCBpbWFnZS4gUGxlYXNlIHRyeSBhZ2Fpbi4nKTtcbiAgICB9XG4gIH1cbn07XG5cbi8vIEhlbHBlciBmdW5jdGlvbiB0byBjb252ZXJ0IEZpbGUgdG8gYmFzZTY0XG5jb25zdCBmaWxlVG9CYXNlNjQgPSAoZmlsZTogRmlsZSk6IFByb21pc2U8c3RyaW5nPiA9PiB7XG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XG4gICAgICByZWFkZXIucmVhZEFzRGF0YVVSTChmaWxlKTtcbiAgICAgIHJlYWRlci5vbmxvYWQgPSAoKSA9PiB7XG4gICAgICAgIGlmICh0eXBlb2YgcmVhZGVyLnJlc3VsdCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICByZXNvbHZlKHJlYWRlci5yZXN1bHQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlamVjdChuZXcgRXJyb3IoJ0ZhaWxlZCB0byByZWFkIGltYWdlIGZpbGUnKSk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICByZWFkZXIub25lcnJvciA9ICgpID0+IHtcbiAgICAgICAgcmVqZWN0KG5ldyBFcnJvcignRXJyb3IgcmVhZGluZyBpbWFnZSBmaWxlLiBQbGVhc2UgdHJ5IGEgZGlmZmVyZW50IGltYWdlLicpKTtcbiAgICAgIH07XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHJlamVjdChlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IgOiBuZXcgRXJyb3IoJ1Vua25vd24gZXJyb3IgcHJvY2Vzc2luZyBpbWFnZScpKTtcbiAgICB9XG4gIH0pO1xufTtcblxuLy8gR2V0IGltYWdlIGJ5IElEXG5leHBvcnQgY29uc3QgZ2V0SW1hZ2VCeUlkID0gYXN5bmMgKGltYWdlSWQ6IHN0cmluZyk6IFByb21pc2U8c3RyaW5nPiA9PiB7XG4gIHRyeSB7XG4gICAgY29uc29sZS5sb2coYEZldGNoaW5nIGltYWdlIHdpdGggSUQ6ICR7aW1hZ2VJZH1gKTtcbiAgICBjb25zdCBpbWFnZURvYyA9IGRvYyhkYiwgJ2ltYWdlcycsIGltYWdlSWQpO1xuICAgIGNvbnN0IHNuYXBzaG90ID0gYXdhaXQgZ2V0RG9jKGltYWdlRG9jKTtcbiAgICBcbiAgICBpZiAoc25hcHNob3QuZXhpc3RzKCkpIHtcbiAgICAgIGNvbnN0IGRhdGEgPSBzbmFwc2hvdC5kYXRhKCk7XG4gICAgICBcbiAgICAgIGlmICghZGF0YSB8fCAhZGF0YS5iYXNlNjQpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihgSW1hZ2UgZXhpc3RzIGJ1dCBoYXMgbm8gYmFzZTY0IGRhdGEuIElEOiAke2ltYWdlSWR9YCk7XG4gICAgICAgIHJldHVybiAnL2ltYWdlcy9wbGFjZWhvbGRlci5qcGcnO1xuICAgICAgfVxuICAgICAgXG4gICAgICBjb25zb2xlLmxvZyhgU3VjY2Vzc2Z1bGx5IHJldHJpZXZlZCBiYXNlNjQgaW1hZ2UuIElEOiAke2ltYWdlSWR9YCk7XG4gICAgICByZXR1cm4gZGF0YS5iYXNlNjQ7XG4gICAgfVxuICAgIFxuICAgIGNvbnNvbGUuZXJyb3IoYEltYWdlIG5vdCBmb3VuZCB3aXRoIElEOiAke2ltYWdlSWR9YCk7XG4gICAgcmV0dXJuICcvaW1hZ2VzL3BsYWNlaG9sZGVyLmpwZyc7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgZ2V0dGluZyBpbWFnZTonLCBlcnJvcik7XG4gICAgLy8gUmV0dXJuIGEgcGxhY2Vob2xkZXIgaW5zdGVhZCBvZiB0aHJvd2luZywgdG8gcHJldmVudCBVSSBicmVha2luZ1xuICAgIHJldHVybiAnL2ltYWdlcy9wbGFjZWhvbGRlci5qcGcnO1xuICB9XG59O1xuXG4vLyBEZWxldGUgcHJvZHVjdCBpbWFnZSBmcm9tIEZpcmVzdG9yZVxuZXhwb3J0IGNvbnN0IGRlbGV0ZVByb2R1Y3RJbWFnZSA9IGFzeW5jIChpbWFnZVVybDogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiA9PiB7XG4gIHRyeSB7XG4gICAgLy8gQ2hlY2sgaWYgaXQncyBhIGJhc2U2NCBpbWFnZVxuICAgIGlmIChpbWFnZVVybC5zdGFydHNXaXRoKCdiYXNlNjQ6Ly8nKSkge1xuICAgICAgY29uc3QgaW1hZ2VJZCA9IGltYWdlVXJsLnJlcGxhY2UoJ2Jhc2U2NDovLycsICcnKTtcbiAgICAgIGNvbnN0IGltYWdlRG9jID0gZG9jKGRiLCAnaW1hZ2VzJywgaW1hZ2VJZCk7XG4gICAgICBhd2FpdCBkZWxldGVEb2MoaW1hZ2VEb2MpO1xuICAgICAgY29uc29sZS5sb2coJ1Byb2R1Y3QgaW1hZ2UgZGVsZXRlZCBzdWNjZXNzZnVsbHkgZnJvbSBGaXJlc3RvcmU6JywgaW1hZ2VJZCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFxuICAgIC8vIEhhbmRsZSBsZWdhY3kgU3RvcmFnZSBVUkxzXG4gICAgY29uc3Qgc3RvcmFnZSA9IGdldFN0b3JhZ2VJbnN0YW5jZSgpO1xuICAgIFxuICAgIC8vIEV4dHJhY3QgdGhlIGZpbGUgcGF0aCBmcm9tIHRoZSBVUkxcbiAgICBjb25zdCBkZWNvZGVkVXJsID0gZGVjb2RlVVJJQ29tcG9uZW50KGltYWdlVXJsKTtcbiAgICBjb25zdCBzdGFydEluZGV4ID0gZGVjb2RlZFVybC5pbmRleE9mKCdwcm9kdWN0X2ltYWdlcycpO1xuICAgIFxuICAgIGlmIChzdGFydEluZGV4ID09PSAtMSkge1xuICAgICAgY29uc29sZS53YXJuKCdOb3QgYSBGaXJlYmFzZSBTdG9yYWdlIFVSTCBvciBub3QgaW4gcHJvZHVjdF9pbWFnZXMgZm9sZGVyOicsIGltYWdlVXJsKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgXG4gICAgY29uc3QgZW5kSW5kZXggPSBkZWNvZGVkVXJsLmluZGV4T2YoJz8nLCBzdGFydEluZGV4KTtcbiAgICBjb25zdCBmaWxlUGF0aCA9IGVuZEluZGV4ICE9PSAtMSBcbiAgICAgID8gZGVjb2RlZFVybC5zdWJzdHJpbmcoc3RhcnRJbmRleCwgZW5kSW5kZXgpIFxuICAgICAgOiBkZWNvZGVkVXJsLnN1YnN0cmluZyhzdGFydEluZGV4KTtcbiAgICBcbiAgICAvLyBDcmVhdGUgYSByZWZlcmVuY2UgdG8gdGhlIGZpbGVcbiAgICBjb25zdCBpbWFnZVJlZiA9IHJlZihzdG9yYWdlLCBmaWxlUGF0aCk7XG4gICAgXG4gICAgLy8gRGVsZXRlIHRoZSBmaWxlXG4gICAgYXdhaXQgZGVsZXRlT2JqZWN0KGltYWdlUmVmKTtcbiAgICBjb25zb2xlLmxvZygnUHJvZHVjdCBpbWFnZSBkZWxldGVkIHN1Y2Nlc3NmdWxseSBmcm9tIFN0b3JhZ2U6JywgZmlsZVBhdGgpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGRlbGV0aW5nIHByb2R1Y3QgaW1hZ2U6JywgZXJyb3IpO1xuICAgIC8vIERvbid0IHRocm93IGVycm9yIGhlcmUsIGFzIHdlIHdhbnQgdG8gY29udGludWUgd2l0aCBwcm9kdWN0IGRlbGV0aW9uXG4gICAgLy8gZXZlbiBpZiBpbWFnZSBkZWxldGlvbiBmYWlsc1xuICB9XG59O1xuXG4vLyBBZGQgYSBuZXcgcHJvZHVjdCB3aXRob3V0IHRyYW5zYWN0aW9uXG5leHBvcnQgY29uc3QgYWRkUHJvZHVjdCA9IGFzeW5jIChwcm9kdWN0OiBPbWl0PFByb2R1Y3QsICdpZCc+KTogUHJvbWlzZTxQcm9kdWN0PiA9PiB7XG4gIHRyeSB7XG4gICAgY29uc29sZS5sb2coJ0FkZGluZyBwcm9kdWN0IHRvIEZpcmVzdG9yZTonLCBwcm9kdWN0KTtcbiAgICBcbiAgICAvLyBWYWxpZGF0ZSBwcm9kdWN0IGRhdGFcbiAgICBjb25zdCB2YWxpZGF0aW9uRXJyb3IgPSB2YWxpZGF0ZVByb2R1Y3QocHJvZHVjdCk7XG4gICAgaWYgKHZhbGlkYXRpb25FcnJvcikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKHZhbGlkYXRpb25FcnJvcik7XG4gICAgfVxuICAgIFxuICAgIC8vIENsZWFuIHRoZSBwcm9kdWN0IGRhdGEgZm9yIEZpcmVzdG9yZVxuICAgIGNvbnN0IGNsZWFuZWRQcm9kdWN0ID0gY2xlYW5Qcm9kdWN0RGF0YShwcm9kdWN0KTtcbiAgICBjb25zb2xlLmxvZygnQ2xlYW5lZCBwcm9kdWN0IGRhdGEgZm9yIEZpcmVzdG9yZTonLCBjbGVhbmVkUHJvZHVjdCk7XG4gICAgXG4gICAgLy8gQWRkIHRoZSBwcm9kdWN0IGRvY3VtZW50IGRpcmVjdGx5XG4gICAgY29uc3QgZG9jUmVmID0gYXdhaXQgYWRkRG9jKHByb2R1Y3RzQ29sbGVjdGlvbiwgY2xlYW5lZFByb2R1Y3QpO1xuICAgIGNvbnN0IG5ld1Byb2R1Y3RXaXRoSWQgPSB7IFxuICAgICAgaWQ6IGRvY1JlZi5pZCwgXG4gICAgICAuLi5jbGVhbmVkUHJvZHVjdCBcbiAgICB9IGFzIHVua25vd24gYXMgUHJvZHVjdDtcbiAgICBcbiAgICAvLyBVcGRhdGUgb3IgY3JlYXRlIGNhdGVnb3J5IGNvdW50XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGNhdGVnb3J5UmVmID0gZG9jKGNhdGVnb3JpZXNDb2xsZWN0aW9uLCBjbGVhbmVkUHJvZHVjdC5jYXRlZ29yeSk7XG4gICAgICBjb25zdCBjYXRlZ29yeURvYyA9IGF3YWl0IGdldERvYyhjYXRlZ29yeVJlZik7XG4gICAgICBcbiAgICAgIGlmIChjYXRlZ29yeURvYy5leGlzdHMoKSkge1xuICAgICAgICAvLyBVcGRhdGUgZXhpc3RpbmcgY2F0ZWdvcnlcbiAgICAgICAgYXdhaXQgdXBkYXRlRG9jKGNhdGVnb3J5UmVmLCB7XG4gICAgICAgICAgY291bnQ6IChjYXRlZ29yeURvYy5kYXRhKCkuY291bnQgfHwgMCkgKyAxLFxuICAgICAgICAgIHVwZGF0ZWRBdDogc2VydmVyVGltZXN0YW1wKClcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBDcmVhdGUgbmV3IGNhdGVnb3J5XG4gICAgICAgIGF3YWl0IHNldERvYyhjYXRlZ29yeVJlZiwge1xuICAgICAgICAgIGlkOiBjbGVhbmVkUHJvZHVjdC5jYXRlZ29yeSxcbiAgICAgICAgICBuYW1lOiBjbGVhbmVkUHJvZHVjdC5jYXRlZ29yeS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIGNsZWFuZWRQcm9kdWN0LmNhdGVnb3J5LnNsaWNlKDEpLFxuICAgICAgICAgIGNvdW50OiAxLFxuICAgICAgICAgIGNyZWF0ZWRBdDogc2VydmVyVGltZXN0YW1wKCksXG4gICAgICAgICAgdXBkYXRlZEF0OiBzZXJ2ZXJUaW1lc3RhbXAoKVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChjYXRFcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgdXBkYXRpbmcgY2F0ZWdvcnk6JywgY2F0RXJyb3IpO1xuICAgICAgLy8gQ29udGludWUgZXZlbiBpZiBjYXRlZ29yeSB1cGRhdGUgZmFpbHNcbiAgICB9XG4gICAgXG4gICAgLy8gQ2xlYXIgY2FjaGUgY29tcGxldGVseSB0byBlbnN1cmUgZnJlc2ggZGF0YSBvbiBuZXh0IGZldGNoXG4gICAgY2xlYXJQcm9kdWN0Q2FjaGUoKTtcbiAgICBcbiAgICBjb25zb2xlLmxvZygnUHJvZHVjdCBhZGRlZCBzdWNjZXNzZnVsbHkgd2l0aCBJRDonLCBuZXdQcm9kdWN0V2l0aElkLmlkKTtcbiAgICByZXR1cm4gbmV3UHJvZHVjdFdpdGhJZCBhcyBQcm9kdWN0O1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGFkZGluZyBwcm9kdWN0IHRvIEZpcmVzdG9yZTonLCBlcnJvcik7XG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbn07XG5cbi8vIFVwZGF0ZSBhIHByb2R1Y3RcbmV4cG9ydCBjb25zdCB1cGRhdGVQcm9kdWN0ID0gYXN5bmMgKGlkOiBzdHJpbmcsIHByb2R1Y3Q6IFBhcnRpYWw8UHJvZHVjdD4pOiBQcm9taXNlPHZvaWQ+ID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zb2xlLmxvZyhgVXBkYXRpbmcgcHJvZHVjdCAke2lkfSB3aXRoOmAsIHByb2R1Y3QpO1xuICAgIGNvbnN0IHByb2R1Y3REb2MgPSBkb2MoZGIsICdwcm9kdWN0cycsIGlkKTtcbiAgICBcbiAgICAvLyBHZXQgZXhpc3RpbmcgcHJvZHVjdCB0byBjaGVjayBpZiBjYXRlZ29yeSBpcyBjaGFuZ2luZ1xuICAgIGNvbnN0IGV4aXN0aW5nUHJvZHVjdFNuYXAgPSBhd2FpdCBnZXREb2MocHJvZHVjdERvYyk7XG4gICAgaWYgKCFleGlzdGluZ1Byb2R1Y3RTbmFwLmV4aXN0cygpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1Byb2R1Y3Qgbm90IGZvdW5kJyk7XG4gICAgfVxuICAgIFxuICAgIGNvbnN0IGV4aXN0aW5nUHJvZHVjdCA9IGV4aXN0aW5nUHJvZHVjdFNuYXAuZGF0YSgpO1xuICAgIGNvbnN0IGNsZWFuZWRVcGRhdGVzID0gY2xlYW5Qcm9kdWN0RGF0YShwcm9kdWN0KTtcbiAgICBcbiAgICAvLyBBbHdheXMgdXBkYXRlIHRoZSB0aW1lc3RhbXAgd2hlbiBtb2RpZmllZFxuICAgIGNsZWFuZWRVcGRhdGVzLnVwZGF0ZWRBdCA9IHNlcnZlclRpbWVzdGFtcCgpO1xuICAgIFxuICAgIGF3YWl0IHJ1blRyYW5zYWN0aW9uKGRiLCBhc3luYyAodHJhbnNhY3Rpb24pID0+IHtcbiAgICAgIC8vIFVwZGF0ZSBwcm9kdWN0IGRvY3VtZW50XG4gICAgICB0cmFuc2FjdGlvbi51cGRhdGUocHJvZHVjdERvYywgY2xlYW5lZFVwZGF0ZXMpO1xuICAgICAgXG4gICAgICAvLyBJZiBjYXRlZ29yeSBjaGFuZ2VkLCB1cGRhdGUgYm90aCBvbGQgYW5kIG5ldyBjYXRlZ29yeSBjb3VudHNcbiAgICAgIGlmIChwcm9kdWN0LmNhdGVnb3J5ICYmIGV4aXN0aW5nUHJvZHVjdC5jYXRlZ29yeSAhPT0gcHJvZHVjdC5jYXRlZ29yeSkge1xuICAgICAgICAvLyBEZWNyZWFzZSBvbGQgY2F0ZWdvcnkgY291bnRcbiAgICAgICAgY29uc3Qgb2xkQ2F0ZWdvcnlSZWYgPSBkb2MoY2F0ZWdvcmllc0NvbGxlY3Rpb24sIGV4aXN0aW5nUHJvZHVjdC5jYXRlZ29yeSk7XG4gICAgICAgIGNvbnN0IG9sZENhdGVnb3J5RG9jID0gYXdhaXQgdHJhbnNhY3Rpb24uZ2V0KG9sZENhdGVnb3J5UmVmKTtcbiAgICAgICAgXG4gICAgICAgIGlmIChvbGRDYXRlZ29yeURvYy5leGlzdHMoKSkge1xuICAgICAgICAgIGNvbnN0IG9sZENvdW50ID0gb2xkQ2F0ZWdvcnlEb2MuZGF0YSgpLmNvdW50IHx8IDA7XG4gICAgICAgICAgaWYgKG9sZENvdW50ID4gMSkge1xuICAgICAgICAgICAgdHJhbnNhY3Rpb24udXBkYXRlKG9sZENhdGVnb3J5UmVmLCB7IFxuICAgICAgICAgICAgICBjb3VudDogb2xkQ291bnQgLSAxLFxuICAgICAgICAgICAgICB1cGRhdGVkQXQ6IHNlcnZlclRpbWVzdGFtcCgpXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gRGVsZXRlIGNhdGVnb3J5IGlmIGl0IHdpbGwgYmUgZW1wdHlcbiAgICAgICAgICAgIHRyYW5zYWN0aW9uLmRlbGV0ZShvbGRDYXRlZ29yeVJlZik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyBJbmNyZWFzZSBuZXcgY2F0ZWdvcnkgY291bnRcbiAgICAgICAgY29uc3QgbmV3Q2F0ZWdvcnlSZWYgPSBkb2MoY2F0ZWdvcmllc0NvbGxlY3Rpb24sIHByb2R1Y3QuY2F0ZWdvcnkpO1xuICAgICAgICBjb25zdCBuZXdDYXRlZ29yeURvYyA9IGF3YWl0IHRyYW5zYWN0aW9uLmdldChuZXdDYXRlZ29yeVJlZik7XG4gICAgICAgIFxuICAgICAgICBpZiAobmV3Q2F0ZWdvcnlEb2MuZXhpc3RzKCkpIHtcbiAgICAgICAgICB0cmFuc2FjdGlvbi51cGRhdGUobmV3Q2F0ZWdvcnlSZWYsIHsgXG4gICAgICAgICAgICBjb3VudDogKG5ld0NhdGVnb3J5RG9jLmRhdGEoKS5jb3VudCB8fCAwKSArIDEsXG4gICAgICAgICAgICB1cGRhdGVkQXQ6IHNlcnZlclRpbWVzdGFtcCgpXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdHJhbnNhY3Rpb24uc2V0KG5ld0NhdGVnb3J5UmVmLCB7XG4gICAgICAgICAgICBpZDogcHJvZHVjdC5jYXRlZ29yeSxcbiAgICAgICAgICAgIG5hbWU6IHByb2R1Y3QuY2F0ZWdvcnkuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBwcm9kdWN0LmNhdGVnb3J5LnNsaWNlKDEpLFxuICAgICAgICAgICAgY291bnQ6IDEsXG4gICAgICAgICAgICBjcmVhdGVkQXQ6IHNlcnZlclRpbWVzdGFtcCgpLFxuICAgICAgICAgICAgdXBkYXRlZEF0OiBzZXJ2ZXJUaW1lc3RhbXAoKVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gICAgXG4gICAgLy8gQ2xlYXIgY2FjaGUgY29tcGxldGVseSB0byBlbnN1cmUgZnJlc2ggZGF0YSBvbiBuZXh0IGZldGNoXG4gICAgY2xlYXJQcm9kdWN0Q2FjaGUoKTtcbiAgICBjb25zb2xlLmxvZyhgUHJvZHVjdCAke2lkfSB1cGRhdGVkIHN1Y2Nlc3NmdWxseWApO1xuICAgIFxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHVwZGF0aW5nIHByb2R1Y3Q6JywgZXJyb3IpO1xuICAgIHRocm93IG5ldyBFcnJvcignRmFpbGVkIHRvIHVwZGF0ZSBwcm9kdWN0Jyk7XG4gIH1cbn07XG5cbi8vIERlbGV0ZSBhIHByb2R1Y3RcbmV4cG9ydCBjb25zdCBkZWxldGVQcm9kdWN0ID0gYXN5bmMgKGlkOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+ID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zb2xlLmxvZyhgRGVsZXRpbmcgcHJvZHVjdCAke2lkfWApO1xuICAgIGNvbnN0IHByb2R1Y3REb2MgPSBkb2MoZGIsICdwcm9kdWN0cycsIGlkKTtcbiAgICBcbiAgICAvLyBHZXQgcHJvZHVjdCB0byBmaW5kIGl0cyBjYXRlZ29yeSBhbmQgaW1hZ2UgVVJMXG4gICAgY29uc3QgcHJvZHVjdFNuYXAgPSBhd2FpdCBnZXREb2MocHJvZHVjdERvYyk7XG4gICAgaWYgKCFwcm9kdWN0U25hcC5leGlzdHMoKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdQcm9kdWN0IG5vdCBmb3VuZCcpO1xuICAgIH1cbiAgICBcbiAgICBjb25zdCBwcm9kdWN0RGF0YSA9IHByb2R1Y3RTbmFwLmRhdGEoKSBhcyBQcm9kdWN0O1xuICAgIFxuICAgIC8vIFRyeSB0byBkZWxldGUgdGhlIHByb2R1Y3QgaW1hZ2UgZmlyc3RcbiAgICBpZiAocHJvZHVjdERhdGEuaW1hZ2UpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IGRlbGV0ZVByb2R1Y3RJbWFnZShwcm9kdWN0RGF0YS5pbWFnZSk7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBkZWxldGluZyBwcm9kdWN0IGltYWdlOicsIGVycm9yKTtcbiAgICAgICAgLy8gQ29udGludWUgd2l0aCBwcm9kdWN0IGRlbGV0aW9uIGV2ZW4gaWYgaW1hZ2UgZGVsZXRpb24gZmFpbHNcbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgLy8gRGVsZXRlIHRoZSBwcm9kdWN0IGRpcmVjdGx5IHdpdGhvdXQgdXNpbmcgdHJhbnNhY3Rpb25cbiAgICBhd2FpdCBkZWxldGVEb2MocHJvZHVjdERvYyk7XG4gICAgXG4gICAgLy8gVXBkYXRlIGNhdGVnb3J5IGNvdW50IGlmIG5lZWRlZFxuICAgIGlmIChwcm9kdWN0RGF0YS5jYXRlZ29yeSkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgY2F0ZWdvcnlSZWYgPSBkb2MoY2F0ZWdvcmllc0NvbGxlY3Rpb24sIHByb2R1Y3REYXRhLmNhdGVnb3J5KTtcbiAgICAgICAgY29uc3QgY2F0ZWdvcnlEb2MgPSBhd2FpdCBnZXREb2MoY2F0ZWdvcnlSZWYpO1xuICAgICAgICBcbiAgICAgICAgaWYgKGNhdGVnb3J5RG9jLmV4aXN0cygpKSB7XG4gICAgICAgICAgY29uc3QgY291bnQgPSBjYXRlZ29yeURvYy5kYXRhKCkuY291bnQgfHwgMDtcbiAgICAgICAgICBpZiAoY291bnQgPiAxKSB7XG4gICAgICAgICAgICBhd2FpdCB1cGRhdGVEb2MoY2F0ZWdvcnlSZWYsIHsgXG4gICAgICAgICAgICAgIGNvdW50OiBjb3VudCAtIDEsXG4gICAgICAgICAgICAgIHVwZGF0ZWRBdDogc2VydmVyVGltZXN0YW1wKClcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBEZWxldGUgY2F0ZWdvcnkgaWYgaXQgd2lsbCBiZSBlbXB0eVxuICAgICAgICAgICAgYXdhaXQgZGVsZXRlRG9jKGNhdGVnb3J5UmVmKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGNhdEVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHVwZGF0aW5nIGNhdGVnb3J5IGNvdW50OicsIGNhdEVycm9yKTtcbiAgICAgICAgLy8gQ29udGludWUgZXZlbiBpZiBjYXRlZ29yeSB1cGRhdGUgZmFpbHNcbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgLy8gQ2xlYXIgY2FjaGUgY29tcGxldGVseSB0byBlbnN1cmUgZnJlc2ggZGF0YSBvbiBuZXh0IGZldGNoXG4gICAgY2xlYXJQcm9kdWN0Q2FjaGUoKTtcbiAgICBjb25zb2xlLmxvZyhgUHJvZHVjdCAke2lkfSBkZWxldGVkIHN1Y2Nlc3NmdWxseWApO1xuICAgIFxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGRlbGV0aW5nIHByb2R1Y3Q6JywgZXJyb3IpO1xuICAgIHRocm93IG5ldyBFcnJvcignRmFpbGVkIHRvIGRlbGV0ZSBwcm9kdWN0Jyk7XG4gIH1cbn07XG5cbi8vIEdldCBhbGwgY2F0ZWdvcmllcyB3aXRoIHByb2R1Y3QgY291bnRzXG5leHBvcnQgY29uc3QgZ2V0QWxsQ2F0ZWdvcmllcyA9IGFzeW5jICgpID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCBzbmFwc2hvdCA9IGF3YWl0IGdldERvY3MoY2F0ZWdvcmllc0NvbGxlY3Rpb24pO1xuICAgIHJldHVybiBzbmFwc2hvdC5kb2NzLm1hcChkb2MgPT4gZG9jLmRhdGEoKSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgZ2V0dGluZyBjYXRlZ29yaWVzOicsIGVycm9yKTtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byBmZXRjaCBjYXRlZ29yaWVzJyk7XG4gIH1cbn07ICJdLCJuYW1lcyI6WyJhcHAiLCJnZXRGaXJlc3RvcmUiLCJjb2xsZWN0aW9uIiwiZ2V0RG9jcyIsImRvYyIsImdldERvYyIsImFkZERvYyIsInVwZGF0ZURvYyIsImRlbGV0ZURvYyIsInF1ZXJ5Iiwid2hlcmUiLCJydW5UcmFuc2FjdGlvbiIsInNlcnZlclRpbWVzdGFtcCIsImxpbWl0Iiwib3JkZXJCeSIsInN0YXJ0QWZ0ZXIiLCJzZXREb2MiLCJnZXRTdG9yYWdlIiwicmVmIiwiZGVsZXRlT2JqZWN0IiwibG9jYWxTdG9yYWdlQVBJIiwiZGIiLCJzdG9yYWdlIiwicHJvZHVjdHNDb2xsZWN0aW9uIiwiY2F0ZWdvcmllc0NvbGxlY3Rpb24iLCJwcm9kdWN0Q2FjaGUiLCJhbGwiLCJieUlkIiwiYnlDYXRlZ29yeSIsImxhc3RGZXRjaGVkIiwiQ0FDSEVfRVhQSVJBVElPTiIsInZhbGlkYXRlUHJvZHVjdCIsInByb2R1Y3QiLCJuYW1lIiwicHJpY2UiLCJpc05hTiIsIk51bWJlciIsImNhdGVnb3J5Iiwic3ViY2F0ZWdvcnkiLCJpbWFnZSIsImNsZWFuUHJvZHVjdERhdGEiLCJjbGVhbmVkUHJvZHVjdCIsIk9iamVjdCIsImVudHJpZXMiLCJmb3JFYWNoIiwia2V5IiwidmFsdWUiLCJ1bmRlZmluZWQiLCJzcGxpdCIsIm1hcCIsInMiLCJ0cmltIiwiZmlsdGVyIiwiQm9vbGVhbiIsIlN0cmluZyIsInRvTG93ZXJDYXNlIiwidGFncyIsImluY2x1ZGVzIiwicHVzaCIsImNvbWJpbmVkVGFnIiwiY3JlYXRlZEF0IiwidXBkYXRlZEF0IiwiaXNDYWNoZVZhbGlkIiwiRGF0ZSIsIm5vdyIsImdldEFsbFByb2R1Y3RzIiwicGFnZVNpemUiLCJjb25zb2xlIiwibG9nIiwibGVuZ3RoIiwicHJvZHVjdHNRdWVyeSIsInNuYXBzaG90IiwiZG9jcyIsInByb2R1Y3RzIiwiZGF0YSIsImlkIiwiaW5pdGlhbGl6ZUxvY2FsU3RvcmFnZSIsImxvY2FsUHJvZHVjdHMiLCJlcnJvciIsIkFycmF5IiwiaXNBcnJheSIsIndhcm4iLCJnZXROZXh0UHJvZHVjdHNQYWdlIiwibGFzdFZpc2libGUiLCJleGlzdGluZ0luZGV4IiwiZmluZEluZGV4IiwicCIsIkVycm9yIiwiZ2V0UHJvZHVjdHNCeUNhdGVnb3J5IiwicSIsImdldEZlYXR1cmVkUHJvZHVjdHMiLCJsaW1pdENvdW50IiwiZmVhdHVyZWQiLCJzbGljZSIsImxvY2FsRmVhdHVyZWQiLCJnZXROZXdBcnJpdmFscyIsIm5ld0Fycml2YWxzIiwibmV3IiwibG9jYWxOZXdBcnJpdmFscyIsImdldFByb2R1Y3RCeUlkIiwicHJvZHVjdERvYyIsImV4aXN0cyIsImludmFsaWRhdGVQcm9kdWN0Q2FjaGUiLCJwcm9kdWN0SWQiLCJjYXRlZ29yeUlkIiwiY2xlYXJQcm9kdWN0Q2FjaGUiLCJnZXRTdG9yYWdlSW5zdGFuY2UiLCJ1cGxvYWRQcm9kdWN0SW1hZ2UiLCJmaWxlIiwic2l6ZSIsImJhc2U2NFN0cmluZyIsImZpbGVUb0Jhc2U2NCIsInRpbWVzdGFtcCIsImdldFRpbWUiLCJmaWxlTmFtZSIsInJlcGxhY2UiLCJpbWFnZUNvbGxlY3Rpb24iLCJpbWFnZURvYyIsInR5cGUiLCJiYXNlNjQiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsInJlYWRlciIsIkZpbGVSZWFkZXIiLCJyZWFkQXNEYXRhVVJMIiwib25sb2FkIiwicmVzdWx0Iiwib25lcnJvciIsImdldEltYWdlQnlJZCIsImltYWdlSWQiLCJkZWxldGVQcm9kdWN0SW1hZ2UiLCJpbWFnZVVybCIsInN0YXJ0c1dpdGgiLCJkZWNvZGVkVXJsIiwiZGVjb2RlVVJJQ29tcG9uZW50Iiwic3RhcnRJbmRleCIsImluZGV4T2YiLCJlbmRJbmRleCIsImZpbGVQYXRoIiwic3Vic3RyaW5nIiwiaW1hZ2VSZWYiLCJhZGRQcm9kdWN0IiwidmFsaWRhdGlvbkVycm9yIiwiZG9jUmVmIiwibmV3UHJvZHVjdFdpdGhJZCIsImNhdGVnb3J5UmVmIiwiY2F0ZWdvcnlEb2MiLCJjb3VudCIsImNoYXJBdCIsInRvVXBwZXJDYXNlIiwiY2F0RXJyb3IiLCJ1cGRhdGVQcm9kdWN0IiwiZXhpc3RpbmdQcm9kdWN0U25hcCIsImV4aXN0aW5nUHJvZHVjdCIsImNsZWFuZWRVcGRhdGVzIiwidHJhbnNhY3Rpb24iLCJ1cGRhdGUiLCJvbGRDYXRlZ29yeVJlZiIsIm9sZENhdGVnb3J5RG9jIiwiZ2V0Iiwib2xkQ291bnQiLCJkZWxldGUiLCJuZXdDYXRlZ29yeVJlZiIsIm5ld0NhdGVnb3J5RG9jIiwic2V0IiwiZGVsZXRlUHJvZHVjdCIsInByb2R1Y3RTbmFwIiwicHJvZHVjdERhdGEiLCJnZXRBbGxDYXRlZ29yaWVzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./utils/firestore.ts\n");

/***/ }),

/***/ "./utils/localStorage.ts":
/*!*******************************!*\
  !*** ./utils/localStorage.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   addBanner: () => (/* binding */ addBanner),\n/* harmony export */   addProduct: () => (/* binding */ addProduct),\n/* harmony export */   clearAllProducts: () => (/* binding */ clearAllProducts),\n/* harmony export */   deleteBanner: () => (/* binding */ deleteBanner),\n/* harmony export */   deleteProduct: () => (/* binding */ deleteProduct),\n/* harmony export */   getAllBanners: () => (/* binding */ getAllBanners),\n/* harmony export */   getAllCategories: () => (/* binding */ getAllCategories),\n/* harmony export */   getAllProducts: () => (/* binding */ getAllProducts),\n/* harmony export */   getBannersByPage: () => (/* binding */ getBannersByPage),\n/* harmony export */   getFeaturedProducts: () => (/* binding */ getFeaturedProducts),\n/* harmony export */   getNewArrivals: () => (/* binding */ getNewArrivals),\n/* harmony export */   getProductById: () => (/* binding */ getProductById),\n/* harmony export */   getProductsByCategory: () => (/* binding */ getProductsByCategory),\n/* harmony export */   initializeLocalStorage: () => (/* binding */ initializeLocalStorage),\n/* harmony export */   updateBanner: () => (/* binding */ updateBanner),\n/* harmony export */   updateProduct: () => (/* binding */ updateProduct),\n/* harmony export */   uploadProductImage: () => (/* binding */ uploadProductImage)\n/* harmony export */ });\n// Constants for localStorage keys\nconst STORAGE_KEYS = {\n    PRODUCTS: \"rangya_products\",\n    CATEGORIES: \"rangya_categories\",\n    BANNERS: \"rangya_banners\",\n    DEMO_DATA_LOADED: \"rangya_demo_data_loaded\"\n};\n// Helper to generate unique IDs\nconst generateId = ()=>{\n    return Date.now().toString(36) + Math.random().toString(36).substring(2);\n};\n// Initialize localStorage without loading sample products\nconst initializeLocalStorage = ()=>{\n    try {\n        console.log(\"Initializing localStorage\");\n    } catch (error) {\n        console.error(\"Error initializing localStorage:\", error);\n    }\n};\n// Get all products from localStorage\nconst getAllProducts = ()=>{\n    try {\n        const productsJson = localStorage.getItem(STORAGE_KEYS.PRODUCTS);\n        if (!productsJson) return [];\n        return JSON.parse(productsJson);\n    } catch (error) {\n        console.error(\"Error getting products from localStorage:\", error);\n        return [];\n    }\n};\n// Get products by category\nconst getProductsByCategory = (category)=>{\n    try {\n        const products = getAllProducts();\n        return products.filter((product)=>product.category === category);\n    } catch (error) {\n        console.error(`Error getting ${category} products from localStorage:`, error);\n        return [];\n    }\n};\n// Get most recent products (for New Arrivals)\nconst getNewArrivals = (limit = 8)=>{\n    try {\n        const products = getAllProducts();\n        // Sort products by createdAt timestamp (newest first)\n        return products.sort((a, b)=>{\n            const dateA = a.createdAt ? new Date(a.createdAt).getTime() : 0;\n            const dateB = b.createdAt ? new Date(b.createdAt).getTime() : 0;\n            return dateB - dateA; // Descending order (newest first)\n        }).slice(0, limit);\n    } catch (error) {\n        console.error(\"Error getting new arrivals:\", error);\n        return [];\n    }\n};\n// Get product by ID\nconst getProductById = (id)=>{\n    try {\n        const products = getAllProducts();\n        const product = products.find((p)=>p.id === id);\n        return product || null;\n    } catch (error) {\n        console.error(\"Error getting product from localStorage:\", error);\n        return null;\n    }\n};\n// Add a new product\nconst addProduct = (product)=>{\n    try {\n        // Validate product data\n        if (!product.name || !product.price || !product.category) {\n            throw new Error(\"Missing required product fields\");\n        }\n        // Generate ID and timestamps\n        const id = generateId();\n        const timestamp = new Date().toISOString();\n        const newProduct = {\n            ...product,\n            id,\n            createdAt: timestamp,\n            updatedAt: timestamp\n        };\n        // Save to localStorage\n        const products = getAllProducts();\n        const updatedProducts = [\n            ...products,\n            newProduct\n        ];\n        localStorage.setItem(STORAGE_KEYS.PRODUCTS, JSON.stringify(updatedProducts));\n        // Update category counts\n        updateCategoryCount(product.category, 1);\n        return newProduct;\n    } catch (error) {\n        console.error(\"Error adding product to localStorage:\", error);\n        throw error;\n    }\n};\n// Update a product\nconst updateProduct = (id, updates)=>{\n    try {\n        const products = getAllProducts();\n        const productIndex = products.findIndex((p)=>p.id === id);\n        if (productIndex === -1) {\n            throw new Error(\"Product not found\");\n        }\n        const oldProduct = products[productIndex];\n        const updatedProduct = {\n            ...oldProduct,\n            ...updates,\n            updatedAt: new Date().toISOString()\n        };\n        // Check if category changed\n        if (updates.category && oldProduct.category !== updates.category) {\n            // Update category counts\n            updateCategoryCount(oldProduct.category, -1);\n            updateCategoryCount(updates.category, 1);\n        }\n        // Save to localStorage\n        products[productIndex] = updatedProduct;\n        localStorage.setItem(STORAGE_KEYS.PRODUCTS, JSON.stringify(products));\n    } catch (error) {\n        console.error(\"Error updating product in localStorage:\", error);\n        throw error;\n    }\n};\n// Delete a product\nconst deleteProduct = (id)=>{\n    try {\n        const products = getAllProducts();\n        const product = products.find((p)=>p.id === id);\n        if (!product) {\n            throw new Error(\"Product not found\");\n        }\n        // Update category counts\n        updateCategoryCount(product.category, -1);\n        // Remove product\n        const filteredProducts = products.filter((p)=>p.id !== id);\n        localStorage.setItem(STORAGE_KEYS.PRODUCTS, JSON.stringify(filteredProducts));\n    } catch (error) {\n        console.error(\"Error deleting product from localStorage:\", error);\n        throw error;\n    }\n};\n// Get all categories\nconst getAllCategories = ()=>{\n    try {\n        const categoriesJson = localStorage.getItem(STORAGE_KEYS.CATEGORIES);\n        if (!categoriesJson) return [];\n        return JSON.parse(categoriesJson);\n    } catch (error) {\n        console.error(\"Error getting categories from localStorage:\", error);\n        return [];\n    }\n};\n// Update category count\nconst updateCategoryCount = (categoryId, change)=>{\n    try {\n        const categories = getAllCategories();\n        const categoryIndex = categories.findIndex((c)=>c.id === categoryId);\n        const timestamp = new Date().toISOString();\n        if (categoryIndex >= 0) {\n            // Update existing category\n            const category = categories[categoryIndex];\n            const newCount = category.count + change;\n            if (newCount <= 0) {\n                // Remove category if count is zero or negative\n                categories.splice(categoryIndex, 1);\n            } else {\n                // Update count\n                categories[categoryIndex] = {\n                    ...category,\n                    count: newCount,\n                    updatedAt: timestamp\n                };\n            }\n        } else if (change > 0) {\n            // Add new category\n            categories.push({\n                id: categoryId,\n                name: categoryId.charAt(0).toUpperCase() + categoryId.slice(1),\n                count: change,\n                createdAt: timestamp,\n                updatedAt: timestamp\n            });\n        }\n        localStorage.setItem(STORAGE_KEYS.CATEGORIES, JSON.stringify(categories));\n    } catch (error) {\n        console.error(\"Error updating category count in localStorage:\", error);\n    }\n};\n// Banner Management Functions\n// Get all banners\nconst getAllBanners = ()=>{\n    try {\n        const bannersJson = localStorage.getItem(STORAGE_KEYS.BANNERS);\n        if (!bannersJson) return [];\n        return JSON.parse(bannersJson);\n    } catch (error) {\n        console.error(\"Error getting banners from localStorage:\", error);\n        return [];\n    }\n};\n// Get banners for a specific page\nconst getBannersByPage = (page)=>{\n    try {\n        const banners = getAllBanners();\n        return banners.filter((banner)=>banner.page === page).sort((a, b)=>a.order - b.order); // Sort by order field\n    } catch (error) {\n        console.error(`Error getting banners for page ${page}:`, error);\n        return [];\n    }\n};\n// Add a new banner\nconst addBanner = (banner)=>{\n    try {\n        // Validate banner data\n        if (!banner.page || !banner.imageUrl) {\n            throw new Error(\"Missing required banner fields\");\n        }\n        // Generate ID and timestamps\n        const id = generateId();\n        const timestamp = new Date().toISOString();\n        // Ensure order is set\n        if (banner.order === undefined) {\n            banner.order = 0;\n        }\n        const newBanner = {\n            ...banner,\n            id,\n            createdAt: timestamp,\n            updatedAt: timestamp\n        };\n        // Save to localStorage\n        const existingBanners = getAllBanners();\n        const updatedBanners = [\n            ...existingBanners,\n            newBanner\n        ];\n        localStorage.setItem(STORAGE_KEYS.BANNERS, JSON.stringify(updatedBanners));\n        return newBanner;\n    } catch (error) {\n        console.error(\"Error adding banner to localStorage:\", error);\n        throw error;\n    }\n};\n// Update a banner\nconst updateBanner = (id, updates)=>{\n    try {\n        const banners = getAllBanners();\n        const bannerIndex = banners.findIndex((b)=>b.id === id);\n        if (bannerIndex === -1) {\n            throw new Error(\"Banner not found\");\n        }\n        const oldBanner = banners[bannerIndex];\n        const updatedBanner = {\n            ...oldBanner,\n            ...updates,\n            updatedAt: new Date().toISOString()\n        };\n        // Save to localStorage\n        banners[bannerIndex] = updatedBanner;\n        localStorage.setItem(STORAGE_KEYS.BANNERS, JSON.stringify(banners));\n    } catch (error) {\n        console.error(\"Error updating banner in localStorage:\", error);\n        throw error;\n    }\n};\n// Delete a banner\nconst deleteBanner = (id)=>{\n    try {\n        const banners = getAllBanners();\n        const bannerToDelete = banners.find((b)=>b.id === id);\n        if (!bannerToDelete) {\n            throw new Error(\"Banner not found\");\n        }\n        const filteredBanners = banners.filter((b)=>b.id !== id);\n        localStorage.setItem(STORAGE_KEYS.BANNERS, JSON.stringify(filteredBanners));\n    } catch (error) {\n        console.error(\"Error deleting banner from localStorage:\", error);\n        throw error;\n    }\n};\n// Enhanced image upload function that returns a data URL\nconst uploadProductImage = async (file)=>{\n    return new Promise((resolve, reject)=>{\n        try {\n            const reader = new FileReader();\n            reader.onload = ()=>{\n                if (typeof reader.result === \"string\") {\n                    resolve(reader.result);\n                } else {\n                    reject(new Error(\"Failed to read image file\"));\n                }\n            };\n            reader.onerror = ()=>{\n                reject(new Error(\"Error reading image file\"));\n            };\n            reader.readAsDataURL(file);\n        } catch (error) {\n            reject(error);\n        }\n    });\n};\n// Method to clear all products\nconst clearAllProducts = ()=>{\n    try {\n        localStorage.removeItem(STORAGE_KEYS.PRODUCTS);\n        localStorage.removeItem(STORAGE_KEYS.CATEGORIES);\n        console.log(\"All products and categories have been cleared\");\n    } catch (error) {\n        console.error(\"Error clearing products:\", error);\n    }\n};\n// Get featured products\nconst getFeaturedProducts = (limit = 8)=>{\n    try {\n        const products = getAllProducts();\n        return products.filter((product)=>product.featured).slice(0, limit);\n    } catch (error) {\n        console.error(\"Error getting featured products:\", error);\n        return [];\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi91dGlscy9sb2NhbFN0b3JhZ2UudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFQSxrQ0FBa0M7QUFDbEMsTUFBTUEsZUFBZTtJQUNuQkMsVUFBVTtJQUNWQyxZQUFZO0lBQ1pDLFNBQVM7SUFDVEMsa0JBQWtCO0FBQ3BCO0FBb0JBLGdDQUFnQztBQUNoQyxNQUFNQyxhQUFhO0lBQ2pCLE9BQU9DLEtBQUtDLEdBQUcsR0FBR0MsUUFBUSxDQUFDLE1BQU1DLEtBQUtDLE1BQU0sR0FBR0YsUUFBUSxDQUFDLElBQUlHLFNBQVMsQ0FBQztBQUN4RTtBQUVBLDBEQUEwRDtBQUNuRCxNQUFNQyx5QkFBeUI7SUFDcEMsSUFBSTtRQUNGQyxRQUFRQyxHQUFHLENBQUM7SUFDZCxFQUFFLE9BQU9DLE9BQU87UUFDZEYsUUFBUUUsS0FBSyxDQUFDLG9DQUFvQ0E7SUFDcEQ7QUFDRixFQUFFO0FBRUYscUNBQXFDO0FBQzlCLE1BQU1DLGlCQUFpQjtJQUM1QixJQUFJO1FBQ0YsTUFBTUMsZUFBZUMsYUFBYUMsT0FBTyxDQUFDbkIsYUFBYUMsUUFBUTtRQUMvRCxJQUFJLENBQUNnQixjQUFjLE9BQU8sRUFBRTtRQUM1QixPQUFPRyxLQUFLQyxLQUFLLENBQUNKO0lBQ3BCLEVBQUUsT0FBT0YsT0FBTztRQUNkRixRQUFRRSxLQUFLLENBQUMsNkNBQTZDQTtRQUMzRCxPQUFPLEVBQUU7SUFDWDtBQUNGLEVBQUU7QUFFRiwyQkFBMkI7QUFDcEIsTUFBTU8sd0JBQXdCLENBQUNDO0lBQ3BDLElBQUk7UUFDRixNQUFNQyxXQUFXUjtRQUNqQixPQUFPUSxTQUFTQyxNQUFNLENBQUNDLENBQUFBLFVBQVdBLFFBQVFILFFBQVEsS0FBS0E7SUFDekQsRUFBRSxPQUFPUixPQUFPO1FBQ2RGLFFBQVFFLEtBQUssQ0FBQyxDQUFDLGNBQWMsRUFBRVEsU0FBUyw0QkFBNEIsQ0FBQyxFQUFFUjtRQUN2RSxPQUFPLEVBQUU7SUFDWDtBQUNGLEVBQUU7QUFFRiw4Q0FBOEM7QUFDdkMsTUFBTVksaUJBQWlCLENBQUNDLFFBQWdCLENBQUM7SUFDOUMsSUFBSTtRQUNGLE1BQU1KLFdBQVdSO1FBRWpCLHNEQUFzRDtRQUN0RCxPQUFPUSxTQUNKSyxJQUFJLENBQUMsQ0FBQ0MsR0FBR0M7WUFDUixNQUFNQyxRQUFRRixFQUFFRyxTQUFTLEdBQUcsSUFBSTNCLEtBQUt3QixFQUFFRyxTQUFTLEVBQUVDLE9BQU8sS0FBSztZQUM5RCxNQUFNQyxRQUFRSixFQUFFRSxTQUFTLEdBQUcsSUFBSTNCLEtBQUt5QixFQUFFRSxTQUFTLEVBQUVDLE9BQU8sS0FBSztZQUM5RCxPQUFPQyxRQUFRSCxPQUFPLGtDQUFrQztRQUMxRCxHQUNDSSxLQUFLLENBQUMsR0FBR1I7SUFDZCxFQUFFLE9BQU9iLE9BQU87UUFDZEYsUUFBUUUsS0FBSyxDQUFDLCtCQUErQkE7UUFDN0MsT0FBTyxFQUFFO0lBQ1g7QUFDRixFQUFFO0FBRUYsb0JBQW9CO0FBQ2IsTUFBTXNCLGlCQUFpQixDQUFDQztJQUM3QixJQUFJO1FBQ0YsTUFBTWQsV0FBV1I7UUFDakIsTUFBTVUsVUFBVUYsU0FBU2UsSUFBSSxDQUFDQyxDQUFBQSxJQUFLQSxFQUFFRixFQUFFLEtBQUtBO1FBQzVDLE9BQU9aLFdBQVc7SUFDcEIsRUFBRSxPQUFPWCxPQUFPO1FBQ2RGLFFBQVFFLEtBQUssQ0FBQyw0Q0FBNENBO1FBQzFELE9BQU87SUFDVDtBQUNGLEVBQUU7QUFFRixvQkFBb0I7QUFDYixNQUFNMEIsYUFBYSxDQUFDZjtJQUN6QixJQUFJO1FBQ0Ysd0JBQXdCO1FBQ3hCLElBQUksQ0FBQ0EsUUFBUWdCLElBQUksSUFBSSxDQUFDaEIsUUFBUWlCLEtBQUssSUFBSSxDQUFDakIsUUFBUUgsUUFBUSxFQUFFO1lBQ3hELE1BQU0sSUFBSXFCLE1BQU07UUFDbEI7UUFFQSw2QkFBNkI7UUFDN0IsTUFBTU4sS0FBS2pDO1FBQ1gsTUFBTXdDLFlBQVksSUFBSXZDLE9BQU93QyxXQUFXO1FBRXhDLE1BQU1DLGFBQXNCO1lBQzFCLEdBQUdyQixPQUFPO1lBQ1ZZO1lBQ0FMLFdBQVdZO1lBQ1hHLFdBQVdIO1FBQ2I7UUFFQSx1QkFBdUI7UUFDdkIsTUFBTXJCLFdBQVdSO1FBQ2pCLE1BQU1pQyxrQkFBa0I7ZUFBSXpCO1lBQVV1QjtTQUFXO1FBQ2pEN0IsYUFBYWdDLE9BQU8sQ0FBQ2xELGFBQWFDLFFBQVEsRUFBRW1CLEtBQUsrQixTQUFTLENBQUNGO1FBRTNELHlCQUF5QjtRQUN6Qkcsb0JBQW9CMUIsUUFBUUgsUUFBUSxFQUFFO1FBRXRDLE9BQU93QjtJQUNULEVBQUUsT0FBT2hDLE9BQU87UUFDZEYsUUFBUUUsS0FBSyxDQUFDLHlDQUF5Q0E7UUFDdkQsTUFBTUE7SUFDUjtBQUNGLEVBQUU7QUFFRixtQkFBbUI7QUFDWixNQUFNc0MsZ0JBQWdCLENBQUNmLElBQVlnQjtJQUN4QyxJQUFJO1FBQ0YsTUFBTTlCLFdBQVdSO1FBQ2pCLE1BQU11QyxlQUFlL0IsU0FBU2dDLFNBQVMsQ0FBQ2hCLENBQUFBLElBQUtBLEVBQUVGLEVBQUUsS0FBS0E7UUFFdEQsSUFBSWlCLGlCQUFpQixDQUFDLEdBQUc7WUFDdkIsTUFBTSxJQUFJWCxNQUFNO1FBQ2xCO1FBRUEsTUFBTWEsYUFBYWpDLFFBQVEsQ0FBQytCLGFBQWE7UUFDekMsTUFBTUcsaUJBQWlCO1lBQ3JCLEdBQUdELFVBQVU7WUFDYixHQUFHSCxPQUFPO1lBQ1ZOLFdBQVcsSUFBSTFDLE9BQU93QyxXQUFXO1FBQ25DO1FBRUEsNEJBQTRCO1FBQzVCLElBQUlRLFFBQVEvQixRQUFRLElBQUlrQyxXQUFXbEMsUUFBUSxLQUFLK0IsUUFBUS9CLFFBQVEsRUFBRTtZQUNoRSx5QkFBeUI7WUFDekI2QixvQkFBb0JLLFdBQVdsQyxRQUFRLEVBQUUsQ0FBQztZQUMxQzZCLG9CQUFvQkUsUUFBUS9CLFFBQVEsRUFBRTtRQUN4QztRQUVBLHVCQUF1QjtRQUN2QkMsUUFBUSxDQUFDK0IsYUFBYSxHQUFHRztRQUN6QnhDLGFBQWFnQyxPQUFPLENBQUNsRCxhQUFhQyxRQUFRLEVBQUVtQixLQUFLK0IsU0FBUyxDQUFDM0I7SUFDN0QsRUFBRSxPQUFPVCxPQUFPO1FBQ2RGLFFBQVFFLEtBQUssQ0FBQywyQ0FBMkNBO1FBQ3pELE1BQU1BO0lBQ1I7QUFDRixFQUFFO0FBRUYsbUJBQW1CO0FBQ1osTUFBTTRDLGdCQUFnQixDQUFDckI7SUFDNUIsSUFBSTtRQUNGLE1BQU1kLFdBQVdSO1FBQ2pCLE1BQU1VLFVBQVVGLFNBQVNlLElBQUksQ0FBQ0MsQ0FBQUEsSUFBS0EsRUFBRUYsRUFBRSxLQUFLQTtRQUU1QyxJQUFJLENBQUNaLFNBQVM7WUFDWixNQUFNLElBQUlrQixNQUFNO1FBQ2xCO1FBRUEseUJBQXlCO1FBQ3pCUSxvQkFBb0IxQixRQUFRSCxRQUFRLEVBQUUsQ0FBQztRQUV2QyxpQkFBaUI7UUFDakIsTUFBTXFDLG1CQUFtQnBDLFNBQVNDLE1BQU0sQ0FBQ2UsQ0FBQUEsSUFBS0EsRUFBRUYsRUFBRSxLQUFLQTtRQUN2RHBCLGFBQWFnQyxPQUFPLENBQUNsRCxhQUFhQyxRQUFRLEVBQUVtQixLQUFLK0IsU0FBUyxDQUFDUztJQUM3RCxFQUFFLE9BQU83QyxPQUFPO1FBQ2RGLFFBQVFFLEtBQUssQ0FBQyw2Q0FBNkNBO1FBQzNELE1BQU1BO0lBQ1I7QUFDRixFQUFFO0FBRUYscUJBQXFCO0FBQ2QsTUFBTThDLG1CQUFtQjtJQUM5QixJQUFJO1FBQ0YsTUFBTUMsaUJBQWlCNUMsYUFBYUMsT0FBTyxDQUFDbkIsYUFBYUUsVUFBVTtRQUNuRSxJQUFJLENBQUM0RCxnQkFBZ0IsT0FBTyxFQUFFO1FBQzlCLE9BQU8xQyxLQUFLQyxLQUFLLENBQUN5QztJQUNwQixFQUFFLE9BQU8vQyxPQUFPO1FBQ2RGLFFBQVFFLEtBQUssQ0FBQywrQ0FBK0NBO1FBQzdELE9BQU8sRUFBRTtJQUNYO0FBQ0YsRUFBRTtBQUVGLHdCQUF3QjtBQUN4QixNQUFNcUMsc0JBQXNCLENBQUNXLFlBQW9CQztJQUMvQyxJQUFJO1FBQ0YsTUFBTUMsYUFBYUo7UUFDbkIsTUFBTUssZ0JBQWdCRCxXQUFXVCxTQUFTLENBQUNXLENBQUFBLElBQUtBLEVBQUU3QixFQUFFLEtBQUt5QjtRQUN6RCxNQUFNbEIsWUFBWSxJQUFJdkMsT0FBT3dDLFdBQVc7UUFFeEMsSUFBSW9CLGlCQUFpQixHQUFHO1lBQ3RCLDJCQUEyQjtZQUMzQixNQUFNM0MsV0FBVzBDLFVBQVUsQ0FBQ0MsY0FBYztZQUMxQyxNQUFNRSxXQUFXN0MsU0FBUzhDLEtBQUssR0FBR0w7WUFFbEMsSUFBSUksWUFBWSxHQUFHO2dCQUNqQiwrQ0FBK0M7Z0JBQy9DSCxXQUFXSyxNQUFNLENBQUNKLGVBQWU7WUFDbkMsT0FBTztnQkFDTCxlQUFlO2dCQUNmRCxVQUFVLENBQUNDLGNBQWMsR0FBRztvQkFDMUIsR0FBRzNDLFFBQVE7b0JBQ1g4QyxPQUFPRDtvQkFDUHBCLFdBQVdIO2dCQUNiO1lBQ0Y7UUFDRixPQUFPLElBQUltQixTQUFTLEdBQUc7WUFDckIsbUJBQW1CO1lBQ25CQyxXQUFXTSxJQUFJLENBQUM7Z0JBQ2RqQyxJQUFJeUI7Z0JBQ0pyQixNQUFNcUIsV0FBV1MsTUFBTSxDQUFDLEdBQUdDLFdBQVcsS0FBS1YsV0FBVzNCLEtBQUssQ0FBQztnQkFDNURpQyxPQUFPTDtnQkFDUC9CLFdBQVdZO2dCQUNYRyxXQUFXSDtZQUNiO1FBQ0Y7UUFFQTNCLGFBQWFnQyxPQUFPLENBQUNsRCxhQUFhRSxVQUFVLEVBQUVrQixLQUFLK0IsU0FBUyxDQUFDYztJQUMvRCxFQUFFLE9BQU9sRCxPQUFPO1FBQ2RGLFFBQVFFLEtBQUssQ0FBQyxrREFBa0RBO0lBQ2xFO0FBQ0Y7QUFFQSw4QkFBOEI7QUFFOUIsa0JBQWtCO0FBQ1gsTUFBTTJELGdCQUFnQjtJQUMzQixJQUFJO1FBQ0YsTUFBTUMsY0FBY3pELGFBQWFDLE9BQU8sQ0FBQ25CLGFBQWFHLE9BQU87UUFDN0QsSUFBSSxDQUFDd0UsYUFBYSxPQUFPLEVBQUU7UUFDM0IsT0FBT3ZELEtBQUtDLEtBQUssQ0FBQ3NEO0lBQ3BCLEVBQUUsT0FBTzVELE9BQU87UUFDZEYsUUFBUUUsS0FBSyxDQUFDLDRDQUE0Q0E7UUFDMUQsT0FBTyxFQUFFO0lBQ1g7QUFDRixFQUFFO0FBRUYsa0NBQWtDO0FBQzNCLE1BQU02RCxtQkFBbUIsQ0FBQ0M7SUFDL0IsSUFBSTtRQUNGLE1BQU1DLFVBQVVKO1FBQ2hCLE9BQU9JLFFBQ0pyRCxNQUFNLENBQUNzRCxDQUFBQSxTQUFVQSxPQUFPRixJQUFJLEtBQUtBLE1BQ2pDaEQsSUFBSSxDQUFDLENBQUNDLEdBQUdDLElBQU1ELEVBQUVrRCxLQUFLLEdBQUdqRCxFQUFFaUQsS0FBSyxHQUFHLHNCQUFzQjtJQUM5RCxFQUFFLE9BQU9qRSxPQUFPO1FBQ2RGLFFBQVFFLEtBQUssQ0FBQyxDQUFDLCtCQUErQixFQUFFOEQsS0FBSyxDQUFDLENBQUMsRUFBRTlEO1FBQ3pELE9BQU8sRUFBRTtJQUNYO0FBQ0YsRUFBRTtBQUVGLG1CQUFtQjtBQUNaLE1BQU1rRSxZQUFZLENBQUNGO0lBQ3hCLElBQUk7UUFDRix1QkFBdUI7UUFDdkIsSUFBSSxDQUFDQSxPQUFPRixJQUFJLElBQUksQ0FBQ0UsT0FBT0csUUFBUSxFQUFFO1lBQ3BDLE1BQU0sSUFBSXRDLE1BQU07UUFDbEI7UUFFQSw2QkFBNkI7UUFDN0IsTUFBTU4sS0FBS2pDO1FBQ1gsTUFBTXdDLFlBQVksSUFBSXZDLE9BQU93QyxXQUFXO1FBRXhDLHNCQUFzQjtRQUN0QixJQUFJaUMsT0FBT0MsS0FBSyxLQUFLRyxXQUFXO1lBQzlCSixPQUFPQyxLQUFLLEdBQUc7UUFDakI7UUFFQSxNQUFNSSxZQUFvQjtZQUN4QixHQUFHTCxNQUFNO1lBQ1R6QztZQUNBTCxXQUFXWTtZQUNYRyxXQUFXSDtRQUNiO1FBRUEsdUJBQXVCO1FBQ3ZCLE1BQU13QyxrQkFBa0JYO1FBQ3hCLE1BQU1ZLGlCQUFpQjtlQUFJRDtZQUFpQkQ7U0FBVTtRQUN0RGxFLGFBQWFnQyxPQUFPLENBQUNsRCxhQUFhRyxPQUFPLEVBQUVpQixLQUFLK0IsU0FBUyxDQUFDbUM7UUFFMUQsT0FBT0Y7SUFDVCxFQUFFLE9BQU9yRSxPQUFPO1FBQ2RGLFFBQVFFLEtBQUssQ0FBQyx3Q0FBd0NBO1FBQ3RELE1BQU1BO0lBQ1I7QUFDRixFQUFFO0FBRUYsa0JBQWtCO0FBQ1gsTUFBTXdFLGVBQWUsQ0FBQ2pELElBQVlnQjtJQUN2QyxJQUFJO1FBQ0YsTUFBTXdCLFVBQVVKO1FBQ2hCLE1BQU1jLGNBQWNWLFFBQVF0QixTQUFTLENBQUN6QixDQUFBQSxJQUFLQSxFQUFFTyxFQUFFLEtBQUtBO1FBRXBELElBQUlrRCxnQkFBZ0IsQ0FBQyxHQUFHO1lBQ3RCLE1BQU0sSUFBSTVDLE1BQU07UUFDbEI7UUFFQSxNQUFNNkMsWUFBWVgsT0FBTyxDQUFDVSxZQUFZO1FBQ3RDLE1BQU1FLGdCQUFnQjtZQUNwQixHQUFHRCxTQUFTO1lBQ1osR0FBR25DLE9BQU87WUFDVk4sV0FBVyxJQUFJMUMsT0FBT3dDLFdBQVc7UUFDbkM7UUFFQSx1QkFBdUI7UUFDdkJnQyxPQUFPLENBQUNVLFlBQVksR0FBR0U7UUFDdkJ4RSxhQUFhZ0MsT0FBTyxDQUFDbEQsYUFBYUcsT0FBTyxFQUFFaUIsS0FBSytCLFNBQVMsQ0FBQzJCO0lBQzVELEVBQUUsT0FBTy9ELE9BQU87UUFDZEYsUUFBUUUsS0FBSyxDQUFDLDBDQUEwQ0E7UUFDeEQsTUFBTUE7SUFDUjtBQUNGLEVBQUU7QUFFRixrQkFBa0I7QUFDWCxNQUFNNEUsZUFBZSxDQUFDckQ7SUFDM0IsSUFBSTtRQUNGLE1BQU13QyxVQUFVSjtRQUNoQixNQUFNa0IsaUJBQWlCZCxRQUFRdkMsSUFBSSxDQUFDUixDQUFBQSxJQUFLQSxFQUFFTyxFQUFFLEtBQUtBO1FBRWxELElBQUksQ0FBQ3NELGdCQUFnQjtZQUNuQixNQUFNLElBQUloRCxNQUFNO1FBQ2xCO1FBRUEsTUFBTWlELGtCQUFrQmYsUUFBUXJELE1BQU0sQ0FBQ00sQ0FBQUEsSUFBS0EsRUFBRU8sRUFBRSxLQUFLQTtRQUNyRHBCLGFBQWFnQyxPQUFPLENBQUNsRCxhQUFhRyxPQUFPLEVBQUVpQixLQUFLK0IsU0FBUyxDQUFDMEM7SUFDNUQsRUFBRSxPQUFPOUUsT0FBTztRQUNkRixRQUFRRSxLQUFLLENBQUMsNENBQTRDQTtRQUMxRCxNQUFNQTtJQUNSO0FBQ0YsRUFBRTtBQUVGLHlEQUF5RDtBQUNsRCxNQUFNK0UscUJBQXFCLE9BQU9DO0lBQ3ZDLE9BQU8sSUFBSUMsUUFBUSxDQUFDQyxTQUFTQztRQUMzQixJQUFJO1lBQ0YsTUFBTUMsU0FBUyxJQUFJQztZQUVuQkQsT0FBT0UsTUFBTSxHQUFHO2dCQUNkLElBQUksT0FBT0YsT0FBT0csTUFBTSxLQUFLLFVBQVU7b0JBQ3JDTCxRQUFRRSxPQUFPRyxNQUFNO2dCQUN2QixPQUFPO29CQUNMSixPQUFPLElBQUl0RCxNQUFNO2dCQUNuQjtZQUNGO1lBRUF1RCxPQUFPSSxPQUFPLEdBQUc7Z0JBQ2ZMLE9BQU8sSUFBSXRELE1BQU07WUFDbkI7WUFFQXVELE9BQU9LLGFBQWEsQ0FBQ1Q7UUFDdkIsRUFBRSxPQUFPaEYsT0FBTztZQUNkbUYsT0FBT25GO1FBQ1Q7SUFDRjtBQUNGLEVBQUU7QUFFRiwrQkFBK0I7QUFDeEIsTUFBTTBGLG1CQUFtQjtJQUM5QixJQUFJO1FBQ0Z2RixhQUFhd0YsVUFBVSxDQUFDMUcsYUFBYUMsUUFBUTtRQUM3Q2lCLGFBQWF3RixVQUFVLENBQUMxRyxhQUFhRSxVQUFVO1FBQy9DVyxRQUFRQyxHQUFHLENBQUM7SUFDZCxFQUFFLE9BQU9DLE9BQU87UUFDZEYsUUFBUUUsS0FBSyxDQUFDLDRCQUE0QkE7SUFDNUM7QUFDRixFQUFFO0FBRUYsd0JBQXdCO0FBQ2pCLE1BQU00RixzQkFBc0IsQ0FBQy9FLFFBQWdCLENBQUM7SUFDbkQsSUFBSTtRQUNGLE1BQU1KLFdBQVdSO1FBQ2pCLE9BQU9RLFNBQ0pDLE1BQU0sQ0FBQ0MsQ0FBQUEsVUFBV0EsUUFBUWtGLFFBQVEsRUFDbEN4RSxLQUFLLENBQUMsR0FBR1I7SUFDZCxFQUFFLE9BQU9iLE9BQU87UUFDZEYsUUFBUUUsS0FBSyxDQUFDLG9DQUFvQ0E7UUFDbEQsT0FBTyxFQUFFO0lBQ1g7QUFDRixFQUFFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vamVhbnMtbmV4dGpzLy4vdXRpbHMvbG9jYWxTdG9yYWdlLnRzPzlkYmEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUHJvZHVjdCB9IGZyb20gJy4uL2RhdGEvcHJvZHVjdHMnO1xyXG5cclxuLy8gQ29uc3RhbnRzIGZvciBsb2NhbFN0b3JhZ2Uga2V5c1xyXG5jb25zdCBTVE9SQUdFX0tFWVMgPSB7XHJcbiAgUFJPRFVDVFM6ICdyYW5neWFfcHJvZHVjdHMnLFxyXG4gIENBVEVHT1JJRVM6ICdyYW5neWFfY2F0ZWdvcmllcycsXHJcbiAgQkFOTkVSUzogJ3Jhbmd5YV9iYW5uZXJzJyxcclxuICBERU1PX0RBVEFfTE9BREVEOiAncmFuZ3lhX2RlbW9fZGF0YV9sb2FkZWQnXHJcbn07XHJcblxyXG4vLyBUeXBlIGRlZmluaXRpb25zXHJcbmV4cG9ydCBpbnRlcmZhY2UgQ2F0ZWdvcnkge1xyXG4gIGlkOiBzdHJpbmc7XHJcbiAgbmFtZTogc3RyaW5nO1xyXG4gIGNvdW50OiBudW1iZXI7XHJcbiAgY3JlYXRlZEF0OiBzdHJpbmc7XHJcbiAgdXBkYXRlZEF0OiBzdHJpbmc7XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgQmFubmVyIHtcclxuICBpZDogc3RyaW5nO1xyXG4gIHBhZ2U6IHN0cmluZztcclxuICBpbWFnZVVybDogc3RyaW5nO1xyXG4gIG9yZGVyOiBudW1iZXI7XHJcbiAgY3JlYXRlZEF0OiBzdHJpbmc7XHJcbiAgdXBkYXRlZEF0OiBzdHJpbmc7XHJcbn1cclxuXHJcbi8vIEhlbHBlciB0byBnZW5lcmF0ZSB1bmlxdWUgSURzXHJcbmNvbnN0IGdlbmVyYXRlSWQgPSAoKTogc3RyaW5nID0+IHtcclxuICByZXR1cm4gRGF0ZS5ub3coKS50b1N0cmluZygzNikgKyBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHJpbmcoMik7XHJcbn07XHJcblxyXG4vLyBJbml0aWFsaXplIGxvY2FsU3RvcmFnZSB3aXRob3V0IGxvYWRpbmcgc2FtcGxlIHByb2R1Y3RzXHJcbmV4cG9ydCBjb25zdCBpbml0aWFsaXplTG9jYWxTdG9yYWdlID0gKCk6IHZvaWQgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zb2xlLmxvZygnSW5pdGlhbGl6aW5nIGxvY2FsU3RvcmFnZScpO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBpbml0aWFsaXppbmcgbG9jYWxTdG9yYWdlOicsIGVycm9yKTtcclxuICB9XHJcbn07XHJcblxyXG4vLyBHZXQgYWxsIHByb2R1Y3RzIGZyb20gbG9jYWxTdG9yYWdlXHJcbmV4cG9ydCBjb25zdCBnZXRBbGxQcm9kdWN0cyA9ICgpOiBQcm9kdWN0W10gPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBwcm9kdWN0c0pzb24gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShTVE9SQUdFX0tFWVMuUFJPRFVDVFMpO1xyXG4gICAgaWYgKCFwcm9kdWN0c0pzb24pIHJldHVybiBbXTtcclxuICAgIHJldHVybiBKU09OLnBhcnNlKHByb2R1Y3RzSnNvbik7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGdldHRpbmcgcHJvZHVjdHMgZnJvbSBsb2NhbFN0b3JhZ2U6JywgZXJyb3IpO1xyXG4gICAgcmV0dXJuIFtdO1xyXG4gIH1cclxufTtcclxuXHJcbi8vIEdldCBwcm9kdWN0cyBieSBjYXRlZ29yeVxyXG5leHBvcnQgY29uc3QgZ2V0UHJvZHVjdHNCeUNhdGVnb3J5ID0gKGNhdGVnb3J5OiBzdHJpbmcpOiBQcm9kdWN0W10gPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBwcm9kdWN0cyA9IGdldEFsbFByb2R1Y3RzKCk7XHJcbiAgICByZXR1cm4gcHJvZHVjdHMuZmlsdGVyKHByb2R1Y3QgPT4gcHJvZHVjdC5jYXRlZ29yeSA9PT0gY2F0ZWdvcnkpO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKGBFcnJvciBnZXR0aW5nICR7Y2F0ZWdvcnl9IHByb2R1Y3RzIGZyb20gbG9jYWxTdG9yYWdlOmAsIGVycm9yKTtcclxuICAgIHJldHVybiBbXTtcclxuICB9XHJcbn07XHJcblxyXG4vLyBHZXQgbW9zdCByZWNlbnQgcHJvZHVjdHMgKGZvciBOZXcgQXJyaXZhbHMpXHJcbmV4cG9ydCBjb25zdCBnZXROZXdBcnJpdmFscyA9IChsaW1pdDogbnVtYmVyID0gOCk6IFByb2R1Y3RbXSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHByb2R1Y3RzID0gZ2V0QWxsUHJvZHVjdHMoKTtcclxuICAgIFxyXG4gICAgLy8gU29ydCBwcm9kdWN0cyBieSBjcmVhdGVkQXQgdGltZXN0YW1wIChuZXdlc3QgZmlyc3QpXHJcbiAgICByZXR1cm4gcHJvZHVjdHNcclxuICAgICAgLnNvcnQoKGEsIGIpID0+IHtcclxuICAgICAgICBjb25zdCBkYXRlQSA9IGEuY3JlYXRlZEF0ID8gbmV3IERhdGUoYS5jcmVhdGVkQXQpLmdldFRpbWUoKSA6IDA7XHJcbiAgICAgICAgY29uc3QgZGF0ZUIgPSBiLmNyZWF0ZWRBdCA/IG5ldyBEYXRlKGIuY3JlYXRlZEF0KS5nZXRUaW1lKCkgOiAwO1xyXG4gICAgICAgIHJldHVybiBkYXRlQiAtIGRhdGVBOyAvLyBEZXNjZW5kaW5nIG9yZGVyIChuZXdlc3QgZmlyc3QpXHJcbiAgICAgIH0pXHJcbiAgICAgIC5zbGljZSgwLCBsaW1pdCk7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGdldHRpbmcgbmV3IGFycml2YWxzOicsIGVycm9yKTtcclxuICAgIHJldHVybiBbXTtcclxuICB9XHJcbn07XHJcblxyXG4vLyBHZXQgcHJvZHVjdCBieSBJRFxyXG5leHBvcnQgY29uc3QgZ2V0UHJvZHVjdEJ5SWQgPSAoaWQ6IHN0cmluZyk6IFByb2R1Y3QgfCBudWxsID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgcHJvZHVjdHMgPSBnZXRBbGxQcm9kdWN0cygpO1xyXG4gICAgY29uc3QgcHJvZHVjdCA9IHByb2R1Y3RzLmZpbmQocCA9PiBwLmlkID09PSBpZCk7XHJcbiAgICByZXR1cm4gcHJvZHVjdCB8fCBudWxsO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBnZXR0aW5nIHByb2R1Y3QgZnJvbSBsb2NhbFN0b3JhZ2U6JywgZXJyb3IpO1xyXG4gICAgcmV0dXJuIG51bGw7XHJcbiAgfVxyXG59O1xyXG5cclxuLy8gQWRkIGEgbmV3IHByb2R1Y3RcclxuZXhwb3J0IGNvbnN0IGFkZFByb2R1Y3QgPSAocHJvZHVjdDogT21pdDxQcm9kdWN0LCAnaWQnPik6IFByb2R1Y3QgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICAvLyBWYWxpZGF0ZSBwcm9kdWN0IGRhdGFcclxuICAgIGlmICghcHJvZHVjdC5uYW1lIHx8ICFwcm9kdWN0LnByaWNlIHx8ICFwcm9kdWN0LmNhdGVnb3J5KSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCBwcm9kdWN0IGZpZWxkcycpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEdlbmVyYXRlIElEIGFuZCB0aW1lc3RhbXBzXHJcbiAgICBjb25zdCBpZCA9IGdlbmVyYXRlSWQoKTtcclxuICAgIGNvbnN0IHRpbWVzdGFtcCA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKTtcclxuICAgIFxyXG4gICAgY29uc3QgbmV3UHJvZHVjdDogUHJvZHVjdCA9IHtcclxuICAgICAgLi4ucHJvZHVjdCxcclxuICAgICAgaWQsXHJcbiAgICAgIGNyZWF0ZWRBdDogdGltZXN0YW1wLFxyXG4gICAgICB1cGRhdGVkQXQ6IHRpbWVzdGFtcFxyXG4gICAgfTtcclxuICAgIFxyXG4gICAgLy8gU2F2ZSB0byBsb2NhbFN0b3JhZ2VcclxuICAgIGNvbnN0IHByb2R1Y3RzID0gZ2V0QWxsUHJvZHVjdHMoKTtcclxuICAgIGNvbnN0IHVwZGF0ZWRQcm9kdWN0cyA9IFsuLi5wcm9kdWN0cywgbmV3UHJvZHVjdF07XHJcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShTVE9SQUdFX0tFWVMuUFJPRFVDVFMsIEpTT04uc3RyaW5naWZ5KHVwZGF0ZWRQcm9kdWN0cykpO1xyXG4gICAgXHJcbiAgICAvLyBVcGRhdGUgY2F0ZWdvcnkgY291bnRzXHJcbiAgICB1cGRhdGVDYXRlZ29yeUNvdW50KHByb2R1Y3QuY2F0ZWdvcnksIDEpO1xyXG4gICAgXHJcbiAgICByZXR1cm4gbmV3UHJvZHVjdDtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgYWRkaW5nIHByb2R1Y3QgdG8gbG9jYWxTdG9yYWdlOicsIGVycm9yKTtcclxuICAgIHRocm93IGVycm9yO1xyXG4gIH1cclxufTtcclxuXHJcbi8vIFVwZGF0ZSBhIHByb2R1Y3RcclxuZXhwb3J0IGNvbnN0IHVwZGF0ZVByb2R1Y3QgPSAoaWQ6IHN0cmluZywgdXBkYXRlczogUGFydGlhbDxQcm9kdWN0Pik6IHZvaWQgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBwcm9kdWN0cyA9IGdldEFsbFByb2R1Y3RzKCk7XHJcbiAgICBjb25zdCBwcm9kdWN0SW5kZXggPSBwcm9kdWN0cy5maW5kSW5kZXgocCA9PiBwLmlkID09PSBpZCk7XHJcbiAgICBcclxuICAgIGlmIChwcm9kdWN0SW5kZXggPT09IC0xKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcignUHJvZHVjdCBub3QgZm91bmQnKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgY29uc3Qgb2xkUHJvZHVjdCA9IHByb2R1Y3RzW3Byb2R1Y3RJbmRleF07XHJcbiAgICBjb25zdCB1cGRhdGVkUHJvZHVjdCA9IHtcclxuICAgICAgLi4ub2xkUHJvZHVjdCxcclxuICAgICAgLi4udXBkYXRlcyxcclxuICAgICAgdXBkYXRlZEF0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcclxuICAgIH07XHJcbiAgICBcclxuICAgIC8vIENoZWNrIGlmIGNhdGVnb3J5IGNoYW5nZWRcclxuICAgIGlmICh1cGRhdGVzLmNhdGVnb3J5ICYmIG9sZFByb2R1Y3QuY2F0ZWdvcnkgIT09IHVwZGF0ZXMuY2F0ZWdvcnkpIHtcclxuICAgICAgLy8gVXBkYXRlIGNhdGVnb3J5IGNvdW50c1xyXG4gICAgICB1cGRhdGVDYXRlZ29yeUNvdW50KG9sZFByb2R1Y3QuY2F0ZWdvcnksIC0xKTtcclxuICAgICAgdXBkYXRlQ2F0ZWdvcnlDb3VudCh1cGRhdGVzLmNhdGVnb3J5LCAxKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8gU2F2ZSB0byBsb2NhbFN0b3JhZ2VcclxuICAgIHByb2R1Y3RzW3Byb2R1Y3RJbmRleF0gPSB1cGRhdGVkUHJvZHVjdDtcclxuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFNUT1JBR0VfS0VZUy5QUk9EVUNUUywgSlNPTi5zdHJpbmdpZnkocHJvZHVjdHMpKTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgdXBkYXRpbmcgcHJvZHVjdCBpbiBsb2NhbFN0b3JhZ2U6JywgZXJyb3IpO1xyXG4gICAgdGhyb3cgZXJyb3I7XHJcbiAgfVxyXG59O1xyXG5cclxuLy8gRGVsZXRlIGEgcHJvZHVjdFxyXG5leHBvcnQgY29uc3QgZGVsZXRlUHJvZHVjdCA9IChpZDogc3RyaW5nKTogdm9pZCA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHByb2R1Y3RzID0gZ2V0QWxsUHJvZHVjdHMoKTtcclxuICAgIGNvbnN0IHByb2R1Y3QgPSBwcm9kdWN0cy5maW5kKHAgPT4gcC5pZCA9PT0gaWQpO1xyXG4gICAgXHJcbiAgICBpZiAoIXByb2R1Y3QpIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKCdQcm9kdWN0IG5vdCBmb3VuZCcpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvLyBVcGRhdGUgY2F0ZWdvcnkgY291bnRzXHJcbiAgICB1cGRhdGVDYXRlZ29yeUNvdW50KHByb2R1Y3QuY2F0ZWdvcnksIC0xKTtcclxuICAgIFxyXG4gICAgLy8gUmVtb3ZlIHByb2R1Y3RcclxuICAgIGNvbnN0IGZpbHRlcmVkUHJvZHVjdHMgPSBwcm9kdWN0cy5maWx0ZXIocCA9PiBwLmlkICE9PSBpZCk7XHJcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShTVE9SQUdFX0tFWVMuUFJPRFVDVFMsIEpTT04uc3RyaW5naWZ5KGZpbHRlcmVkUHJvZHVjdHMpKTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgZGVsZXRpbmcgcHJvZHVjdCBmcm9tIGxvY2FsU3RvcmFnZTonLCBlcnJvcik7XHJcbiAgICB0aHJvdyBlcnJvcjtcclxuICB9XHJcbn07XHJcblxyXG4vLyBHZXQgYWxsIGNhdGVnb3JpZXNcclxuZXhwb3J0IGNvbnN0IGdldEFsbENhdGVnb3JpZXMgPSAoKTogQ2F0ZWdvcnlbXSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IGNhdGVnb3JpZXNKc29uID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oU1RPUkFHRV9LRVlTLkNBVEVHT1JJRVMpO1xyXG4gICAgaWYgKCFjYXRlZ29yaWVzSnNvbikgcmV0dXJuIFtdO1xyXG4gICAgcmV0dXJuIEpTT04ucGFyc2UoY2F0ZWdvcmllc0pzb24pO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBnZXR0aW5nIGNhdGVnb3JpZXMgZnJvbSBsb2NhbFN0b3JhZ2U6JywgZXJyb3IpO1xyXG4gICAgcmV0dXJuIFtdO1xyXG4gIH1cclxufTtcclxuXHJcbi8vIFVwZGF0ZSBjYXRlZ29yeSBjb3VudFxyXG5jb25zdCB1cGRhdGVDYXRlZ29yeUNvdW50ID0gKGNhdGVnb3J5SWQ6IHN0cmluZywgY2hhbmdlOiBudW1iZXIpOiB2b2lkID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgY2F0ZWdvcmllcyA9IGdldEFsbENhdGVnb3JpZXMoKTtcclxuICAgIGNvbnN0IGNhdGVnb3J5SW5kZXggPSBjYXRlZ29yaWVzLmZpbmRJbmRleChjID0+IGMuaWQgPT09IGNhdGVnb3J5SWQpO1xyXG4gICAgY29uc3QgdGltZXN0YW1wID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpO1xyXG4gICAgXHJcbiAgICBpZiAoY2F0ZWdvcnlJbmRleCA+PSAwKSB7XHJcbiAgICAgIC8vIFVwZGF0ZSBleGlzdGluZyBjYXRlZ29yeVxyXG4gICAgICBjb25zdCBjYXRlZ29yeSA9IGNhdGVnb3JpZXNbY2F0ZWdvcnlJbmRleF07XHJcbiAgICAgIGNvbnN0IG5ld0NvdW50ID0gY2F0ZWdvcnkuY291bnQgKyBjaGFuZ2U7XHJcbiAgICAgIFxyXG4gICAgICBpZiAobmV3Q291bnQgPD0gMCkge1xyXG4gICAgICAgIC8vIFJlbW92ZSBjYXRlZ29yeSBpZiBjb3VudCBpcyB6ZXJvIG9yIG5lZ2F0aXZlXHJcbiAgICAgICAgY2F0ZWdvcmllcy5zcGxpY2UoY2F0ZWdvcnlJbmRleCwgMSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgLy8gVXBkYXRlIGNvdW50XHJcbiAgICAgICAgY2F0ZWdvcmllc1tjYXRlZ29yeUluZGV4XSA9IHtcclxuICAgICAgICAgIC4uLmNhdGVnb3J5LFxyXG4gICAgICAgICAgY291bnQ6IG5ld0NvdW50LFxyXG4gICAgICAgICAgdXBkYXRlZEF0OiB0aW1lc3RhbXBcclxuICAgICAgICB9O1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2UgaWYgKGNoYW5nZSA+IDApIHtcclxuICAgICAgLy8gQWRkIG5ldyBjYXRlZ29yeVxyXG4gICAgICBjYXRlZ29yaWVzLnB1c2goe1xyXG4gICAgICAgIGlkOiBjYXRlZ29yeUlkLFxyXG4gICAgICAgIG5hbWU6IGNhdGVnb3J5SWQuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBjYXRlZ29yeUlkLnNsaWNlKDEpLFxyXG4gICAgICAgIGNvdW50OiBjaGFuZ2UsXHJcbiAgICAgICAgY3JlYXRlZEF0OiB0aW1lc3RhbXAsXHJcbiAgICAgICAgdXBkYXRlZEF0OiB0aW1lc3RhbXBcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFNUT1JBR0VfS0VZUy5DQVRFR09SSUVTLCBKU09OLnN0cmluZ2lmeShjYXRlZ29yaWVzKSk7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHVwZGF0aW5nIGNhdGVnb3J5IGNvdW50IGluIGxvY2FsU3RvcmFnZTonLCBlcnJvcik7XHJcbiAgfVxyXG59O1xyXG5cclxuLy8gQmFubmVyIE1hbmFnZW1lbnQgRnVuY3Rpb25zXHJcblxyXG4vLyBHZXQgYWxsIGJhbm5lcnNcclxuZXhwb3J0IGNvbnN0IGdldEFsbEJhbm5lcnMgPSAoKTogQmFubmVyW10gPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBiYW5uZXJzSnNvbiA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFNUT1JBR0VfS0VZUy5CQU5ORVJTKTtcclxuICAgIGlmICghYmFubmVyc0pzb24pIHJldHVybiBbXTtcclxuICAgIHJldHVybiBKU09OLnBhcnNlKGJhbm5lcnNKc29uKTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgZ2V0dGluZyBiYW5uZXJzIGZyb20gbG9jYWxTdG9yYWdlOicsIGVycm9yKTtcclxuICAgIHJldHVybiBbXTtcclxuICB9XHJcbn07XHJcblxyXG4vLyBHZXQgYmFubmVycyBmb3IgYSBzcGVjaWZpYyBwYWdlXHJcbmV4cG9ydCBjb25zdCBnZXRCYW5uZXJzQnlQYWdlID0gKHBhZ2U6IHN0cmluZyk6IEJhbm5lcltdID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgYmFubmVycyA9IGdldEFsbEJhbm5lcnMoKTtcclxuICAgIHJldHVybiBiYW5uZXJzXHJcbiAgICAgIC5maWx0ZXIoYmFubmVyID0+IGJhbm5lci5wYWdlID09PSBwYWdlKVxyXG4gICAgICAuc29ydCgoYSwgYikgPT4gYS5vcmRlciAtIGIub3JkZXIpOyAvLyBTb3J0IGJ5IG9yZGVyIGZpZWxkXHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIGdldHRpbmcgYmFubmVycyBmb3IgcGFnZSAke3BhZ2V9OmAsIGVycm9yKTtcclxuICAgIHJldHVybiBbXTtcclxuICB9XHJcbn07XHJcblxyXG4vLyBBZGQgYSBuZXcgYmFubmVyXHJcbmV4cG9ydCBjb25zdCBhZGRCYW5uZXIgPSAoYmFubmVyOiBPbWl0PEJhbm5lciwgJ2lkJyB8ICdjcmVhdGVkQXQnIHwgJ3VwZGF0ZWRBdCc+KTogQmFubmVyID0+IHtcclxuICB0cnkge1xyXG4gICAgLy8gVmFsaWRhdGUgYmFubmVyIGRhdGFcclxuICAgIGlmICghYmFubmVyLnBhZ2UgfHwgIWJhbm5lci5pbWFnZVVybCkge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgYmFubmVyIGZpZWxkcycpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEdlbmVyYXRlIElEIGFuZCB0aW1lc3RhbXBzXHJcbiAgICBjb25zdCBpZCA9IGdlbmVyYXRlSWQoKTtcclxuICAgIGNvbnN0IHRpbWVzdGFtcCA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKTtcclxuICAgIFxyXG4gICAgLy8gRW5zdXJlIG9yZGVyIGlzIHNldFxyXG4gICAgaWYgKGJhbm5lci5vcmRlciA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgIGJhbm5lci5vcmRlciA9IDA7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGNvbnN0IG5ld0Jhbm5lcjogQmFubmVyID0ge1xyXG4gICAgICAuLi5iYW5uZXIsXHJcbiAgICAgIGlkLFxyXG4gICAgICBjcmVhdGVkQXQ6IHRpbWVzdGFtcCxcclxuICAgICAgdXBkYXRlZEF0OiB0aW1lc3RhbXBcclxuICAgIH07XHJcbiAgICBcclxuICAgIC8vIFNhdmUgdG8gbG9jYWxTdG9yYWdlXHJcbiAgICBjb25zdCBleGlzdGluZ0Jhbm5lcnMgPSBnZXRBbGxCYW5uZXJzKCk7XHJcbiAgICBjb25zdCB1cGRhdGVkQmFubmVycyA9IFsuLi5leGlzdGluZ0Jhbm5lcnMsIG5ld0Jhbm5lcl07XHJcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShTVE9SQUdFX0tFWVMuQkFOTkVSUywgSlNPTi5zdHJpbmdpZnkodXBkYXRlZEJhbm5lcnMpKTtcclxuICAgIFxyXG4gICAgcmV0dXJuIG5ld0Jhbm5lcjtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgYWRkaW5nIGJhbm5lciB0byBsb2NhbFN0b3JhZ2U6JywgZXJyb3IpO1xyXG4gICAgdGhyb3cgZXJyb3I7XHJcbiAgfVxyXG59O1xyXG5cclxuLy8gVXBkYXRlIGEgYmFubmVyXHJcbmV4cG9ydCBjb25zdCB1cGRhdGVCYW5uZXIgPSAoaWQ6IHN0cmluZywgdXBkYXRlczogUGFydGlhbDxCYW5uZXI+KTogdm9pZCA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IGJhbm5lcnMgPSBnZXRBbGxCYW5uZXJzKCk7XHJcbiAgICBjb25zdCBiYW5uZXJJbmRleCA9IGJhbm5lcnMuZmluZEluZGV4KGIgPT4gYi5pZCA9PT0gaWQpO1xyXG4gICAgXHJcbiAgICBpZiAoYmFubmVySW5kZXggPT09IC0xKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcignQmFubmVyIG5vdCBmb3VuZCcpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBjb25zdCBvbGRCYW5uZXIgPSBiYW5uZXJzW2Jhbm5lckluZGV4XTtcclxuICAgIGNvbnN0IHVwZGF0ZWRCYW5uZXIgPSB7XHJcbiAgICAgIC4uLm9sZEJhbm5lcixcclxuICAgICAgLi4udXBkYXRlcyxcclxuICAgICAgdXBkYXRlZEF0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcclxuICAgIH07XHJcbiAgICBcclxuICAgIC8vIFNhdmUgdG8gbG9jYWxTdG9yYWdlXHJcbiAgICBiYW5uZXJzW2Jhbm5lckluZGV4XSA9IHVwZGF0ZWRCYW5uZXI7XHJcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShTVE9SQUdFX0tFWVMuQkFOTkVSUywgSlNPTi5zdHJpbmdpZnkoYmFubmVycykpO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciB1cGRhdGluZyBiYW5uZXIgaW4gbG9jYWxTdG9yYWdlOicsIGVycm9yKTtcclxuICAgIHRocm93IGVycm9yO1xyXG4gIH1cclxufTtcclxuXHJcbi8vIERlbGV0ZSBhIGJhbm5lclxyXG5leHBvcnQgY29uc3QgZGVsZXRlQmFubmVyID0gKGlkOiBzdHJpbmcpOiB2b2lkID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgYmFubmVycyA9IGdldEFsbEJhbm5lcnMoKTtcclxuICAgIGNvbnN0IGJhbm5lclRvRGVsZXRlID0gYmFubmVycy5maW5kKGIgPT4gYi5pZCA9PT0gaWQpO1xyXG4gICAgXHJcbiAgICBpZiAoIWJhbm5lclRvRGVsZXRlKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcignQmFubmVyIG5vdCBmb3VuZCcpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBjb25zdCBmaWx0ZXJlZEJhbm5lcnMgPSBiYW5uZXJzLmZpbHRlcihiID0+IGIuaWQgIT09IGlkKTtcclxuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFNUT1JBR0VfS0VZUy5CQU5ORVJTLCBKU09OLnN0cmluZ2lmeShmaWx0ZXJlZEJhbm5lcnMpKTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgZGVsZXRpbmcgYmFubmVyIGZyb20gbG9jYWxTdG9yYWdlOicsIGVycm9yKTtcclxuICAgIHRocm93IGVycm9yO1xyXG4gIH1cclxufTtcclxuXHJcbi8vIEVuaGFuY2VkIGltYWdlIHVwbG9hZCBmdW5jdGlvbiB0aGF0IHJldHVybnMgYSBkYXRhIFVSTFxyXG5leHBvcnQgY29uc3QgdXBsb2FkUHJvZHVjdEltYWdlID0gYXN5bmMgKGZpbGU6IEZpbGUpOiBQcm9taXNlPHN0cmluZz4gPT4ge1xyXG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xyXG4gICAgICBcclxuICAgICAgcmVhZGVyLm9ubG9hZCA9ICgpID0+IHtcclxuICAgICAgICBpZiAodHlwZW9mIHJlYWRlci5yZXN1bHQgPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICByZXNvbHZlKHJlYWRlci5yZXN1bHQpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICByZWplY3QobmV3IEVycm9yKCdGYWlsZWQgdG8gcmVhZCBpbWFnZSBmaWxlJykpO1xyXG4gICAgICAgIH1cclxuICAgICAgfTtcclxuICAgICAgXHJcbiAgICAgIHJlYWRlci5vbmVycm9yID0gKCkgPT4ge1xyXG4gICAgICAgIHJlamVjdChuZXcgRXJyb3IoJ0Vycm9yIHJlYWRpbmcgaW1hZ2UgZmlsZScpKTtcclxuICAgICAgfTtcclxuICAgICAgXHJcbiAgICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKGZpbGUpO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgcmVqZWN0KGVycm9yKTtcclxuICAgIH1cclxuICB9KTtcclxufTtcclxuXHJcbi8vIE1ldGhvZCB0byBjbGVhciBhbGwgcHJvZHVjdHNcclxuZXhwb3J0IGNvbnN0IGNsZWFyQWxsUHJvZHVjdHMgPSAoKTogdm9pZCA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKFNUT1JBR0VfS0VZUy5QUk9EVUNUUyk7XHJcbiAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShTVE9SQUdFX0tFWVMuQ0FURUdPUklFUyk7XHJcbiAgICBjb25zb2xlLmxvZygnQWxsIHByb2R1Y3RzIGFuZCBjYXRlZ29yaWVzIGhhdmUgYmVlbiBjbGVhcmVkJyk7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGNsZWFyaW5nIHByb2R1Y3RzOicsIGVycm9yKTtcclxuICB9XHJcbn07XHJcblxyXG4vLyBHZXQgZmVhdHVyZWQgcHJvZHVjdHNcclxuZXhwb3J0IGNvbnN0IGdldEZlYXR1cmVkUHJvZHVjdHMgPSAobGltaXQ6IG51bWJlciA9IDgpOiBQcm9kdWN0W10gPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBwcm9kdWN0cyA9IGdldEFsbFByb2R1Y3RzKCk7XHJcbiAgICByZXR1cm4gcHJvZHVjdHNcclxuICAgICAgLmZpbHRlcihwcm9kdWN0ID0+IHByb2R1Y3QuZmVhdHVyZWQpXHJcbiAgICAgIC5zbGljZSgwLCBsaW1pdCk7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGdldHRpbmcgZmVhdHVyZWQgcHJvZHVjdHM6JywgZXJyb3IpO1xyXG4gICAgcmV0dXJuIFtdO1xyXG4gIH1cclxufTsgIl0sIm5hbWVzIjpbIlNUT1JBR0VfS0VZUyIsIlBST0RVQ1RTIiwiQ0FURUdPUklFUyIsIkJBTk5FUlMiLCJERU1PX0RBVEFfTE9BREVEIiwiZ2VuZXJhdGVJZCIsIkRhdGUiLCJub3ciLCJ0b1N0cmluZyIsIk1hdGgiLCJyYW5kb20iLCJzdWJzdHJpbmciLCJpbml0aWFsaXplTG9jYWxTdG9yYWdlIiwiY29uc29sZSIsImxvZyIsImVycm9yIiwiZ2V0QWxsUHJvZHVjdHMiLCJwcm9kdWN0c0pzb24iLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwiSlNPTiIsInBhcnNlIiwiZ2V0UHJvZHVjdHNCeUNhdGVnb3J5IiwiY2F0ZWdvcnkiLCJwcm9kdWN0cyIsImZpbHRlciIsInByb2R1Y3QiLCJnZXROZXdBcnJpdmFscyIsImxpbWl0Iiwic29ydCIsImEiLCJiIiwiZGF0ZUEiLCJjcmVhdGVkQXQiLCJnZXRUaW1lIiwiZGF0ZUIiLCJzbGljZSIsImdldFByb2R1Y3RCeUlkIiwiaWQiLCJmaW5kIiwicCIsImFkZFByb2R1Y3QiLCJuYW1lIiwicHJpY2UiLCJFcnJvciIsInRpbWVzdGFtcCIsInRvSVNPU3RyaW5nIiwibmV3UHJvZHVjdCIsInVwZGF0ZWRBdCIsInVwZGF0ZWRQcm9kdWN0cyIsInNldEl0ZW0iLCJzdHJpbmdpZnkiLCJ1cGRhdGVDYXRlZ29yeUNvdW50IiwidXBkYXRlUHJvZHVjdCIsInVwZGF0ZXMiLCJwcm9kdWN0SW5kZXgiLCJmaW5kSW5kZXgiLCJvbGRQcm9kdWN0IiwidXBkYXRlZFByb2R1Y3QiLCJkZWxldGVQcm9kdWN0IiwiZmlsdGVyZWRQcm9kdWN0cyIsImdldEFsbENhdGVnb3JpZXMiLCJjYXRlZ29yaWVzSnNvbiIsImNhdGVnb3J5SWQiLCJjaGFuZ2UiLCJjYXRlZ29yaWVzIiwiY2F0ZWdvcnlJbmRleCIsImMiLCJuZXdDb3VudCIsImNvdW50Iiwic3BsaWNlIiwicHVzaCIsImNoYXJBdCIsInRvVXBwZXJDYXNlIiwiZ2V0QWxsQmFubmVycyIsImJhbm5lcnNKc29uIiwiZ2V0QmFubmVyc0J5UGFnZSIsInBhZ2UiLCJiYW5uZXJzIiwiYmFubmVyIiwib3JkZXIiLCJhZGRCYW5uZXIiLCJpbWFnZVVybCIsInVuZGVmaW5lZCIsIm5ld0Jhbm5lciIsImV4aXN0aW5nQmFubmVycyIsInVwZGF0ZWRCYW5uZXJzIiwidXBkYXRlQmFubmVyIiwiYmFubmVySW5kZXgiLCJvbGRCYW5uZXIiLCJ1cGRhdGVkQmFubmVyIiwiZGVsZXRlQmFubmVyIiwiYmFubmVyVG9EZWxldGUiLCJmaWx0ZXJlZEJhbm5lcnMiLCJ1cGxvYWRQcm9kdWN0SW1hZ2UiLCJmaWxlIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJyZWFkZXIiLCJGaWxlUmVhZGVyIiwib25sb2FkIiwicmVzdWx0Iiwib25lcnJvciIsInJlYWRBc0RhdGFVUkwiLCJjbGVhckFsbFByb2R1Y3RzIiwicmVtb3ZlSXRlbSIsImdldEZlYXR1cmVkUHJvZHVjdHMiLCJmZWF0dXJlZCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./utils/localStorage.ts\n");

/***/ }),

/***/ "./styles/MobileEnhancements.css":
/*!***************************************!*\
  !*** ./styles/MobileEnhancements.css ***!
  \***************************************/
/***/ (() => {



/***/ }),

/***/ "./styles/animations.css":
/*!*******************************!*\
  !*** ./styles/animations.css ***!
  \*******************************/
/***/ (() => {



/***/ }),

/***/ "./styles/globals.css":
/*!****************************!*\
  !*** ./styles/globals.css ***!
  \****************************/
/***/ (() => {



/***/ }),

/***/ "next/dist/compiled/next-server/pages.runtime.dev.js":
/*!**********************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages.runtime.dev.js" ***!
  \**********************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/pages.runtime.dev.js");

/***/ }),

/***/ "react":
/*!************************!*\
  !*** external "react" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = require("react");

/***/ }),

/***/ "react-dom":
/*!****************************!*\
  !*** external "react-dom" ***!
  \****************************/
/***/ ((module) => {

"use strict";
module.exports = require("react-dom");

/***/ }),

/***/ "react/jsx-dev-runtime":
/*!****************************************!*\
  !*** external "react/jsx-dev-runtime" ***!
  \****************************************/
/***/ ((module) => {

"use strict";
module.exports = require("react/jsx-dev-runtime");

/***/ }),

/***/ "react/jsx-runtime":
/*!************************************!*\
  !*** external "react/jsx-runtime" ***!
  \************************************/
/***/ ((module) => {

"use strict";
module.exports = require("react/jsx-runtime");

/***/ }),

/***/ "firebase/analytics":
/*!*************************************!*\
  !*** external "firebase/analytics" ***!
  \*************************************/
/***/ ((module) => {

"use strict";
module.exports = import("firebase/analytics");;

/***/ }),

/***/ "firebase/app":
/*!*******************************!*\
  !*** external "firebase/app" ***!
  \*******************************/
/***/ ((module) => {

"use strict";
module.exports = import("firebase/app");;

/***/ }),

/***/ "firebase/auth":
/*!********************************!*\
  !*** external "firebase/auth" ***!
  \********************************/
/***/ ((module) => {

"use strict";
module.exports = import("firebase/auth");;

/***/ }),

/***/ "firebase/firestore":
/*!*************************************!*\
  !*** external "firebase/firestore" ***!
  \*************************************/
/***/ ((module) => {

"use strict";
module.exports = import("firebase/firestore");;

/***/ }),

/***/ "firebase/storage":
/*!***********************************!*\
  !*** external "firebase/storage" ***!
  \***********************************/
/***/ ((module) => {

"use strict";
module.exports = import("firebase/storage");;

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

"use strict";
module.exports = require("fs");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("path");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("stream");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("zlib");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/@swc"], () => (__webpack_exec__("./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES&page=%2F_error&preferredRegion=&absolutePagePath=.%2Fnode_modules%5Cnext%5Cdist%5Cpages%5C_error.js&absoluteAppPath=private-next-pages%2F_app&absoluteDocumentPath=private-next-pages%2F_document&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();