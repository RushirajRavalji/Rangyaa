exports.id=683,exports.ids=[683],exports.modules={9065:e=>{e.exports={adminPanelContainer:"AdminPanel_adminPanelContainer__iSMR9",adminPanelTitle:"AdminPanel_adminPanelTitle__NeaSK",adminTable:"AdminPanel_adminTable__Y_FM2",stockBadge:"AdminPanel_stockBadge__nTsMS",outOfStock:"AdminPanel_outOfStock__6_SDq",adminForm:"AdminPanel_adminForm__tKLUV",adminActionBtn:"AdminPanel_adminActionBtn__rFQBI",edit:"AdminPanel_edit__HZ9z3",resetBtn:"AdminPanel_resetBtn__f4lAC",actionMessage:"AdminPanel_actionMessage__4INW6",success:"AdminPanel_success__BZnM9",error:"AdminPanel_error__brZ1J",info:"AdminPanel_info__BIAeG",spinner:"AdminPanel_spinner___s3lT",spin:"AdminPanel_spin__NZMR9",errorInput:"AdminPanel_errorInput__lBMDF",errorText:"AdminPanel_errorText__JCqIc",adminDashboardGrid:"AdminPanel_adminDashboardGrid__KEUFv",dashboardCard:"AdminPanel_dashboardCard__bb_cE",cardIcon:"AdminPanel_cardIcon__jQZbr",comingSoon:"AdminPanel_comingSoon__3_msR",comingSoonBadge:"AdminPanel_comingSoonBadge__nVDvB",adminHeader:"AdminPanel_adminHeader__C_BmG",backLink:"AdminPanel_backLink__G0QGA",adminControls:"AdminPanel_adminControls__C9JBY",viewToggle:"AdminPanel_viewToggle__wV5BP",viewButton:"AdminPanel_viewButton__Fe4CW",active:"AdminPanel_active__Rs7c9",dateFilter:"AdminPanel_dateFilter__sskXx",dateInputGroup:"AdminPanel_dateInputGroup__zw08X",dateButtons:"AdminPanel_dateButtons__mBH7g",applyButton:"AdminPanel_applyButton__t7iGa",resetButton:"AdminPanel_resetButton__LZ9_P",ordersTableContainer:"AdminPanel_ordersTableContainer__f5I9C",sortableHeader:"AdminPanel_sortableHeader__qPB5J",sortIcon:"AdminPanel_sortIcon__4lwAa",orderRow:"AdminPanel_orderRow__N2YiH",loadingCell:"AdminPanel_loadingCell____sJ7",emptyCell:"AdminPanel_emptyCell__LoqOE",statusBadge:"AdminPanel_statusBadge__gotAq",pending:"AdminPanel_pending__HIRoZ",processing:"AdminPanel_processing__iH9vo",shipped:"AdminPanel_shipped__prSMe",delivered:"AdminPanel_delivered__MpHJY",cancelled:"AdminPanel_cancelled__wAxcD",pagination:"AdminPanel_pagination__2Otwf",paginationButton:"AdminPanel_paginationButton__0mE_2",pageInfo:"AdminPanel_pageInfo__gTFiX",modalOverlay:"AdminPanel_modalOverlay__lY_BL",modalContent:"AdminPanel_modalContent__cfhAn",modalHeader:"AdminPanel_modalHeader__CTj53",closeButton:"AdminPanel_closeButton__fQNWj",modalBody:"AdminPanel_modalBody__ZnMZr",modalFooter:"AdminPanel_modalFooter__zHjRQ",mobileActionBar:"AdminPanel_mobileActionBar__Zjln_",actionButtons:"AdminPanel_actionButtons__uyGi2",adminNav:"AdminPanel_adminNav__XSZU4",mobileCardView:"AdminPanel_mobileCardView__aIt38",mobileCard:"AdminPanel_mobileCard__DhN4c",mobileCardHeader:"AdminPanel_mobileCardHeader__Zkvq5",mobileCardTitle:"AdminPanel_mobileCardTitle__pDuUx",mobileCardRow:"AdminPanel_mobileCardRow__7Rntb",mobileCardLabel:"AdminPanel_mobileCardLabel__OSZ9A",mobileCardValue:"AdminPanel_mobileCardValue__VCLN_",mobileCardActions:"AdminPanel_mobileCardActions__mj11D",horizontalControls:"AdminPanel_horizontalControls__k31fd",searchSection:"AdminPanel_searchSection__pV6yn",searchBox:"AdminPanel_searchBox__zlcak",actionSection:"AdminPanel_actionSection__WAsSC",productCardGrid:"AdminPanel_productCardGrid__XaXVU",imagePreview:"AdminPanel_imagePreview__3y_U9",formGroup:"AdminPanel_formGroup__8Q36E",formActions:"AdminPanel_formActions__71VJi",submitButton:"AdminPanel_submitButton__zng8S",cancelButton:"AdminPanel_cancelButton__DNdTx",formContainer:"AdminPanel_formContainer__kYohq",formGrid:"AdminPanel_formGrid__2fjj5",imageUpload:"AdminPanel_imageUpload__sm56A",uploadButton:"AdminPanel_uploadButton__E7V6j",btnAddNew:"AdminPanel_btnAddNew___GcAl",searchIcon:"AdminPanel_searchIcon__T2y0j",filterSelect:"AdminPanel_filterSelect__NtAvV",statsSection:"AdminPanel_statsSection__Y6414",bannerContainer:"AdminPanel_bannerContainer__oXpw1",bannerCard:"AdminPanel_bannerCard__yzUqq",bannerCardHeader:"AdminPanel_bannerCardHeader__qUOEj",bannerCardTitle:"AdminPanel_bannerCardTitle___Fu8J",bannerCardImage:"AdminPanel_bannerCardImage__4aPgS",bannerCardActions:"AdminPanel_bannerCardActions__gGyh9",productCard:"AdminPanel_productCard__SCons",productCardImage:"AdminPanel_productCardImage__7U9_X",productCardContent:"AdminPanel_productCardContent__jVwtZ",productCardHeader:"AdminPanel_productCardHeader__wcRYG",productCardTitle:"AdminPanel_productCardTitle__PmUQe",productCardPrice:"AdminPanel_productCardPrice__iqVm6",productCardOriginalPrice:"AdminPanel_productCardOriginalPrice__gjGPM",productCardCategory:"AdminPanel_productCardCategory__irDmA",productCardFooter:"AdminPanel_productCardFooter__HXeOw",viewToggleContainer:"AdminPanel_viewToggleContainer__7OHlh",viewToggleLabel:"AdminPanel_viewToggleLabel__lRqTt",viewToggleButtons:"AdminPanel_viewToggleButtons__jjz5Z",viewToggleButton:"AdminPanel_viewToggleButton__l6weS",listView:"AdminPanel_listView__mhfUU",gridView:"AdminPanel_gridView__77q4O",addProductBtn:"AdminPanel_addProductBtn__ZuPs6",addBannerBtn:"AdminPanel_addBannerBtn__L5msX",errorMessage:"AdminPanel_errorMessage__2vgkk",emptyState:"AdminPanel_emptyState__9jXso",emptyFormState:"AdminPanel_emptyFormState__T_XmD",bannerImageGrid:"AdminPanel_bannerImageGrid__0_QlX",bannerImageOption:"AdminPanel_bannerImageOption__54uxz",selected:"AdminPanel_selected__J_UhE",selectedOverlay:"AdminPanel_selectedOverlay__gSq15",uploadContainer:"AdminPanel_uploadContainer__fRPu4",fileInput:"AdminPanel_fileInput__J87Hx",progressContainer:"AdminPanel_progressContainer__8DTfT",progressBar:"AdminPanel_progressBar__Dllin",progressText:"AdminPanel_progressText__vDO4M",customImagePreview:"AdminPanel_customImagePreview__igPFe",customImage:"AdminPanel_customImage__QicxM",fullBannerPreview:"AdminPanel_fullBannerPreview__q1pss",noImagePreview:"AdminPanel_noImagePreview__ZrdEt",previewInfo:"AdminPanel_previewInfo__L2Fh3",previewImage:"AdminPanel_previewImage__pP_qO",editButton:"AdminPanel_editButton__bXZ28",closeModalButton:"AdminPanel_closeModalButton__QY3XW",adminContentSection:"AdminPanel_adminContentSection__nQqA_",tableContainer:"AdminPanel_tableContainer__5wsjE",bannerThumbnail:"AdminPanel_bannerThumbnail__W2SJh",preview:"AdminPanel_preview__6Clpl",formMessage:"AdminPanel_formMessage__HzUPP",emptyIcon:"AdminPanel_emptyIcon__ss6tj",loadingState:"AdminPanel_loadingState__QxbuK",errorState:"AdminPanel_errorState__FFQ2c"}},7683:(e,n,a)=>{"use strict";a.a(e,async(e,l)=>{try{a.r(n),a.d(n,{default:()=>h});var i=a(997),r=a(6689),t=a(6279),s=a(7024),d=a(9065),o=a.n(d),m=a(1664),c=a.n(m),_=a(4066),u=a(6487),g=a(7025),p=e([t,s,g]);[t,s,g]=p.then?(await p)():p;let P={page:"home",imageUrl:"",title:"",subtitle:"",textColor:"#ffffff",order:1},A=[{value:"home",label:"Home Page"},{value:"men",label:"Men's Page"},{value:"products",label:"Products Page"},{value:"sale",label:"Sale Page"},{value:"new-arrivals",label:"New Arrivals Page"}];function h(){let{user:e}=(0,t.a)(),{banners:n,loading:a,error:l,addNewBanner:d,updateExistingBanner:m,removeBanner:p,refreshBanners:h}=(0,s.U)(),[x,b]=(0,r.useState)(!1),[j,C]=(0,r.useState)(!1),[v,f]=(0,r.useState)(P),[B,N]=(0,r.useState)(null),[w,y]=(0,r.useState)({}),[S,I]=(0,r.useState)(null),[T,U]=(0,r.useState)(""),[k,F]=(0,r.useState)("page"),[H,q]=(0,r.useState)("asc"),[G,M]=(0,r.useState)("all"),[$,Z]=(0,r.useState)(null),[O,D]=(0,r.useState)(0),[E,V]=(0,r.useState)(!1),[L,R]=(0,r.useState)(null),X=(0,r.useRef)(null),Q=(0,r.useRef)(null),z=(0,r.useMemo)(()=>n.filter(e=>{if("all"!==G&&e.page!==G)return!1;if(!T.trim())return!0;let n=T.toLowerCase().trim();return!!(e.page.toLowerCase().includes(n)||e.title&&e.title.toLowerCase().includes(n)||e.subtitle&&e.subtitle.toLowerCase().includes(n))}).sort((e,n)=>{let a=e[k],l=n[k];if(void 0===a||void 0===l)return 0;if("string"==typeof a&&"string"==typeof l)return"asc"===H?a.localeCompare(l):l.localeCompare(a);let i=Number(a),r=Number(l);return isNaN(i)||isNaN(r)?0:"asc"===H?i-r:r-i}),[n,G,T,k,H]),J=async()=>{if(!L){y(e=>({...e,imageUrl:"Please select an image to upload"}));return}try{V(!0),D(0);let e=setInterval(()=>{D(n=>n>=90?(clearInterval(e),90):n+10)},200),n=await (0,g.x)(L);f(e=>({...e,imageUrl:n})),clearInterval(e),D(100),setTimeout(()=>{D(0),V(!1),R(null),Q.current&&(Q.current.value="")},1e3)}catch(e){console.error("Error uploading banner image:",e),I({type:"error",message:"Failed to upload image. Please try again."}),V(!1),D(0)}},Y=async e=>{e.preventDefault(),I(null);let a={};if(v.page||(a.page="Page is required"),v.imageUrl||(a.imageUrl="Banner image is required"),Object.keys(a).length>0){y(a);return}try{let e={page:v.page,imageUrl:v.imageUrl,title:v.title||"",subtitle:v.subtitle||"",textColor:v.textColor||"#ffffff",order:v.order||1},a=n.filter(e=>e.page===v.page),l=A.find(e=>e.value===v.page)?.label||v.page;j&&B?(await m(B,e),I({type:"success",message:`Banner for ${l} updated successfully`})):a.length>0?(await m(a[0].id,e),I({type:"success",message:`Banner for ${l} updated successfully`})):(await d(e),I({type:"success",message:`Banner for ${l} added successfully`})),W(),h()}catch(e){I({type:"error",message:e.message||"An error occurred while saving the banner"})}},W=()=>{f(P),N(null),b(!1),C(!1),y({}),I(null),R(null),D(0),Q.current&&(Q.current.value="")},K=e=>{b(!0),C(!0),N(e.id),f({page:e.page,imageUrl:e.imageUrl,title:e.title||"",subtitle:e.subtitle||"",textColor:e.textColor||"#ffffff",order:e.order||1});let n=setTimeout(()=>{window.scrollTo({top:0,behavior:"smooth"})},100);return()=>clearTimeout(n)},ee=async e=>{if(window.confirm("Are you sure you want to delete this banner?"))try{await p(e),B===e&&W(),$&&$.id===e&&Z(null),en("Banner deleted successfully","success")}catch(e){en(e.message||"Failed to delete banner","error")}},en=(e,n)=>{I({type:n,message:e});let a=setTimeout(()=>{I(null)},3e3);return()=>clearTimeout(a)},ea=e=>{k===e?q("asc"===H?"desc":"asc"):(F(e),q("asc"))},el=({banner:e})=>{let n=A.find(n=>n.value===e.page)?.label||e.page;return(0,i.jsxs)("div",{className:o().bannerCard,children:[i.jsx("div",{className:o().bannerCardHeader,children:i.jsx("span",{className:o().bannerCardTitle,children:n})}),e.imageUrl?i.jsx("img",{src:e.imageUrl,alt:`Banner for ${n}`,className:o().bannerCardImage}):i.jsx("div",{className:o().noImage,style:{height:"120px",display:"flex",alignItems:"center",justifyContent:"center"},children:"No Image"}),(0,i.jsxs)("div",{className:o().bannerCardActions,children:[(0,i.jsxs)("button",{onClick:()=>K(e),className:`${o().adminActionBtn} ${o().edit}`,children:[i.jsx(_.fmQ,{})," Edit"]}),(0,i.jsxs)("button",{onClick:()=>ee(e.id),className:o().adminActionBtn,children:[i.jsx(_.Xm5,{})," Delete"]}),(0,i.jsxs)("button",{onClick:()=>Z(e),className:`${o().adminActionBtn} ${o().edit}`,children:[i.jsx(_.dSq,{})," Preview"]})]})]})};return e?.email!=="driger.ray.dranzer@gmail.com"?i.jsx("div",{className:o().adminPanel,children:(0,i.jsxs)("div",{className:"container",children:[i.jsx("h1",{children:"Admin Access Required"}),i.jsx("p",{children:"You need to be logged in as an administrator to view this page."}),e?i.jsx("p",{children:"Your account does not have administrator privileges."}):(0,i.jsxs)("p",{children:["Please ",i.jsx(c(),{href:"/login",children:"login"})," to continue."]})]})}):(0,i.jsxs)("div",{className:o().adminPanelContainer,children:[(0,i.jsxs)("div",{className:o().adminHeader,children:[i.jsx("h1",{className:o().adminPanelTitle,children:"Banner Management"}),(0,i.jsxs)("button",{className:o().addBannerBtn,onClick:()=>b(!0),children:[i.jsx(_.wEH,{})," Add Banner"]})]}),(0,i.jsxs)("div",{className:o().adminNav,children:[i.jsx(c(),{href:"/admin/orders",children:"Dashboard"}),i.jsx(c(),{href:"/admin/products",children:"Products"}),i.jsx(c(),{href:"/admin/banners",className:o().active,children:"Banners"})]}),(0,i.jsxs)("div",{className:o().bannerContainer,children:[i.jsx("h2",{children:j?"Edit Banner":"Add New Banner"}),i.jsx(u.Z,{children:S&&i.jsx("div",{className:`${o().actionMessage} ${o()[S.type]}`,children:S.message})}),i.jsx(u.Z,{children:x?(0,i.jsxs)("form",{ref:X,onSubmit:Y,className:o().adminForm,children:[(0,i.jsxs)("div",{className:o().formGroup,children:[i.jsx("label",{htmlFor:"page",children:"Page *"}),i.jsx("select",{id:"page",name:"page",value:v.page,onChange:e=>{let{name:a,value:l,type:i}=e.target;if("order"===a){let e=parseInt(l)||0;f(n=>({...n,[a]:e}))}else f(e=>({...e,[a]:l}));if(w[a]&&y(e=>({...e,[a]:""})),"page"===a&&l&&(I(null),!j)){let e=n.filter(e=>e.page===l);if(e.length>0){let n=e[0],a=A.find(e=>e.value===l)?.label||l;I({type:"info",message:`A banner already exists for ${a}. It will be updated with your changes.`}),f(e=>({...e,imageUrl:n.imageUrl,title:n.title||"",subtitle:n.subtitle||"",textColor:n.textColor||"#ffffff",order:n.order||1}))}}},className:w.page?o().errorInput:"",children:A.map(e=>i.jsx("option",{value:e.value,children:e.label},e.value))}),w.page&&i.jsx("div",{className:o().errorText,children:w.page})]}),(0,i.jsxs)("div",{className:o().formGroup,children:[i.jsx("label",{children:"Banner Image *"}),(0,i.jsxs)("div",{className:o().uploadContainer,children:[i.jsx("input",{type:"file",accept:"image/*",id:"bannerImage",ref:Q,className:o().fileInput,onChange:e=>{let n=e.target.files?.[0];n&&(R(n),y(e=>({...e,imageUrl:""})))}}),(0,i.jsxs)("label",{htmlFor:"bannerImage",className:o().uploadButton,children:[i.jsx(_.H3h,{})," Select Image"]}),(0,i.jsxs)("button",{type:"button",className:`${o().uploadButton} ${!L||E?o().disabled:""}`,onClick:J,disabled:!L||E,children:[i.jsx(_.DUB,{})," ",E?"Uploading...":"Upload"]})]}),L&&(0,i.jsxs)("div",{className:o().selectedFile,children:["Selected: ",L.name]}),O>0&&i.jsx("div",{className:o().progressContainer,children:i.jsx("div",{className:o().progressBar,style:{width:`${O}%`}})}),v.imageUrl&&i.jsx("div",{className:o().currentImagePreview,children:i.jsx("img",{src:v.imageUrl,alt:"Current Banner",className:o().previewImage})}),w.imageUrl&&i.jsx("div",{className:o().errorText,children:w.imageUrl})]}),(0,i.jsxs)("div",{className:o().formActions,children:[(0,i.jsxs)("button",{type:"submit",className:o().submitButton,disabled:E,children:[i.jsx(_.TvB,{})," ",j?"Update Banner":"Add Banner"]}),(0,i.jsxs)("button",{type:"button",className:o().cancelButton,onClick:W,children:[i.jsx(_.aHS,{})," Cancel"]})]})]}):i.jsx("div",{className:o().emptyFormState,children:'Click "Add Banner" to create a new banner for your website.'})})]}),(0,i.jsxs)("div",{className:o().formContainer,children:[(0,i.jsxs)("div",{className:o().horizontalControls,children:[(0,i.jsxs)("div",{className:o().searchSection,children:[(0,i.jsxs)("div",{className:o().searchBox,children:[i.jsx(_.U41,{className:o().searchIcon}),i.jsx("input",{type:"text",placeholder:"Search banners...",value:T,onChange:e=>U(e.target.value)})]}),(0,i.jsxs)("select",{value:G,onChange:e=>M(e.target.value),className:o().filterSelect,children:[i.jsx("option",{value:"all",children:"All Pages"}),A.map(e=>i.jsx("option",{value:e.value,children:e.label},e.value))]})]}),i.jsx("div",{className:o().statsSection,children:(0,i.jsxs)("h2",{children:["Banners (",z.length,")"]})}),i.jsx("div",{className:o().actionSection,children:(0,i.jsxs)("button",{className:o().addBannerBtn,onClick:()=>{b(!0),window.scrollTo({top:0,behavior:"smooth"})},children:[i.jsx(_.wEH,{})," Add Banner"]})})]}),i.jsx(u.Z,{children:a?i.jsx("div",{className:o().loadingState,children:"Loading banners..."}):l?i.jsx("div",{className:o().errorState,children:l}):0===z.length?i.jsx("div",{className:o().emptyState,children:"No banners found"}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("table",{className:o().adminTable,children:[i.jsx("thead",{children:(0,i.jsxs)("tr",{children:[i.jsx("th",{className:o().imageCell,children:"Image"}),(0,i.jsxs)("th",{onClick:()=>ea("page"),className:o().sortableHeader,children:["Page ",i.jsx(({field:e})=>i.jsx(u.Z,{children:i.jsx("span",{className:o().sortIcon,children:k===e?"asc"===H?i.jsx(_.h3_,{}):i.jsx(_.sF,{}):i.jsx(_.roE,{})})}),{field:"page"})]}),i.jsx("th",{children:"Actions"})]})}),i.jsx("tbody",{children:z.map(e=>(0,i.jsxs)("tr",{children:[i.jsx("td",{className:o().imageCell,children:e.imageUrl?i.jsx("img",{src:e.imageUrl,alt:"Banner",className:o().productThumb}):i.jsx("div",{className:o().noImage,children:"No Image"})}),i.jsx("td",{children:A.find(n=>n.value===e.page)?.label||e.page}),i.jsx("td",{children:(0,i.jsxs)("div",{className:o().actionButtons,children:[(0,i.jsxs)("button",{onClick:()=>K(e),className:`${o().adminActionBtn} ${o().edit}`,children:[i.jsx(_.fmQ,{})," Edit"]}),(0,i.jsxs)("button",{onClick:()=>ee(e.id),className:o().adminActionBtn,children:[i.jsx(_.Xm5,{})," Delete"]}),(0,i.jsxs)("button",{onClick:()=>Z(e),className:`${o().adminActionBtn} ${o().edit}`,children:[i.jsx(_.dSq,{})," Preview"]})]})})]},e.id))})]}),i.jsx("div",{className:o().mobileCardView,children:z.map(e=>i.jsx(el,{banner:e},e.id))})]})})]}),$&&i.jsx("div",{className:o().modalOverlay,onClick:()=>Z(null),children:(0,i.jsxs)("div",{className:o().modalContent,onClick:e=>e.stopPropagation(),children:[(0,i.jsxs)("div",{className:o().modalHeader,children:[i.jsx("h2",{children:"Banner Preview"}),i.jsx("button",{className:o().closeButton,onClick:()=>Z(null),"aria-label":"Close preview",children:i.jsx(_.aHS,{})})]}),(0,i.jsxs)("div",{className:o().modalBody,children:[i.jsx("div",{style:{position:"relative",width:"100%",height:"300px"},children:$.imageUrl?i.jsx("img",{src:$.imageUrl,alt:"Banner Preview",style:{width:"100%",height:"100%",objectFit:"cover"},onError:e=>{console.error("Failed to load banner image"),e.currentTarget.src="/images/banners/banner-1.svg"}}):i.jsx("div",{style:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#f3f4f6",color:"#6b7280"},children:i.jsx("div",{children:"No Image Available"})})}),i.jsx("div",{style:{marginTop:"20px"},children:(0,i.jsxs)("div",{style:{marginBottom:"10px"},children:[i.jsx("strong",{children:"Page:"})," ",A.find(e=>e.value===$.page)?.label||$.page]})})]}),(0,i.jsxs)("div",{className:o().modalFooter,children:[i.jsx("button",{className:o().cancelButton,onClick:()=>Z(null),children:"Close"}),(0,i.jsxs)("button",{className:`${o().adminActionBtn} ${o().edit}`,onClick:()=>{K($),Z(null)},children:[i.jsx(_.fmQ,{})," Edit This Banner"]})]})]})}),i.jsx("div",{className:o().mobileActionBar,children:(0,i.jsxs)("div",{className:o().actionButtons,children:[(0,i.jsxs)("button",{className:`${o().adminActionBtn} ${o().edit}`,onClick:()=>{W(),b(!x),x||window.scrollTo({top:0,behavior:"smooth"})},children:[x?i.jsx(_.aHS,{}):i.jsx(_.wEH,{})," ",x?"Cancel":"Add"]}),!x&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("button",{className:o().adminActionBtn,onClick:()=>{let e=document.querySelector(`.${o().filterSelect}`);e&&e.focus()},children:[i.jsx(_.U41,{})," Filter"]}),z.length>0&&(0,i.jsxs)("button",{className:o().adminActionBtn,onClick:()=>Z(z[0]),children:[i.jsx(_.dSq,{})," Preview"]})]})]})})]})}l()}catch(e){l(e)}})}};